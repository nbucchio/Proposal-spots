<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Proposal Spots — A Curated Archive of Proposal Locations</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant:wght@300;400;500;600&family=Jost:wght@300;400;500&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg:       #F4F1EB;
  --bg2:      #EDEAE2;
  --bg3:      #E8E4DB;
  --white:    #FDFCFA;
  --ink:      #1C1C1C;
  --ink2:     #2E2C2A;
  --mid:      #6B6660;
  --muted:    #9E9890;
  --hairline: #D8D2C8;
  --divider:  #E4E0D8;
  --accent:   #8C7B64;
  --accent2:  #B5A48C;
  --shadow:   rgba(28,28,28,0.06);
}

html { scroll-behavior: smooth; }

body {
  font-family: 'Jost', sans-serif;
  background: var(--bg);
  color: var(--ink);
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

/* ─────────────────────────────────────
   NAVBAR — Fora-style floating pill
───────────────────────────────────── */
nav {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10000;
  height: 52px;
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  padding: 0 8px 0 24px;
  background: rgba(253,252,250,0.97);
  backdrop-filter: blur(28px);
  -webkit-backdrop-filter: blur(28px);
  border: 1px solid rgba(216,210,200,0.7);
  border-radius: 100px;
  width: calc(100% - 48px);
  max-width: 860px;
  box-shadow: 0 2px 20px rgba(28,28,28,0.07), 0 1px 4px rgba(28,28,28,0.04);
  transition: box-shadow 0.3s ease, background 0.3s ease;
}
nav.scrolled {
  box-shadow: 0 4px 32px rgba(28,28,28,0.12), 0 1px 4px rgba(28,28,28,0.05);
  background: rgba(253,252,250,0.99);
}

/* Logo — left column */
.nav-logo {
  font-family: 'Jost', sans-serif;
  font-size: 10.5px;
  font-weight: 500;
  letter-spacing: 0.3em;
  text-transform: uppercase;
  color: var(--ink);
  text-decoration: none;
  white-space: nowrap;
  justify-self: start;
}
.nav-logo:hover { opacity: 0.7; transition: opacity 0.2s; }

/* Links — centre column */
.nav-links {
  display: flex;
  align-items: center;
  gap: 2px;
  justify-self: center;
}
.nav-links a {
  font-family: 'Jost', sans-serif;
  font-size: 11px;
  font-weight: 400;
  letter-spacing: 0.08em;
  color: var(--mid);
  text-decoration: none;
  padding: 7px 14px;
  border-radius: 100px;
  transition: color 0.18s, background 0.18s;
  white-space: nowrap;
}
.nav-links a:hover { color: var(--ink); background: var(--bg2); }
.nav-links a.nav-active { color: var(--ink); font-weight: 500; }

/* CTA — right column */
.nav-right {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 2px;
}
.nav-link-right {
  font-family: 'Jost', sans-serif;
  font-size: 11px;
  font-weight: 400;
  letter-spacing: 0.08em;
  color: var(--mid);
  text-decoration: none;
  padding: 7px 14px;
  border-radius: 100px;
  transition: color 0.18s, background 0.18s;
  white-space: nowrap;
}
.nav-link-right:hover { color: var(--ink); background: var(--bg2); }
.nav-link-right.nav-active { color: var(--ink); font-weight: 500; }
.nav-cta {
  font-family: 'Jost', sans-serif;
  font-size: 10.5px;
  font-weight: 500;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--bg) !important;
  background: var(--ink);
  border-radius: 100px;
  padding: 10px 22px;
  text-decoration: none;
  border: none;
  cursor: pointer;
  transition: background 0.2s, transform 0.15s;
  white-space: nowrap;
  display: inline-block;
}
.nav-cta:hover {
  background: var(--accent);
  transform: scale(1.02);
}

@media (max-width: 680px) {
  nav { padding: 0 6px 0 18px; }
  .nav-links a { padding: 7px 10px; font-size: 10px; }
  .nav-cta { padding: 9px 16px; font-size: 10px; }
}

/* ─────────────────────────────────────
   HERO — LIGHT EDITORIAL
───────────────────────────────────── */
.hero {
  min-height: 100vh;
  background: var(--bg);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 120px 40px 80px;
  position: relative;
  overflow: visible;
}

/* Thin rule above/below eyebrow */
.hero-rule {
  width: 40px; height: 1px;
  background: var(--accent2);
  margin: 0 auto 24px;
  animation: fadeUp 0.8s ease both;
}
.hero-headline {
  animation: fadeUp 0.8s 0.06s ease both;
  margin-bottom: 36px;
}

.hero-content {
  text-align: center;
  max-width: 680px;
}
.hero-eyebrow {
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.28em;
  text-transform: uppercase;
  color: #A55A4A;
  display: block;
  margin-bottom: 24px;
}

.hero-title {
  font-family: 'Cormorant', serif;
  font-size: clamp(44px, 5.5vw, 72px);
  font-weight: 300;
  line-height: 1.1;
  color: var(--ink);
  letter-spacing: 0.01em;
  margin-bottom: 20px;
}
/* Weight contrast — no italic, no color shift */
.hero-title strong {
  font-weight: 500;
}

/* Keep stats below dropdown z-index */
.hero-stats { position: relative; z-index: 1; }

.hero-sub {
  font-family: 'Jost', sans-serif;
  font-size: 13px;
  font-weight: 300;
  letter-spacing: 0.1em;
  color: var(--muted);
  text-transform: uppercase;
  margin-bottom: 52px;
  line-height: 1.6;
}

/* ─────────────────────────────────────
   SEARCH BAR
───────────────────────────────────── */
.search-container {
  width: 100%;
  max-width: 680px;
  position: relative;
  z-index: 9000;
}
.search-container-inner {
  animation: fadeUp 0.8s 0.12s ease both;
}

.search-bar-wrap {
  background: var(--white);
  border: 1px solid var(--hairline);
  display: flex;
  align-items: stretch;
  position: relative;
}

.search-input-wrap {
  flex: 1;
  display: flex;
  align-items: center;
  padding: 0 20px;
  gap: 14px;
  position: relative;
}

.search-icon {
  color: var(--hairline);
  flex-shrink: 0;
  display: flex; align-items: center;
  pointer-events: none;
}
.search-icon svg { width: 15px; height: 15px; stroke-width: 1.5; }

.search-input-inner {
  flex: 1;
  padding: 16px 0;
}
.search-input-inner label {
  display: block;
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 4px;
}
.search-input-inner input {
  display: block;
  width: 100%;
  background: none;
  border: none;
  outline: none;
  font-family: 'Cormorant', serif;
  font-size: 17px;
  font-weight: 400;
  color: var(--ink);
  letter-spacing: 0.02em;
}
.search-input-inner input::placeholder {
  color: var(--hairline);
  font-weight: 300;
}

.search-divider {
  width: 1px;
  background: var(--divider);
  align-self: stretch;
  flex-shrink: 0;
}

.search-btn {
  flex-shrink: 0;
  background: var(--ink);
  color: var(--bg);
  border: none;
  padding: 0 28px;
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  cursor: pointer;
  display: flex; align-items: center; gap: 8px;
  transition: background 0.2s;
}
.search-btn:hover { background: var(--accent); }
.search-btn svg { width: 13px; height: 13px; }

/* Autocomplete */
.autocomplete {
  position: absolute;
  top: calc(100% + 4px);
  left: 0; right: 0;
  background: var(--white);
  border: 1px solid var(--hairline);
  z-index: 9999;
  display: none;
  overflow: hidden;
}
.ac-section-label {
  padding: 10px 18px 6px;
  font-size: 8px;
  font-weight: 400;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: var(--muted);
  border-top: 1px solid var(--divider);
}
.ac-section-label:first-child { border-top: none; }
.autocomplete-item {
  display: flex; align-items: center; gap: 10px;
  padding: 9px 18px;
  font-family: 'Cormorant', serif;
  font-size: 15px;
  font-weight: 400;
  color: var(--ink2);
  cursor: pointer;
  transition: background 0.1s;
  letter-spacing: 0.02em;
}
.autocomplete-item:hover { background: var(--bg); }
.autocomplete-item .ac-icon { font-size: 12px; opacity: 0.4; flex-shrink: 0; }
.autocomplete-item .ac-label { flex: 1; }
.autocomplete-item .ac-sub {
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  letter-spacing: 0.08em;
  color: var(--muted);
}

/* ─────────────────────────────────────
   FILTER PILLS
───────────────────────────────────── */
.filter-pills-row {
  display: flex; align-items: center; gap: 8px;
  margin-top: 12px;
  overflow: visible;
  position: relative;
  z-index: 9000;
}

/* ── Inline expand panels for Vibe / Privacy ── */
.inline-panel {
  display: none;
  background: var(--white);
  border: 1px solid var(--hairline);
  padding: 16px 18px;
  margin-top: 8px;
}
.inline-panel.open { display: block; }
.inline-panel-label {
  font-family: 'Jost', sans-serif;
  font-size: 8px;
  font-weight: 400;
  letter-spacing: 0.24em;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 12px;
}
.inline-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 7px;
}

.pill-btn {
  display: inline-flex; align-items: center; gap: 7px;
  background: transparent;
  border: 1px solid var(--hairline);
  color: var(--mid);
  padding: 8px 16px;
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  cursor: pointer;
  white-space: nowrap;
  flex-shrink: 0;
  transition: border-color 0.15s, color 0.15s, background 0.15s;
}
.pill-btn:hover {
  border-color: var(--ink);
  color: var(--ink);
}
.pill-btn.active {
  border-color: var(--ink);
  color: var(--ink);
  background: var(--bg2);
}
.pill-count {
  font-size: 9px;
  background: var(--ink);
  color: var(--bg);
  padding: 1px 6px;
  letter-spacing: 0.06em;
}
.pill-chevron {
  opacity: 0.5;
  transition: transform 0.18s;
}
.pill-btn.open .pill-chevron { transform: rotate(180deg); }

.dropdown-wrapper { position: relative; }

.dropdown-menu {
  position: fixed;
  background: var(--white);
  border: 1px solid var(--hairline);
  min-width: 220px;
  z-index: 9500;
  opacity: 0;
  transform: translateY(-4px);
  pointer-events: none;
  transition: opacity 0.16s ease, transform 0.16s ease;
  overflow: hidden;
  box-shadow: 0 8px 24px rgba(28,28,28,0.08);
}
.dropdown-menu.open {
  opacity: 1;
  transform: translateY(0);
  pointer-events: all;
}.dropdown-header {
  padding: 12px 16px 8px;
  font-size: 8px;
  font-weight: 400;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: var(--muted);
  border-bottom: 1px solid var(--divider);
}
.dropdown-option {
  display: flex; align-items: center; gap: 11px;
  padding: 10px 16px;
  font-family: 'Cormorant', serif;
  font-size: 15px;
  font-weight: 400;
  color: var(--ink);
  cursor: pointer;
  transition: background 0.1s;
  letter-spacing: 0.02em;
}
.dropdown-option:hover { background: var(--bg); }
.dropdown-option.selected { background: var(--bg2); }

.opt-check {
  width: 14px; height: 14px;
  border: 1px solid var(--hairline);
  flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
  transition: all 0.12s;
}
.dropdown-option.selected .opt-check {
  background: var(--ink); border-color: var(--ink);
}
.dropdown-option.selected .opt-check::after {
  content: '✓'; color: var(--bg); font-size: 9px;
  font-family: 'Jost', sans-serif;
}

.opt-radio {
  width: 14px; height: 14px;
  border: 1px solid var(--hairline);
  border-radius: 50%;
  flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
  transition: border-color 0.12s;
}
.dropdown-option.selected .opt-radio { border-color: var(--ink); }
.dropdown-option.selected .opt-radio::after {
  content: '';
  width: 6px; height: 6px;
  border-radius: 50%;
  background: var(--ink);
}

/* ─────────────────────────────────────
   ACTIVE FILTER TAGS
───────────────────────────────────── */
.active-tags-row {
  display: flex; align-items: center; gap: 8px;
  flex-wrap: wrap;
  margin-top: 12px;
}
.active-tag {
  display: inline-flex; align-items: center; gap: 6px;
  background: var(--bg2);
  border: 1px solid var(--hairline);
  color: var(--ink);
  padding: 4px 10px 4px 12px;
  font-family: 'Jost', sans-serif;
  font-size: 9px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  animation: fadeUp 0.15s ease;
}
.tag-remove {
  width: 13px; height: 13px;
  display: flex; align-items: center; justify-content: center;
  font-size: 9px;
  color: var(--muted);
  cursor: pointer;
  border: 1px solid var(--hairline);
  transition: color 0.12s, border-color 0.12s;
}
.tag-remove:hover { color: var(--ink); border-color: var(--ink); }
.clear-all-btn {
  background: none; border: none;
  font-family: 'Jost', sans-serif;
  font-size: 9px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--muted);
  cursor: pointer;
  text-decoration: underline;
  text-underline-offset: 3px;
  transition: color 0.15s;
}
.clear-all-btn:hover { color: var(--ink); }

/* ─────────────────────────────────────
   HERO STATS
───────────────────────────────────── */
.hero-stats {
  display: flex; align-items: center; gap: 48px;
  margin-top: 56px;
  animation: fadeUp 0.8s 0.2s ease both;
  position: relative;
  z-index: 0;
}
.hero-stat { text-align: center; }
.hero-stat-num {
  font-family: 'Cormorant', serif;
  font-size: 26px;
  font-weight: 300;
  color: var(--ink);
  display: block;
  letter-spacing: 0.04em;
  line-height: 1;
}
.hero-stat-label {
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--muted);
  margin-top: 6px;
  display: block;
}
.hero-stat-div {
  width: 1px; height: 28px;
  background: var(--divider);
}

/* ─────────────────────────────────────
   SECTION STRUCTURE
───────────────────────────────────── */
.section-wrap { background: var(--bg); }
.section-wrap.alt { background: var(--bg2); }
.section-wrap.white { background: var(--white); }

.section {
  max-width: 1200px;
  margin: 0 auto;
  padding: 88px 48px;
}

.section-header {
  display: flex; align-items: flex-end;
  justify-content: space-between;
  margin-bottom: 48px;
}
.section-meta {}
.section-eyebrow {
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.26em;
  text-transform: uppercase;
  color: var(--muted);
  display: block;
  margin-bottom: 10px;
}
.section-title {
  font-family: 'Cormorant', serif;
  font-size: clamp(24px, 3vw, 36px);
  font-weight: 300;
  color: var(--ink);
  line-height: 1.1;
  letter-spacing: 0.01em;
}
.section-title strong { font-weight: 500; }

.section-results {
  font-family: 'Jost', sans-serif;
  font-size: 11px;
  font-weight: 400;
  letter-spacing: 0.1em;
  color: var(--muted);
}
.section-results strong {
  color: var(--ink);
  font-weight: 500;
}  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: var(--muted);
  text-decoration: none;
  border-bottom: 1px solid var(--hairline);
  padding-bottom: 2px;
  transition: color 0.2s, border-color 0.2s;
  white-space: nowrap;
}
.section-link:hover { color: var(--ink); border-color: var(--ink); }

/* ─────────────────────────────────────
   MARKETS GRID
───────────────────────────────────── */
.markets-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
}
.market-card {
  position: relative;
  overflow: hidden;
  cursor: pointer;
  aspect-ratio: 3/4;
  background: var(--bg3);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.market-card:first-child {
  grid-column: span 2;
  grid-row: span 2;
  aspect-ratio: unset;
  min-height: 460px;
}
.market-card:nth-child(4) {
  grid-column: span 2;
  aspect-ratio: 16/9;
}

.market-card-bg {
  position: absolute; inset: 0;
  background-size: cover; background-position: center;
  transition: transform 0.7s cubic-bezier(0.25,0.46,0.45,0.94);
}
.market-card:hover .market-card-bg { transform: scale(1.04); }
.market-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 16px 40px rgba(28,28,28,0.13);
}
.market-card::after {
  content: '';
  position: absolute; inset: 0;
  background: linear-gradient(
    to top,
    rgba(20,19,17,0.65) 0%,
    rgba(20,19,17,0.12) 45%,
    transparent 100%
  );
}
.market-card-info {
  position: absolute; bottom: 0; left: 0; right: 0;
  padding: 20px 22px;
  z-index: 1;
}
.market-card-region {
  font-family: 'Jost', sans-serif;
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.5);
  display: block;
  margin-bottom: 4px;
}
.market-card-name {
  font-family: 'Cormorant', serif;
  font-size: 18px;
  font-weight: 400;
  color: #fff;
  display: block;
  line-height: 1.2;
  letter-spacing: 0.02em;
}
.market-card:first-child .market-card-name { font-size: 24px; }
.market-card-count {
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  letter-spacing: 0.1em;
  color: rgba(255,255,255,0.42);
  margin-top: 5px;
  display: block;
}
/* flat matte bg tones */
.mc-amalfi   { background: #28342c; }
.mc-santorini{ background: #1e2835; }
.mc-tulum    { background: #2a321e; }
.mc-costarica{ background: #1e2c1a; }
.mc-bali     { background: #2c2018; }
.mc-maldives { background: #162430; }
.mc-algarve  { background: #30281a; }
.mc-france   { background: #282034; }
.mc-swiss    { background: #1e2830; }
.mc-fiji     { background: #162c26; }

/* ─────────────────────────────────────
   COLLECTIONS
───────────────────────────────────── */
.collections-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  border: 1px solid var(--divider);
}
.collection-card {
  padding: 32px 28px 36px;
  border-right: 1px solid var(--divider);
  cursor: pointer;
  transition: background 0.2s;
  position: relative;
}
.collection-card:last-child { border-right: none; }
.collection-card:hover { background: var(--white); }

.collection-num {
  font-family: 'Cormorant', serif;
  font-size: 13px;
  font-weight: 300;
  color: var(--muted);
  display: block;
  margin-bottom: 20px;
  letter-spacing: 0.04em;
}
.collection-name {
  font-family: 'Cormorant', serif;
  font-size: 20px;
  font-weight: 400;
  color: var(--ink);
  margin-bottom: 10px;
  line-height: 1.2;
  letter-spacing: 0.01em;
}
.collection-desc {
  font-size: 12px;
  font-weight: 300;
  color: var(--mid);
  line-height: 1.75;
  letter-spacing: 0.02em;
}
.collection-link {
  display: block;
  margin-top: 20px;
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: var(--muted);
  transition: color 0.2s;
}
.collection-card:hover .collection-link { color: var(--ink); }

/* ─────────────────────────────────────
   SPOT CARDS
───────────────────────────────────── */
.spots-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
}
.spot-card {
  background: var(--white);
  border: 1px solid var(--divider);
  overflow: hidden;
  cursor: pointer;
  transition: box-shadow 0.25s;
}
.spot-card:hover {
  box-shadow: 0 8px 32px var(--shadow);
}
.spot-card-img {
  aspect-ratio: 4/3;
  background: var(--bg3);
  position: relative;
  overflow: hidden;
}
.img-bg {
  position: absolute; inset: 0;
  background-size: cover; background-position: center;
  transition: transform 0.5s ease;
}
.spot-card:hover .img-bg { transform: scale(1.04); }
.spot-card-badge {
  position: absolute; top: 12px; left: 12px;
  background: var(--ink);
  color: var(--bg);
  font-family: 'Jost', sans-serif;
  font-size: 8px;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  padding: 4px 10px;
  z-index: 1;
}
.spot-save {
  position: absolute; top: 12px; right: 12px;
  width: 28px; height: 28px;
  background: rgba(253,252,250,0.9);
  display: flex; align-items: center; justify-content: center;
  font-size: 12px;
  z-index: 1;
  cursor: pointer;
  transition: background 0.15s;
}
.spot-save:hover { background: var(--white); }
.spot-card-body { padding: 18px 20px 22px; }
.spot-card-market {
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--muted);
  display: block;
  margin-bottom: 7px;
}
.spot-card-name {
  font-family: 'Cormorant', serif;
  font-size: 18px;
  font-weight: 400;
  color: var(--ink);
  margin-bottom: 8px;
  line-height: 1.25;
  letter-spacing: 0.02em;
}
.spot-card-summary {
  font-size: 12px;
  font-weight: 300;
  color: var(--mid);
  line-height: 1.65;
  letter-spacing: 0.02em;
  margin-bottom: 12px;
}
.spot-card-tags {
  display: flex; flex-wrap: wrap; gap: 5px;
  margin-bottom: 14px;
}
.spot-card-tag {
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  padding: 3px 9px;
  border: 1px solid var(--divider);
  color: var(--muted);
}
.spot-card-footer {
  display: flex; align-items: center; justify-content: space-between;
  padding-top: 12px;
  border-top: 1px solid var(--divider);
}
.spot-card-budget {
  font-family: 'Cormorant', serif;
  font-size: 15px;
  font-weight: 400;
  color: var(--ink);
  letter-spacing: 0.06em;
}
.spot-card-privacy {
  font-size: 10px;
  font-weight: 300;
  letter-spacing: 0.06em;
  color: var(--muted);
}

/* ─────────────────────────────────────
   SEO SECTION
───────────────────────────────────── */
.seo-inner {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 96px;
  align-items: center;
}
.seo-text h2 {
  font-family: 'Cormorant', serif;
  font-size: clamp(26px, 3vw, 34px);
  font-weight: 300;
  color: var(--ink);
  line-height: 1.25;
  margin-bottom: 20px;
  letter-spacing: 0.01em;
}
.seo-text h2 strong { font-weight: 500; }
.seo-text p {
  font-size: 13px;
  font-weight: 300;
  color: var(--mid);
  line-height: 1.9;
  letter-spacing: 0.02em;
  margin-bottom: 14px;
}
.seo-links {
  display: flex; flex-wrap: wrap; gap: 8px;
  margin-top: 28px;
}
.seo-link {
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  padding: 6px 14px;
  border: 1px solid var(--divider);
  color: var(--mid);
  text-decoration: none;
  background: var(--white);
  transition: border-color 0.15s, color 0.15s;
}
.seo-link:hover { border-color: var(--ink); color: var(--ink); }
.seo-numbers {
  display: grid;
  grid-template-columns: 1fr 1fr;
  border: 1px solid var(--divider);
}
.seo-num-card {
  padding: 28px 24px;
  border-right: 1px solid var(--divider);
  border-bottom: 1px solid var(--divider);
}
.seo-num-card:nth-child(2) { border-right: none; }
.seo-num-card:nth-child(3) { border-bottom: none; }
.seo-num-card:nth-child(4) { border-right: none; border-bottom: none; }
.seo-n {
  font-family: 'Cormorant', serif;
  font-size: 36px;
  font-weight: 300;
  color: var(--ink);
  display: block;
  letter-spacing: 0.02em;
  line-height: 1;
}
.seo-l {
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--muted);
  margin-top: 8px;
  display: block;
}

/* ─────────────────────────────────────
   FAQ
───────────────────────────────────── */
.faq-wrap {
  display: grid;
  grid-template-columns: 280px 1fr;
  gap: 80px;
  align-items: start;
}
.faq-title {
  font-family: 'Cormorant', serif;
  font-size: 38px;
  font-weight: 300;
  line-height: 1.15;
  color: var(--ink);
  margin-top: 12px;
}
.faq-title strong { font-weight: 500; }
.faq-list {
  border-top: 1px solid var(--divider);
}
.faq-item {
  border-bottom: 1px solid var(--divider);
}
.faq-q {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 24px;
  padding: 22px 0;
  background: none;
  border: none;
  cursor: pointer;
  text-align: left;
}
.faq-q span {
  font-family: 'Jost', sans-serif;
  font-size: 13px;
  font-weight: 400;
  letter-spacing: 0.02em;
  color: var(--ink);
  line-height: 1.5;
}
.faq-icon {
  font-size: 20px;
  font-weight: 200;
  color: var(--accent2);
  flex-shrink: 0;
  line-height: 1;
  transition: transform 0.25s ease;
  width: 20px;
  text-align: center;
}
.faq-item.open .faq-icon {
  transform: rotate(45deg);
  color: var(--ink);
}
.faq-item.open .faq-q span {
  color: var(--ink);
  font-weight: 500;
}
.faq-a {
  display: none;
  padding: 0 40px 24px 0;
}
.faq-item.open .faq-a {
  display: block;
}
.faq-a p {
  font-family: 'Jost', sans-serif;
  font-size: 13px;
  font-weight: 300;
  color: var(--mid);
  line-height: 1.8;
  letter-spacing: 0.02em;
}
.faq-inline-link {
  background: none;
  border: none;
  border-bottom: 1px solid var(--accent2);
  color: var(--ink);
  font-family: 'Jost', sans-serif;
  font-size: 13px;
  font-weight: 400;
  cursor: pointer;
  padding: 0;
  letter-spacing: 0.02em;
}
.faq-inline-link:hover { border-color: var(--ink); }
@media (max-width: 860px) {
  .faq-wrap { grid-template-columns: 1fr; gap: 32px; }
  .faq-title { font-size: 30px; }
}
.filter-overlay {
  position: fixed; inset: 0;
  background: rgba(28,28,28,0.3);
  z-index: 9998;
  opacity: 0; pointer-events: none;
  transition: opacity 0.28s;
}
.filter-overlay.open { opacity: 1; pointer-events: all; }

.filter-panel {
  position: fixed;
  background: var(--bg);
  z-index: 9999;
  overflow-y: auto;
}
@media (min-width: 768px) {
  .filter-panel {
    top: 0; right: 0; bottom: 0;
    width: 400px;
    border-left: 1px solid var(--divider);
    transform: translateX(100%);
    opacity: 0;
    transition: transform 0.32s cubic-bezier(0.4,0,0.2,1), opacity 0.32s;
  }
  .filter-panel.open { transform: translateX(0); opacity: 1; }
}
@media (max-width: 767px) {
  .filter-panel {
    bottom: 0; left: 0; right: 0;
    max-height: 90vh;
    border-top: 1px solid var(--divider);
    transform: translateY(100%);
    opacity: 0;
    transition: transform 0.32s cubic-bezier(0.4,0,0.2,1), opacity 0.32s;
  }
  .filter-panel.open { transform: translateY(0); opacity: 1; }
}

.panel-head {
  display: flex; align-items: center; justify-content: space-between;
  padding: 28px 32px 24px;
  border-bottom: 1px solid var(--divider);
  position: sticky; top: 0;
  background: var(--bg);
  z-index: 1;
}
.panel-head h2 {
  font-family: 'Cormorant', serif;
  font-size: 20px;
  font-weight: 400;
  letter-spacing: 0.04em;
}
.panel-close {
  width: 30px; height: 30px;
  border: 1px solid var(--hairline);
  background: none;
  display: flex; align-items: center; justify-content: center;
  font-size: 13px;
  color: var(--muted);
  cursor: pointer;
  transition: border-color 0.15s, color 0.15s;
}
.panel-close:hover { border-color: var(--ink); color: var(--ink); }

.panel-body { padding: 28px 32px; }

.filter-group { margin-bottom: 32px; }
.filter-group-title {
  font-size: 8px;
  font-weight: 400;
  letter-spacing: 0.24em;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 14px;
  display: flex; align-items: center; gap: 12px;
}
.filter-group-title::after {
  content: ''; flex: 1; height: 1px; background: var(--divider);
}
.filter-tags { display: flex; flex-wrap: wrap; gap: 7px; }
.filter-tag {
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  padding: 7px 14px;
  border: 1px solid var(--hairline);
  color: var(--mid);
  cursor: pointer;
  transition: all 0.15s;
}
.filter-tag:hover { border-color: var(--ink); color: var(--ink); }
.filter-tag.selected { background: var(--ink); border-color: var(--ink); color: var(--bg); }

.filter-radio-group { display: flex; flex-direction: column; gap: 2px; }
.filter-radio {
  display: flex; align-items: center; gap: 12px;
  padding: 10px 10px;
  font-family: 'Cormorant', serif;
  font-size: 15px;
  font-weight: 400;
  color: var(--ink);
  letter-spacing: 0.02em;
  cursor: pointer;
  transition: background 0.1s;
}
.filter-radio:hover { background: var(--bg2); }
.filter-radio.selected { background: var(--bg3); }
.radio-dot {
  width: 14px; height: 14px;
  border: 1px solid var(--hairline);
  border-radius: 50%; flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
}
.filter-radio.selected .radio-dot { border-color: var(--ink); }
.filter-radio.selected .radio-dot::after {
  content: ''; width: 6px; height: 6px;
  border-radius: 50%; background: var(--ink);
}
.toggle-row {
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 0;
  border-bottom: 1px solid var(--divider);
}
.toggle-row:last-child { border-bottom: none; }
.toggle-label {
  font-size: 12px;
  font-weight: 300;
  letter-spacing: 0.04em;
  color: var(--ink);
}
.toggle {
  width: 38px; height: 20px;
  background: var(--hairline);
  position: relative;
  cursor: pointer;
  transition: background 0.2s;
  flex-shrink: 0;
}
.toggle.on { background: var(--ink); }
.toggle::after {
  content: '';
  position: absolute;
  width: 14px; height: 14px;
  background: var(--white);
  top: 3px; left: 3px;
  transition: transform 0.2s;
}
.toggle.on::after { transform: translateX(18px); }

.panel-footer {
  padding: 20px 32px;
  border-top: 1px solid var(--divider);
  display: flex; gap: 10px;
  position: sticky; bottom: 0;
  background: var(--bg);
}
.btn-clear {
  flex: 1; padding: 12px;
  border: 1px solid var(--hairline);
  background: none;
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--muted);
  cursor: pointer;
  transition: all 0.15s;
}
.btn-clear:hover { border-color: var(--ink); color: var(--ink); }
.btn-apply {
  flex: 2; padding: 12px;
  border: none;
  background: var(--ink);
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: var(--bg);
  cursor: pointer;
  transition: background 0.2s;
}
.btn-apply:hover { background: var(--accent); }

/* ─────────────────────────────────────
   FOOTER
───────────────────────────────────── */
footer {
  background: var(--ink);
  padding: 72px 48px 40px;
}
.footer-inner { max-width: 1200px; margin: 0 auto; }
.footer-top {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr;
  gap: 64px;
  padding-bottom: 48px;
  border-bottom: 1px solid rgba(244,241,235,0.08);
  margin-bottom: 28px;
}
.footer-wordmark {
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  font-weight: 500;
  letter-spacing: 0.3em;
  text-transform: uppercase;
  color: rgba(244,241,235,0.9);
  display: block;
  margin-bottom: 16px;
}
.footer-brand p {
  font-size: 12px;
  font-weight: 300;
  letter-spacing: 0.03em;
  line-height: 1.8;
  color: rgba(244,241,235,0.35);
  max-width: 220px;
}
.footer-col h4 {
  font-size: 8px;
  font-weight: 400;
  letter-spacing: 0.24em;
  text-transform: uppercase;
  color: rgba(244,241,235,0.3);
  margin-bottom: 18px;
}
.footer-col a {
  display: block;
  font-size: 12px;
  font-weight: 300;
  letter-spacing: 0.04em;
  color: rgba(244,241,235,0.5);
  text-decoration: none;
  margin-bottom: 11px;
  transition: color 0.15s;
}
.footer-col a:hover { color: rgba(244,241,235,0.85); }
.footer-bottom {
  display: flex; justify-content: space-between; align-items: center;
  font-size: 10px;
  letter-spacing: 0.08em;
  color: rgba(244,241,235,0.2);
}

/* ─────────────────────────────────────
   ANIMATIONS
───────────────────────────────────── */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(12px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ─────────────────────────────────────
   RESPONSIVE
───────────────────────────────────── */
@media (max-width: 1024px) {
  .markets-grid { grid-template-columns: repeat(3, 1fr); }
  .market-card:nth-child(4) { grid-column: span 1; aspect-ratio: 3/4; }
  .collections-grid { grid-template-columns: repeat(2, 1fr); }
  .collection-card:nth-child(2) { border-right: none; }
  .collection-card:nth-child(3) { border-top: 1px solid var(--divider); }
  .spots-grid { grid-template-columns: repeat(2, 1fr); }
  .seo-inner { gap: 56px; }
  .footer-top { grid-template-columns: 1fr 1fr; gap: 40px; }
}
@media (max-width: 768px) {
  nav { padding: 0 8px 0 18px; width: calc(100% - 32px); }
  .nav-links { display: none; }
  .hero { padding: 96px 20px 64px; }
  .hero-stats { gap: 28px; }
  .section { padding: 64px 20px; }
  .markets-grid { grid-template-columns: repeat(2, 1fr); }
  .market-card:first-child { min-height: 280px; }
  .collections-grid { grid-template-columns: 1fr 1fr; }
  .spots-grid { grid-template-columns: 1fr; }
  .seo-inner { grid-template-columns: 1fr; gap: 40px; }
  .footer-top { grid-template-columns: 1fr 1fr; }
  .section-header { flex-direction: column; align-items: flex-start; gap: 14px; }
  .search-btn { padding: 0 18px; }
  .filter-pills-row { overflow-x: auto; scrollbar-width: none; }
  .filter-pills-row::-webkit-scrollbar { display: none; }
}
@media (max-width: 480px) {
  .markets-grid { grid-template-columns: 1fr; }
  .market-card:first-child,
  .market-card:nth-child(4) { grid-column: span 1; }
  .collections-grid { grid-template-columns: 1fr; }
  .collection-card { border-right: none; border-bottom: 1px solid var(--divider); }
  .footer-top { grid-template-columns: 1fr; }
}

<style>

/* ═══════════════════════════════════════════════════════════
   PAGE SYSTEM
═══════════════════════════════════════════════════════════ */
.page { display: none !important; }
.page.active { display: block !important; }

.pg-eyebrow {
  font-family: 'Jost', sans-serif;
  font-size: 9px; font-weight: 400;
  letter-spacing: 0.32em; text-transform: uppercase;
  color: #A55A4A; display: block; margin-bottom: 18px;
}

/* Shared dark hero */
.pg-dark-hero { position: relative; min-height: 70vh; display: flex; align-items: flex-end; overflow: hidden; padding-top: 80px; }
.pg-dark-hero-bg { position: absolute; inset: 0; }
.pg-dark-hero-bg::after { content:''; position:absolute; inset:0; background: linear-gradient(to top, rgba(0,0,0,0.72) 0%, rgba(0,0,0,0.2) 60%, transparent 100%); }
.pg-dark-hero-content { position: relative; z-index: 1; padding: 64px 80px; max-width: 860px; }
.pg-dark-hero-title { font-family: 'Cormorant', serif; font-size: clamp(44px, 7vw, 88px); font-weight: 300; color: rgba(253,252,250,0.96); line-height: 1.0; letter-spacing: 0.01em; margin-bottom: 16px; }
.pg-dark-hero-sub { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: rgba(244,241,235,0.5); letter-spacing: 0.06em; line-height: 1.8; max-width: 460px; }

/* Shared CTA */
.pg-cta-strip { text-align: center; padding: 88px 40px; background: var(--bg2); }
.pg-cta-strip-title { font-family: 'Cormorant', serif; font-size: clamp(26px, 4vw, 48px); font-weight: 300; color: var(--ink); line-height: 1.25; margin-bottom: 14px; }
.pg-cta-strip-sub { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); letter-spacing: 0.04em; margin-bottom: 32px; }
.pg-cta-btn { font-family: 'Jost', sans-serif; font-size: 10px; font-weight: 400; letter-spacing: 0.2em; text-transform: uppercase; background: var(--ink); color: var(--bg); border: none; padding: 14px 36px; cursor: pointer; transition: background 0.2s; }
.pg-cta-btn:hover { background: #A55A4A; }

/* ═══ MAP ═══ */
.pg-map-wrap { padding-top: 92px; min-height: 100vh; background: var(--bg); display: flex; flex-direction: column; }
.pg-map-header { text-align: center; padding: 40px 40px 28px; border-bottom: 1px solid var(--divider); }
.pg-map-header-title { font-family: 'Cormorant', serif; font-size: clamp(32px, 4.5vw, 56px); font-weight: 300; color: var(--ink); line-height: 1.1; letter-spacing: 0.01em; }
.pg-map-header-title em { font-style: italic; font-weight: 400; }
.pg-map-body { display: grid; grid-template-columns: 1fr 320px; flex: 1; min-height: calc(100vh - 240px); }
.map-canvas { position: relative; background: #ddd8ce; overflow: hidden; }
.map-canvas-bg { position: absolute; inset: 0; background: radial-gradient(ellipse at 48% 52%, #ccc5b5 0%, #bfb8a8 40%, #b0a898 100%); }
.map-canvas-bg::after { content:''; position:absolute; inset:0; background-image: repeating-linear-gradient(0deg, transparent, transparent 39px, rgba(255,255,255,0.07) 40px), repeating-linear-gradient(90deg, transparent, transparent 39px, rgba(255,255,255,0.07) 40px); }
.map-canvas-label { position: absolute; top: 20px; left: 24px; font-family: 'Jost', sans-serif; font-size: 9px; font-weight: 400; letter-spacing: 0.22em; text-transform: uppercase; color: rgba(40,30,20,0.3); }
.map-canvas-note { position: absolute; bottom: 20px; left: 24px; font-family: 'Jost', sans-serif; font-size: 10px; font-weight: 300; color: rgba(40,30,20,0.35); letter-spacing: 0.04em; }
.map-pins { position: absolute; inset: 0; }
.mpin { position: absolute; transform: translate(-50%,-100%); cursor: pointer; transition: transform 0.2s; text-align: center; }
.mpin:hover { transform: translate(-50%,-100%) scale(1.15); z-index: 10; }
.mpin-dot { width: 14px; height: 14px; background: #A55A4A; border: 2.5px solid rgba(253,252,250,0.9); border-radius: 50%; margin: 0 auto 5px; box-shadow: 0 3px 12px rgba(165,90,74,0.45); }
.mpin-cluster .mpin-dot { width: 22px; height: 22px; background: var(--ink); position: relative; display: flex; align-items: center; justify-content: center; }
.mpin-cluster-num { font-family: 'Jost', sans-serif; font-size: 9px; font-weight: 400; color: var(--bg); position: absolute; }
.mpin-label { font-family: 'Jost', sans-serif; font-size: 9px; font-weight: 500; letter-spacing: 0.1em; text-transform: uppercase; color: var(--ink); background: rgba(253,252,250,0.92); padding: 3px 9px; white-space: nowrap; border: 1px solid rgba(165,90,74,0.2); box-shadow: 0 2px 8px rgba(28,28,28,0.08); }
.map-spot-preview { position: absolute; bottom: 24px; left: 24px; width: 300px; background: var(--white); border: 1px solid var(--divider); box-shadow: 0 12px 40px rgba(28,28,28,0.14); z-index: 20; animation: fadeUp 0.22s ease both; }
.msp-img { height: 170px; position: relative; overflow: hidden; }
.msp-img-bg { position: absolute; inset: 0; }
.msp-img-overlay { position: absolute; inset: 0; background: linear-gradient(to top, rgba(0,0,0,0.5) 0%, transparent 60%); }
.msp-img-loc { position: absolute; bottom: 12px; left: 14px; font-family: 'Jost', sans-serif; font-size: 9px; letter-spacing: 0.18em; text-transform: uppercase; color: rgba(255,255,255,0.7); }
.msp-close { position: absolute; top: 10px; right: 10px; width: 26px; height: 26px; background: rgba(253,252,250,0.9); border: 1px solid var(--hairline); font-size: 11px; color: var(--mid); cursor: pointer; display: flex; align-items: center; justify-content: center; }
.msp-body { padding: 18px 18px 20px; }
.msp-region { font-family: 'Jost', sans-serif; font-size: 9px; letter-spacing: 0.2em; text-transform: uppercase; color: var(--muted); display: block; margin-bottom: 7px; }
.msp-name { font-family: 'Cormorant', serif; font-size: 17px; font-weight: 400; color: var(--ink); margin-bottom: 10px; line-height: 1.25; }
.msp-tags { display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 16px; }
.msp-tags span { font-family: 'Jost', sans-serif; font-size: 9px; letter-spacing: 0.08em; color: var(--mid); border: 1px solid var(--hairline); padding: 3px 9px; }
.msp-cta { font-family: 'Jost', sans-serif; font-size: 10px; font-weight: 400; letter-spacing: 0.16em; text-transform: uppercase; color: var(--ink); text-decoration: none; border-bottom: 1px solid var(--ink); padding-bottom: 1px; display: inline-block; transition: color 0.15s, border-color 0.15s; }
.msp-cta:hover { color: #A55A4A; border-color: #A55A4A; }
.map-filters { background: var(--white); border-left: 1px solid var(--divider); display: flex; flex-direction: column; overflow-y: auto; }
.mf-head { padding: 28px 24px 20px; border-bottom: 1px solid var(--divider); position: sticky; top: 0; background: var(--white); z-index: 1; }
.mf-head-title { font-family: 'Cormorant', serif; font-size: 18px; font-weight: 300; color: var(--ink); margin-bottom: 4px; }
.mf-head-count { font-family: 'Jost', sans-serif; font-size: 10px; font-weight: 300; color: var(--muted); letter-spacing: 0.08em; }
.mf-body { padding: 20px 24px; flex: 1; }
.mf-group { margin-bottom: 28px; }
.mf-label { font-family: 'Jost', sans-serif; font-size: 8px; font-weight: 400; letter-spacing: 0.28em; text-transform: uppercase; color: var(--muted); margin-bottom: 10px; }
.mf-tags { display: flex; flex-wrap: wrap; gap: 6px; }
.mf-tag { font-family: 'Jost', sans-serif; font-size: 10px; font-weight: 300; letter-spacing: 0.06em; padding: 5px 11px; border: 1px solid var(--hairline); color: var(--mid); cursor: pointer; transition: all 0.15s; }
.mf-tag:hover { border-color: var(--ink); color: var(--ink); }
.mf-tag.on { background: var(--ink); border-color: var(--ink); color: var(--bg); }

/* ═══ INSPIRATION ═══ */
.pg-inspiration { padding-top: 80px; background: var(--bg); }
.insp-hero-bg { background: linear-gradient(140deg, #141008 0%, #1e1810 40%, #2a2018 100%); }
.insp-intro { max-width: 640px; margin: 0 auto; padding: 72px 40px; text-align: center; border-bottom: 1px solid var(--divider); }
.insp-intro-text { font-family: 'Cormorant', serif; font-size: clamp(18px, 2.2vw, 24px); font-weight: 300; color: var(--mid); line-height: 1.7; letter-spacing: 0.01em; font-style: italic; }
.insp-stories { max-width: 1200px; margin: 0 auto; padding: 0 40px; }
.insp-story { display: grid; grid-template-columns: 1fr 1fr; min-height: 560px; border-bottom: 1px solid var(--divider); }
.insp-story.rev { direction: rtl; }
.insp-story.rev > * { direction: ltr; }
.insp-story-img { position: relative; overflow: hidden; min-height: 480px; }
.insp-story-img-bg { position: absolute; inset: 0; transition: transform 0.6s ease; }
.insp-story:hover .insp-story-img-bg { transform: scale(1.04); }
.insp-story-loc { position: absolute; bottom: 20px; left: 20px; font-family: 'Jost', sans-serif; font-size: 9px; letter-spacing: 0.2em; text-transform: uppercase; color: rgba(255,255,255,0.55); background: rgba(0,0,0,0.28); padding: 5px 10px; backdrop-filter: blur(6px); }
.insp-story-body { padding: 64px 60px; background: var(--white); display: flex; flex-direction: column; justify-content: center; }
.insp-story-eyebrow { font-family: 'Jost', sans-serif; font-size: 9px; letter-spacing: 0.26em; text-transform: uppercase; color: #A55A4A; display: block; margin-bottom: 14px; }
.insp-story-title { font-family: 'Cormorant', serif; font-size: clamp(24px, 2.8vw, 34px); font-weight: 400; color: var(--ink); line-height: 1.2; margin-bottom: 22px; letter-spacing: 0.01em; }
.insp-story-text { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); line-height: 1.95; letter-spacing: 0.02em; margin-bottom: 28px; }
.insp-story-meta { display: flex; gap: 8px; flex-wrap: wrap; }
.insp-story-meta span { font-family: 'Jost', sans-serif; font-size: 9px; letter-spacing: 0.1em; color: var(--muted); border: 1px solid var(--hairline); padding: 4px 10px; }

/* ═══ HOW IT WORKS ═══ */
.pg-hiw { padding-top: 92px; background: var(--bg); }
.hiw-header { text-align: center; padding: 64px 40px 0; max-width: 720px; margin: 0 auto; }
.hiw-title { font-family: 'Cormorant', serif; font-size: clamp(40px, 5.5vw, 68px); font-weight: 300; color: var(--ink); line-height: 1.1; margin-bottom: 20px; }
.hiw-title strong { font-weight: 500; }
.hiw-sub { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); line-height: 1.8; letter-spacing: 0.03em; }
.hiw-flow { max-width: 800px; margin: 80px auto 0; padding: 0 40px; }
.hiw-step { display: grid; grid-template-columns: 56px 2px 1fr; gap: 0 28px; padding-bottom: 56px; }
.hiw-step:last-child { padding-bottom: 0; }
.hiw-step-num { font-family: 'Cormorant', serif; font-size: 12px; font-weight: 300; letter-spacing: 0.08em; color: var(--muted); text-align: right; padding-top: 3px; }
.hiw-step-track { position: relative; width: 2px; background: var(--divider); }
.hiw-step-track::before { content: ''; position: absolute; top: 0; left: 50%; transform: translateX(-50%); width: 8px; height: 8px; border: 1.5px solid #A55A4A; border-radius: 50%; background: var(--bg); margin-top: -1px; }
.hiw-step:last-child .hiw-step-track { background: transparent; }
.hiw-step-content { padding-left: 8px; padding-bottom: 8px; }
.hiw-step-icon { font-size: 18px; color: #A55A4A; opacity: 0.65; margin-bottom: 10px; }
.hiw-step-title { font-family: 'Cormorant', serif; font-size: 26px; font-weight: 400; color: var(--ink); margin-bottom: 12px; }
.hiw-step-body { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); line-height: 1.88; letter-spacing: 0.02em; }
.hiw-trust { background: var(--ink); margin-top: 72px; padding: 56px 40px; }
.hiw-trust-inner { max-width: 800px; margin: 0 auto; display: flex; align-items: center; justify-content: center; gap: 56px; }
.hiw-trust-stat { text-align: center; }
.hiw-trust-num { font-family: 'Cormorant', serif; font-size: 40px; font-weight: 300; color: var(--bg); letter-spacing: 0.04em; display: block; }
.hiw-trust-label { font-family: 'Jost', sans-serif; font-size: 9px; font-weight: 400; letter-spacing: 0.22em; text-transform: uppercase; color: rgba(244,241,235,0.35); margin-top: 6px; }
.hiw-trust-div { width: 1px; height: 44px; background: rgba(244,241,235,0.12); }

/* ═══ ABOUT PAGE ═══ */
.pg-about { background: var(--bg); }

.about-hero { position: relative; min-height: 88vh; display: flex; align-items: flex-end; overflow: hidden; padding-top: 80px; }
.about-hero-bg { position: absolute; inset: 0; background: linear-gradient(150deg, #0d0b09 0%, #1a150f 40%, #241c14 70%, #1a130d 100%); }
.about-hero-bg::after { content: ''; position: absolute; inset: 0; background: radial-gradient(ellipse at 30% 60%, rgba(165,90,74,0.08) 0%, transparent 60%); }
.about-hero-content { position: relative; z-index: 1; padding: 80px 80px 100px; max-width: 860px; }
.about-hero-title { font-family: 'Cormorant', serif; font-size: clamp(48px, 7.5vw, 96px); font-weight: 300; color: rgba(253,252,250,0.95); line-height: 1.0; letter-spacing: 0.01em; margin-bottom: 28px; }
.about-hero-title em { font-style: italic; font-weight: 400; }
.about-hero-sub { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: rgba(244,241,235,0.45); letter-spacing: 0.06em; line-height: 2; }

.about-opening { padding: 88px 80px; border-bottom: 1px solid var(--divider); }
.about-opening-inner { max-width: 720px; margin: 0 auto; }
.about-opening-text { font-family: 'Cormorant', serif; font-size: clamp(20px, 2.2vw, 26px); font-weight: 300; color: var(--ink); line-height: 1.65; letter-spacing: 0.01em; margin-bottom: 28px; }
.about-opening-text:last-child { margin-bottom: 0; color: var(--mid); }

.about-section { padding: 88px 80px; }
.about-section-alt { background: var(--bg2); }
.about-section-inner { max-width: 1000px; margin: 0 auto; }
.about-section-label { font-family: 'Jost', sans-serif; font-size: 9px; font-weight: 400; letter-spacing: 0.22em; text-transform: uppercase; color: var(--muted); margin-bottom: 20px; }
.about-section-title { font-family: 'Cormorant', serif; font-size: clamp(36px, 5vw, 60px); font-weight: 300; color: var(--ink); line-height: 1.1; letter-spacing: 0.01em; margin-bottom: 52px; }
.about-section-title em { font-style: italic; }
.about-diff-intro { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); letter-spacing: 0.04em; line-height: 1.8; margin-bottom: 48px; max-width: 520px; }

.about-philosophy-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 48px 64px; }
.about-phil-item {}
.about-phil-num { font-family: 'Cormorant', serif; font-size: 18px; color: rgba(165,90,74,0.6); margin-bottom: 12px; }
.about-phil-title { font-family: 'Cormorant', serif; font-size: 22px; font-weight: 400; color: var(--ink); letter-spacing: 0.02em; margin-bottom: 12px; }
.about-phil-body { font-family: 'Jost', sans-serif; font-size: 12.5px; font-weight: 300; color: var(--mid); letter-spacing: 0.03em; line-height: 1.9; }

.about-diff-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2px; }
.about-diff-card { padding: 52px 48px; background: var(--bg2); border: 1px solid var(--divider); }
.about-diff-card-dark { background: var(--ink); border-color: var(--ink); }
.about-diff-num { font-family: 'Cormorant', serif; font-size: 13px; font-weight: 400; color: rgba(165,90,74,0.6); letter-spacing: 0.1em; margin-bottom: 20px; }
.about-diff-title { font-family: 'Cormorant', serif; font-size: 28px; font-weight: 400; color: var(--ink); line-height: 1.2; margin-bottom: 18px; }
.about-diff-body { font-family: 'Jost', sans-serif; font-size: 12.5px; font-weight: 300; color: var(--mid); letter-spacing: 0.03em; line-height: 1.9; margin-bottom: 28px; }
.about-diff-tag { font-family: 'Jost', sans-serif; font-size: 9px; font-weight: 400; letter-spacing: 0.2em; text-transform: uppercase; color: var(--muted); border-top: 1px solid var(--divider); padding-top: 20px; }

.about-process-steps { display: flex; flex-direction: column; gap: 0; border-top: 1px solid var(--divider); }
.about-process-step { display: grid; grid-template-columns: 80px 1fr; gap: 40px; padding: 44px 0; border-bottom: 1px solid var(--divider); align-items: start; }
.about-process-n { font-family: 'Cormorant', serif; font-size: 36px; font-weight: 300; color: rgba(165,90,74,0.4); line-height: 1; padding-top: 4px; }
.about-process-title { font-family: 'Cormorant', serif; font-size: 22px; font-weight: 400; color: var(--ink); letter-spacing: 0.02em; margin-bottom: 12px; }
.about-process-body { font-family: 'Jost', sans-serif; font-size: 12.5px; font-weight: 300; color: var(--mid); letter-spacing: 0.03em; line-height: 1.9; }

.about-vision { padding: 96px 80px; background: var(--ink); text-align: center; }
.about-vision-inner { max-width: 680px; margin: 0 auto; }
.about-vision-title { font-family: 'Cormorant', serif; font-size: clamp(36px, 5vw, 60px); font-weight: 300; color: rgba(253,252,250,0.95); line-height: 1.1; letter-spacing: 0.01em; margin-bottom: 36px; }
.about-vision-title em { font-style: italic; }
.about-vision-body { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: rgba(244,241,235,0.5); letter-spacing: 0.04em; line-height: 1.95; margin-bottom: 20px; }
.about-vision-stats { display: flex; align-items: center; justify-content: center; gap: 0; margin-top: 64px; border-top: 1px solid rgba(244,241,235,0.08); padding-top: 48px; }
.about-vision-stat { text-align: center; padding: 0 48px; }
.about-vision-num { font-family: 'Cormorant', serif; font-size: 40px; font-weight: 300; color: rgba(253,252,250,0.85); letter-spacing: 0.04em; display: block; margin-bottom: 8px; }
.about-vision-label { font-family: 'Jost', sans-serif; font-size: 9px; font-weight: 400; letter-spacing: 0.2em; text-transform: uppercase; color: rgba(244,241,235,0.3); }
.about-vision-div { width: 1px; height: 40px; background: rgba(244,241,235,0.1); flex-shrink: 0; }

@media (max-width: 768px) {
  .about-hero-content { padding: 48px 24px 72px; }
  .about-opening { padding: 60px 24px; }
  .about-section { padding: 60px 24px; }
  .about-philosophy-grid { grid-template-columns: 1fr; gap: 36px; }
  .about-diff-grid { grid-template-columns: 1fr; }
  .about-process-step { grid-template-columns: 48px 1fr; gap: 20px; }
  .about-vision { padding: 72px 24px; }
  .about-vision-stat { padding: 0 24px; }
}

/* ═══ SPOT SAVE HEART on cards ═══ */
.spot-save {
  position: absolute; top: 12px; right: 12px;
  width: 36px; height: 36px;
  background: rgba(28,28,28,0.35); backdrop-filter: blur(6px);
  border-radius: 50%; border: none;
  display: flex; align-items: center; justify-content: center;
  font-size: 16px; color: white; cursor: pointer;
  transition: all 0.2s; z-index: 2;
}
.spot-save:hover { background: rgba(165,90,74,0.7); }
.spot-save.saved { background: #A55A4A; }

/* ═══ FOR HOTELS ═══ */
.pg-hotels { padding-top: 80px; }
.hotels-hero-bg { background: linear-gradient(140deg, #0e0c0a 0%, #1a1610 50%, #0e0c0a 100%); }
.hotels-body { max-width: 1120px; margin: 0 auto; padding: 0 40px; }
.hotels-pitch { display: grid; grid-template-columns: 1fr 300px; gap: 80px; padding: 80px 0; border-bottom: 1px solid var(--divider); align-items: start; }
.hotels-pitch-title { font-family: 'Cormorant', serif; font-size: clamp(28px, 3.5vw, 44px); font-weight: 300; color: var(--ink); line-height: 1.18; margin: 16px 0 28px; }
.hotels-pitch-title strong { font-weight: 500; }
.hotels-pitch p { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); line-height: 1.9; letter-spacing: 0.02em; margin-bottom: 20px; }
.hotels-aside { display: flex; flex-direction: column; gap: 1px; }
.hotels-aside-card { background: var(--white); border: 1px solid var(--divider); padding: 22px 20px; }
.hotels-aside-num { font-family: 'Cormorant', serif; font-size: 36px; font-weight: 300; color: var(--ink); letter-spacing: 0.04em; display: block; margin-bottom: 4px; }
.hotels-aside-label { font-family: 'Jost', sans-serif; font-size: 10px; font-weight: 300; color: var(--muted); letter-spacing: 0.1em; }
.hotels-pillars { display: grid; grid-template-columns: repeat(3,1fr); border-top: 1px solid var(--divider); }
.hotels-pillar { padding: 48px 32px; border-right: 1px solid var(--divider); }
.hotels-pillar:last-child { border-right: none; }
.hotels-pillar-icon { font-size: 18px; color: #A55A4A; opacity: 0.65; margin-bottom: 16px; }
.hotels-pillar h3 { font-family: 'Cormorant', serif; font-size: 21px; font-weight: 400; color: var(--ink); margin-bottom: 12px; }
.hotels-pillar p { font-family: 'Jost', sans-serif; font-size: 12px; font-weight: 300; color: var(--mid); line-height: 1.85; letter-spacing: 0.02em; }
.hotels-form-section { padding: 80px 0 100px; max-width: 640px; }
.hotels-form-title { font-family: 'Cormorant', serif; font-size: 36px; font-weight: 300; color: var(--ink); margin: 14px 0 12px; }
.hotels-form-sub { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); line-height: 1.7; letter-spacing: 0.02em; margin-bottom: 36px; }
.hf-form { display: flex; flex-direction: column; gap: 16px; }
.hf-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
.hf-field { display: flex; flex-direction: column; gap: 7px; }
.hf-field label { font-family: 'Jost', sans-serif; font-size: 9px; font-weight: 400; letter-spacing: 0.24em; text-transform: uppercase; color: var(--muted); }
.hf-field input { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--ink); background: var(--white); border: 1px solid var(--hairline); padding: 12px 16px; outline: none; transition: border-color 0.15s; letter-spacing: 0.02em; }
.hf-field input:focus { border-color: var(--ink); }
.hf-field input::placeholder { color: var(--muted); }
.hf-submit { font-family: 'Jost', sans-serif; font-size: 10px; font-weight: 400; letter-spacing: 0.2em; text-transform: uppercase; background: var(--ink); color: var(--bg); border: none; padding: 15px 36px; cursor: pointer; align-self: flex-start; margin-top: 8px; transition: background 0.2s; }
.hf-submit:hover { background: #A55A4A; }
.hf-confirm { text-align: center; padding: 64px 0; }
.hf-confirm-icon { font-size: 28px; color: #A55A4A; margin-bottom: 22px; }
.hf-confirm-title { font-family: 'Cormorant', serif; font-size: 28px; font-weight: 300; color: var(--ink); margin-bottom: 14px; }
.hf-confirm-text { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); line-height: 1.8; letter-spacing: 0.02em; max-width: 380px; margin: 0 auto; }

/* ─────────────────────────────────────
   INTENT TOGGLE
───────────────────────────────────── */
.intent-toggle {
  display: flex;
  align-items: center;
  gap: 16px;
  justify-content: center;
  margin-bottom: 28px;
}
.intent-opt {
  font-family: 'Jost', sans-serif;
  font-size: 11px;
  font-weight: 400;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--muted);
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px 0;
  position: relative;
  transition: color 0.25s ease;
}
.intent-opt::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: var(--ink);
  transform: scaleX(0);
  transition: transform 0.25s ease;
  transform-origin: center;
}
.intent-opt.active {
  color: var(--ink);
}
.intent-opt.active::after {
  transform: scaleX(1);
}
.intent-opt:hover {
  color: var(--ink2);
}
.intent-sep {
  font-family: 'Cormorant', serif;
  font-size: 16px;
  color: var(--hairline);
  font-weight: 300;
  line-height: 1;
}


.results-page {
  min-height: 100vh;
  background: var(--bg);
  padding-top: 90px;
}
.results-topbar {
  position: sticky;
  top: 80px;
  z-index: 500;
  background: rgba(244,241,235,0.97);
  backdrop-filter: blur(16px);
  border-bottom: 1px solid var(--divider);
  padding: 18px 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  flex-wrap: wrap;
}
.results-topbar-left {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  flex: 1;
  flex-wrap: wrap;
}
.results-back {
  background: none;
  border: none;
  font-family: 'Jost', sans-serif;
  font-size: 11px;
  font-weight: 400;
  letter-spacing: 0.1em;
  color: var(--mid);
  cursor: pointer;
  padding: 7px 0;
  display: flex;
  align-items: center;
  gap: 6px;
  white-space: nowrap;
  transition: color 0.2s;
}
.results-back:hover { color: var(--ink); }
.results-divider-v {
  width: 1px;
  height: 20px;
  background: var(--divider);
  flex-shrink: 0;
}
.results-filter-pill {
  font-family: 'Jost', sans-serif;
  font-size: 13px;
  font-weight: 400;
  letter-spacing: 0.06em;
  color: var(--mid);
  background: none;
  border: 1px solid var(--hairline);
  border-radius: 100px;
  padding: 13px 26px;
  cursor: pointer;
  transition: all 0.18s;
  display: flex;
  align-items: center;
  gap: 6px;
  white-space: nowrap;
}
.results-filter-pill:hover { color: var(--ink); border-color: var(--ink); }
.results-filter-pill.active { color: var(--ink); background: var(--bg2); border-color: var(--ink); font-weight: 500; }
.results-filter-pill .pill-count {
  background: var(--ink);
  color: var(--white);
  border-radius: 100px;
  font-size: 9px;
  padding: 1px 6px;
  font-weight: 500;
}
.results-clear {
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--muted);
  background: none;
  border: none;
  cursor: pointer;
  padding: 7px 0;
  transition: color 0.2s;
  margin-left: auto;
}
.results-clear:hover { color: var(--ink); }
.results-header {
  padding: 40px 40px 24px;
  max-width: 1200px;
  margin: 0 auto;
}
.results-count-label {
  font-family: 'Jost', sans-serif;
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.28em;
  text-transform: uppercase;
  color: #A55A4A;
  display: block;
  margin-bottom: 10px;
}
.results-count-title {
  font-family: 'Cormorant', serif;
  font-size: 36px;
  font-weight: 300;
  color: var(--ink);
  line-height: 1.1;
}
.results-count-title strong { font-weight: 500; }
.results-active-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 16px;
}
.results-tag {
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.06em;
  color: var(--ink);
  background: var(--white);
  border: 1px solid var(--hairline);
  border-radius: 100px;
  padding: 5px 12px 5px 10px;
  display: flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  transition: border-color 0.18s;
}
.results-tag:hover { border-color: var(--ink); }
.results-tag-x { color: var(--muted); font-size: 12px; line-height: 1; }
.results-grid-wrap {
  padding: 0 40px 80px;
  max-width: 1200px;
  margin: 0 auto;
}
.results-empty {
  text-align: center;
  padding: 80px 0;
}
.results-empty p {
  font-family: 'Cormorant', serif;
  font-size: 22px;
  font-weight: 300;
  color: var(--mid);
  margin-bottom: 20px;
}

/* Inline filter panels on results page */
.results-panel-wrap {
  position: relative;
}
.results-inline-panel {
  display: none;
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  background: var(--white);
  border: 1px solid var(--hairline);
  border-radius: 12px;
  padding: 20px;
  min-width: 280px;
  z-index: 600;
  box-shadow: 0 8px 32px rgba(28,28,28,0.1);
}
.results-inline-panel.open { display: block; }
.results-inline-panel .inline-panel-label {
  font-family: 'Jost', sans-serif;
  font-size: 8px;
  font-weight: 500;
  letter-spacing: 0.28em;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 12px;
  display: block;
}
.results-inline-panel .inline-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 7px;
}

@media (max-width: 680px) {
  .results-topbar { padding: 12px 20px; }
  .results-header { padding: 28px 20px 16px; }
  .results-grid-wrap { padding: 0 20px 60px; }
  .results-count-title { font-size: 28px; }
}




/* ─────────────────────────────────────
   SPOT DETAIL PAGE
───────────────────────────────────── */
.sdp-wrap { min-height: 100vh; background: var(--bg); }

.sdp-hero {
  position: relative;
  height: 72vh;
  min-height: 500px;
  overflow: hidden;
}
.sdp-hero-bg {
  position: absolute; inset: 0;
  background: var(--bg3) center/cover;
  transition: transform 8s ease;
  transform: scale(1.04);
}
.sdp-hero-bg.loaded { transform: scale(1); }
.sdp-hero-overlay {
  position: absolute; inset: 0;
  background: linear-gradient(to bottom,
    rgba(28,28,28,0.2) 0%,
    rgba(28,28,28,0) 35%,
    rgba(28,28,28,0.6) 100%);
}
.sdp-back {
  position: absolute;
  top: 100px; left: 40px;
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 400;
  letter-spacing: 0.12em; text-transform: uppercase;
  color: rgba(244,241,235,0.9);
  background: rgba(28,28,28,0.32);
  border: 1px solid rgba(244,241,235,0.2);
  border-radius: 100px;
  padding: 8px 18px 8px 14px;
  cursor: pointer;
  backdrop-filter: blur(10px);
  transition: background 0.2s;
  display: flex; align-items: center; gap: 7px;
}
.sdp-back:hover { background: rgba(28,28,28,0.55); }
.sdp-hero-badge {
  position: absolute;
  top: 100px; right: 40px;
  font-family: 'Jost', sans-serif;
  font-size: 9px; font-weight: 500;
  letter-spacing: 0.2em; text-transform: uppercase;
  color: var(--white); background: #A55A4A;
  border-radius: 100px; padding: 6px 14px;
}
.sdp-hero-bottom {
  position: absolute;
  bottom: 44px; left: 40px; right: 40px;
}
.sdp-hero-loc {
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 400;
  letter-spacing: 0.24em; text-transform: uppercase;
  color: rgba(244,241,235,0.7);
  display: block; margin-bottom: 12px;
}
.sdp-hero-name {
  font-family: 'Cormorant', serif;
  font-size: clamp(34px, 5vw, 58px);
  font-weight: 300; color: var(--white);
  line-height: 1.05; max-width: 680px;
}

/* Body */
.sdp-body {
  max-width: 1000px;
  margin: 0 auto;
  padding: 64px 40px 120px;
}
.sdp-cols {
  display: grid;
  grid-template-columns: 1fr 300px;
  gap: 72px;
  align-items: start;
}

/* Stats bar */
.sdp-stats {
  display: flex;
  border: 1px solid var(--hairline);
  border-radius: 12px;
  overflow: hidden;
  background: var(--white);
  margin-bottom: 52px;
}
.sdp-stat {
  flex: 1;
  padding: 18px 16px;
  border-right: 1px solid var(--hairline);
  text-align: center;
}
.sdp-stat:last-child { border-right: none; }
.sdp-stat-lbl {
  font-family: 'Jost', sans-serif;
  font-size: 8px; font-weight: 500;
  letter-spacing: 0.22em; text-transform: uppercase;
  color: var(--muted); display: block; margin-bottom: 6px;
}
.sdp-stat-val {
  font-family: 'Jost', sans-serif;
  font-size: 13px; font-weight: 400;
  color: var(--ink); letter-spacing: 0.02em;
}

/* Section label */
.sdp-lbl {
  font-family: 'Jost', sans-serif;
  font-size: 9px; font-weight: 500;
  letter-spacing: 0.28em; text-transform: uppercase;
  color: var(--muted); display: block; margin-bottom: 16px;
}

/* About */
.sdp-about { margin-bottom: 56px; }
.sdp-about-text {
  font-family: 'Cormorant', serif;
  font-size: 21px; font-weight: 300;
  color: var(--ink); line-height: 1.75;
}

/* Plan steps */
.sdp-plan { margin-bottom: 56px; }
.sdp-step {
  display: flex; gap: 22px;
  padding: 22px 0;
  border-bottom: 1px solid var(--divider);
}
.sdp-step:first-child { padding-top: 0; }
.sdp-step:last-child { border-bottom: none; padding-bottom: 0; }
.sdp-step-n {
  font-family: 'Cormorant', serif;
  font-size: 30px; font-weight: 300;
  color: var(--hairline); line-height: 1;
  flex-shrink: 0; width: 38px;
}
.sdp-step-txt {
  font-family: 'Jost', sans-serif;
  font-size: 13px; font-weight: 300;
  color: var(--ink2); line-height: 1.8;
  letter-spacing: 0.02em; padding-top: 4px;
}

/* Vibe tags */
.sdp-vibes { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 56px; }
.sdp-vibe-tag {
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 400;
  letter-spacing: 0.08em;
  color: var(--mid); background: var(--white);
  border: 1px solid var(--hairline);
  border-radius: 100px; padding: 7px 16px;
}

/* Sidebar */
.sdp-sidebar-card {
  background: var(--white);
  border: 1px solid var(--hairline);
  border-radius: 16px;
  padding: 28px;
  position: sticky;
  top: 100px;
}
.sdp-hotel-lbl {
  font-family: 'Jost', sans-serif;
  font-size: 9px; font-weight: 500;
  letter-spacing: 0.22em; text-transform: uppercase;
  color: var(--muted); display: block; margin-bottom: 6px;
}
.sdp-hotel-name {
  font-family: 'Cormorant', serif;
  font-size: 22px; font-weight: 400;
  color: var(--ink); margin-bottom: 22px; line-height: 1.2;
}
.sdp-btn-primary {
  width: 100%; font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 500;
  letter-spacing: 0.18em; text-transform: uppercase;
  background: var(--ink); color: var(--bg);
  border: none; border-radius: 8px;
  padding: 16px; cursor: pointer;
  transition: background 0.2s; margin-bottom: 10px;
  display: block;
}
.sdp-btn-primary:hover { background: #A55A4A; }
.sdp-btn-secondary {
  width: 100%; font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 400;
  letter-spacing: 0.14em; text-transform: uppercase;
  background: none; color: var(--mid);
  border: 1px solid var(--hairline); border-radius: 8px;
  padding: 14px; cursor: pointer;
  transition: border-color 0.2s, color 0.2s;
  display: block; width: 100%;
}
.sdp-btn-secondary:hover { border-color: var(--ink); color: var(--ink); }
.sdp-sidebar-divider {
  border: none; border-top: 1px solid var(--divider);
  margin: 22px 0;
}
.sdp-access-txt {
  font-family: 'Jost', sans-serif;
  font-size: 12px; font-weight: 300;
  color: var(--mid); line-height: 1.75;
}
.sdp-photo-row {
  display: flex; align-items: center; gap: 10px;
}
.sdp-photo-icon { font-size: 15px; }
.sdp-photo-lbl {
  font-family: 'Jost', sans-serif;
  font-size: 9px; font-weight: 400;
  letter-spacing: 0.16em; text-transform: uppercase;
  color: var(--muted); display: block; margin-bottom: 2px;
}
.sdp-photo-name {
  font-family: 'Jost', sans-serif;
  font-size: 12px; font-weight: 400; color: var(--ink);
}

/* Heart button on hero */
.sdp-heart-btn {
  position: absolute;
  top: 100px; right: 40px;
  width: 44px; height: 44px;
  background: rgba(28,28,28,0.35);
  border: 1px solid rgba(244,241,235,0.25);
  border-radius: 50%;
  color: rgba(244,241,235,0.9);
  font-size: 18px; line-height: 1;
  cursor: pointer;
  backdrop-filter: blur(10px);
  transition: background 0.2s, color 0.2s;
  display: flex; align-items: center; justify-content: center;
  z-index: 2;
}
.sdp-heart-btn:hover { background: rgba(165,90,74,0.7); }
.sdp-heart-btn.saved { background: #A55A4A; border-color: #A55A4A; color: white; }

/* Line summary below title */
.sdp-line-summary {
  font-family: 'Cormorant', serif;
  font-size: clamp(15px, 1.8vw, 18px);
  font-weight: 300;
  font-style: italic;
  color: rgba(244,241,235,0.7);
  line-height: 1.5;
  margin-top: 10px;
  max-width: 600px;
}

/* Gallery */
.sdp-gallery { margin-bottom: 52px; }
.sdp-gallery-scroll {
  display: flex;
  gap: 12px;
  overflow-x: auto;
  padding-bottom: 12px;
  scrollbar-width: thin;
  scrollbar-color: var(--hairline) transparent;
}
.sdp-gallery-scroll::-webkit-scrollbar { height: 4px; }
.sdp-gallery-scroll::-webkit-scrollbar-track { background: transparent; }
.sdp-gallery-scroll::-webkit-scrollbar-thumb { background: var(--hairline); border-radius: 2px; }
.sdp-gallery-img {
  width: 260px;
  height: 180px;
  flex-shrink: 0;
  object-fit: cover;
  border-radius: 10px;
  cursor: pointer;
  transition: transform 0.2s, opacity 0.2s;
}
.sdp-gallery-img:hover { transform: scale(1.02); opacity: 0.92; }

/* Lightbox */
.sdp-lightbox {
  display: none;
  position: fixed; inset: 0;
  background: rgba(10,8,6,0.94);
  z-index: 30000;
  align-items: center; justify-content: center;
  cursor: pointer;
}
.sdp-lightbox.open { display: flex; }
.sdp-lightbox img { max-width: 90vw; max-height: 88vh; object-fit: contain; border-radius: 6px; cursor: default; }
.sdp-lightbox-close {
  position: absolute; top: 24px; right: 28px;
  background: none; border: none;
  color: rgba(244,241,235,0.7);
  font-size: 28px; cursor: pointer; line-height: 1;
}

/* Date picker */
.sdp-dates-block { margin-bottom: 16px; }
.sdp-date-row { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
.sdp-date-field { display: flex; flex-direction: column; gap: 5px; }
.sdp-date-lbl {
  font-family: 'Jost', sans-serif;
  font-size: 8px; font-weight: 500;
  letter-spacing: 0.2em; text-transform: uppercase;
  color: var(--muted);
}
.sdp-date-input {
  font-family: 'Jost', sans-serif;
  font-size: 12px; font-weight: 300;
  color: var(--ink); background: var(--bg);
  border: 1px solid var(--hairline); border-radius: 8px;
  padding: 10px 12px; outline: none;
  width: 100%; box-sizing: border-box;
  transition: border-color 0.2s; cursor: pointer;
}
.sdp-date-input:focus { border-color: var(--ink); }

/* Save button */
.sdp-btn-save {
  width: 100%; font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 400;
  letter-spacing: 0.14em; text-transform: uppercase;
  background: none; color: var(--mid);
  border: 1px solid var(--hairline); border-radius: 8px;
  padding: 14px; cursor: pointer;
  transition: border-color 0.2s, color 0.2s, background 0.2s;
  display: block; width: 100%; margin-bottom: 10px;
}
.sdp-btn-save:hover { border-color: #A55A4A; color: #A55A4A; }
.sdp-btn-save.saved { background: #A55A4A; color: white; border-color: #A55A4A; }

/* Nav collection link */
.nav-collection-link.has-saves { background: #A55A4A; }

/* Collection page */
.pg-collection { background: var(--bg); min-height: 100vh; padding-top: 80px; }
.collection-header {
  text-align: center; padding: 72px 40px 48px;
  border-bottom: 1px solid var(--divider);
  max-width: 600px; margin: 0 auto;
}
.collection-title {
  font-family: 'Cormorant', serif;
  font-size: clamp(40px, 6vw, 72px);
  font-weight: 300; color: var(--ink);
  line-height: 1.05; letter-spacing: 0.01em;
}
.collection-title em { font-style: italic; }
.collection-sub {
  font-family: 'Jost', sans-serif;
  font-size: 13px; font-weight: 300;
  color: var(--mid); letter-spacing: 0.04em;
  line-height: 1.8; margin-top: 16px;
}
.collection-body { max-width: 1100px; margin: 0 auto; padding: 56px 40px 100px; }
.collection-empty { text-align: center; padding: 100px 40px; }
.collection-empty-icon { font-size: 48px; color: var(--hairline); margin-bottom: 24px; }
.collection-empty-title {
  font-family: 'Cormorant', serif;
  font-size: 28px; font-weight: 300; color: var(--ink); margin-bottom: 10px;
}
.collection-empty-sub {
  font-family: 'Jost', sans-serif;
  font-size: 13px; font-weight: 300;
  color: var(--mid); letter-spacing: 0.04em; margin-bottom: 32px;
}

@media (max-width: 768px) {
  .sdp-cols { grid-template-columns: 1fr; gap: 40px; }
  .sdp-sidebar-card { position: static; }
  .sdp-back { top: 80px; left: 20px; }
  .sdp-heart-btn { top: 80px; right: 60px; }
  .sdp-hero-badge { display: none; }
  .sdp-hero-bottom { left: 20px; right: 20px; bottom: 28px; }
  .sdp-body { padding: 40px 20px 80px; }
  .sdp-stats { flex-wrap: wrap; }
  .sdp-stat { min-width: 50%; }
  .collection-body { padding: 40px 20px 80px; }
}

.spot-drawer-overlay {
  position: fixed; inset: 0;
  background: rgba(28,28,28,0.45);
  z-index: 19998;
  opacity: 0; pointer-events: none;
  transition: opacity 0.32s ease;
}
.spot-drawer-overlay.open { opacity: 1; pointer-events: all; }

.spot-drawer {
  position: fixed;
  top: 0; right: 0; bottom: 0;
  width: 100%;
  max-width: 560px;
  background: var(--white);
  z-index: 19999;
  transform: translateX(100%);
  transition: transform 0.38s cubic-bezier(0.4,0,0.2,1);
  overflow-y: auto;
  display: flex;
  flex-direction: column;
}
.spot-drawer.open { transform: translateX(0); }

/* Hero image */
.sd-hero {
  position: relative;
  height: 320px;
  flex-shrink: 0;
  overflow: hidden;
}
.sd-hero-bg {
  position: absolute; inset: 0;
  background-size: cover;
  background-position: center;
  transition: transform 0.6s ease;
}
.sd-hero:hover .sd-hero-bg { transform: scale(1.03); }
.sd-hero-overlay {
  position: absolute; inset: 0;
  background: linear-gradient(to top, rgba(28,28,28,0.6) 0%, transparent 50%);
}
.sd-hero-close {
  position: absolute; top: 20px; right: 20px;
  width: 36px; height: 36px;
  background: rgba(253,252,250,0.92);
  border: none; border-radius: 50%;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  font-size: 14px; color: var(--ink);
  backdrop-filter: blur(8px);
  transition: background 0.2s;
}
.sd-hero-close:hover { background: var(--white); }
.sd-hero-badge {
  position: absolute; top: 20px; left: 20px;
  font-family: 'Jost', sans-serif;
  font-size: 8px; font-weight: 500;
  letter-spacing: 0.22em; text-transform: uppercase;
  color: var(--white);
  background: rgba(28,28,28,0.55);
  padding: 5px 12px;
  border-radius: 100px;
  backdrop-filter: blur(8px);
}
.sd-hero-location {
  position: absolute; bottom: 20px; left: 24px;
  font-family: 'Jost', sans-serif;
  font-size: 11px; font-weight: 400;
  letter-spacing: 0.1em;
  color: rgba(253,252,250,0.85);
}

/* Body */
.sd-body {
  padding: 32px 32px 48px;
  flex: 1;
}
.sd-region {
  font-family: 'Jost', sans-serif;
  font-size: 9px; font-weight: 500;
  letter-spacing: 0.3em; text-transform: uppercase;
  color: #A55A4A;
  margin-bottom: 10px;
  display: block;
}
.sd-name {
  font-family: 'Cormorant', serif;
  font-size: 30px; font-weight: 400;
  color: var(--ink);
  line-height: 1.15;
  margin-bottom: 16px;
  letter-spacing: 0.01em;
}
.sd-summary {
  font-family: 'Jost', sans-serif;
  font-size: 13px; font-weight: 300;
  color: var(--mid);
  line-height: 1.8;
  letter-spacing: 0.02em;
  margin-bottom: 28px;
}

/* Quick stats row */
.sd-stats {
  display: flex;
  gap: 0;
  border: 1px solid var(--divider);
  border-radius: 4px;
  margin-bottom: 32px;
  overflow: hidden;
}
.sd-stat {
  flex: 1;
  padding: 14px 16px;
  border-right: 1px solid var(--divider);
  text-align: center;
}
.sd-stat:last-child { border-right: none; }
.sd-stat-label {
  font-family: 'Jost', sans-serif;
  font-size: 8px; font-weight: 400;
  letter-spacing: 0.22em; text-transform: uppercase;
  color: var(--muted);
  display: block;
  margin-bottom: 5px;
}
.sd-stat-val {
  font-family: 'Cormorant', serif;
  font-size: 17px; font-weight: 400;
  color: var(--ink);
}

/* Section blocks */
.sd-section {
  margin-bottom: 28px;
  padding-bottom: 28px;
  border-bottom: 1px solid var(--divider);
}
.sd-section:last-of-type { border-bottom: none; }
.sd-section-title {
  font-family: 'Jost', sans-serif;
  font-size: 8px; font-weight: 500;
  letter-spacing: 0.28em; text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 14px;
  display: block;
}
.sd-section p {
  font-family: 'Jost', sans-serif;
  font-size: 13px; font-weight: 300;
  color: var(--mid);
  line-height: 1.8;
}

/* Proposal plan steps */
.sd-steps {
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.sd-step {
  display: flex;
  gap: 14px;
  align-items: flex-start;
}
.sd-step-num {
  font-family: 'Cormorant', serif;
  font-size: 18px; font-weight: 400;
  color: var(--accent2);
  line-height: 1.4;
  flex-shrink: 0;
  width: 20px;
}
.sd-step-text {
  font-family: 'Jost', sans-serif;
  font-size: 13px; font-weight: 300;
  color: var(--mid);
  line-height: 1.7;
}

/* Tags row */
.sd-tags {
  display: flex; flex-wrap: wrap; gap: 7px;
}
.sd-tag {
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 400;
  letter-spacing: 0.08em;
  color: var(--ink2);
  background: var(--bg2);
  padding: 5px 12px;
  border-radius: 100px;
}

/* CTA */
.sd-cta-row {
  display: flex; gap: 12px;
  margin-top: 32px;
}
.sd-cta-primary {
  flex: 1;
  background: var(--ink);
  color: var(--white);
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 500;
  letter-spacing: 0.2em; text-transform: uppercase;
  border: none; border-radius: 100px;
  padding: 15px 24px;
  cursor: pointer;
  transition: background 0.2s;
}
.sd-cta-primary:hover { background: var(--accent); }
.sd-cta-secondary {
  background: none;
  color: var(--ink);
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 400;
  letter-spacing: 0.16em; text-transform: uppercase;
  border: 1px solid var(--hairline);
  border-radius: 100px;
  padding: 15px 20px;
  cursor: pointer;
  transition: border-color 0.2s;
}
.sd-cta-secondary:hover { border-color: var(--ink); }

/* Photographer chip */
.sd-photographer {
  display: flex;
  align-items: center;
  gap: 10px;
  background: var(--bg);
  border-radius: 4px;
  padding: 12px 16px;
}
.sd-photographer-icon {
  font-size: 16px;
  flex-shrink: 0;
}
.sd-photographer-info { flex: 1; }
.sd-photographer-label {
  font-family: 'Jost', sans-serif;
  font-size: 8px; font-weight: 400;
  letter-spacing: 0.22em; text-transform: uppercase;
  color: var(--muted);
  display: block;
  margin-bottom: 2px;
}
.sd-photographer-name {
  font-family: 'Jost', sans-serif;
  font-size: 12px; font-weight: 400;
  color: var(--ink);
}

/* Loading skeleton */
.sd-loading {
  padding: 48px 32px;
  text-align: center;
  font-family: 'Cormorant', serif;
  font-size: 18px;
  font-weight: 300;
  color: var(--muted);
  letter-spacing: 0.08em;
}

@media (max-width: 600px) {
  .spot-drawer { max-width: 100%; }
  .sd-hero { height: 260px; }
  .sd-body { padding: 24px 20px 40px; }
  .sd-name { font-size: 26px; }
}


</style>
</head>
<body>

<!-- NAV -->
<nav id="navbar">
  <a href="#" class="nav-logo" onclick="showPage('home'); return false;">Proposal Spots</a>
  <div class="nav-links">
  </div>
  <div class="nav-right">
    <a href="#" id="nav-inspiration" onclick="showPage('inspiration'); return false;" class="nav-link-right">Inspiration</a>
    <a href="#" id="nav-how-it-works" onclick="showPage('how-it-works'); return false;" class="nav-link-right">How It Works</a>
    <a href="#" id="nav-collection" onclick="openCollection(); return false;" class="nav-cta nav-collection-link">♡ My Collection</a>
  </div>
</nav>

<!-- ═══ HOME PAGE ═══ -->
<div id="page-home" class="page active">

<!-- HERO -->
<section class="hero">
  <div class="hero-rule"></div>
  <div class="hero-content">
    <span class="hero-eyebrow">A curated archive of proposal locations</span>
    <h1 class="hero-title">
      Find the perfect place<br>to <strong>propose.</strong>
    </h1>
    <p class="hero-sub">11 destinations &nbsp;·&nbsp; 140+ vetted spots &nbsp;·&nbsp; Expertly curated</p>

    <!-- INTENT TOGGLE -->
    <div class="intent-toggle">
      <button class="intent-opt active" id="intent-moment" onclick="setIntent('moment')">
        Just the Moment
      </button>
      <span class="intent-sep">·</span>
      <button class="intent-opt" id="intent-stay" onclick="setIntent('stay')">
        Moment + Hotel Stay
      </button>
    </div>

    <!-- SEARCH -->
    <div class="search-container">
      <div class="search-container-inner">
      <div class="search-bar-wrap">
        <div class="search-input-wrap">
          <div class="search-icon">
            <svg viewBox="0 0 20 20" fill="none" stroke="currentColor">
              <circle cx="9" cy="9" r="6"/><path d="M15 15l3 3" stroke-linecap="round"/>
            </svg>
          </div>
          <div class="search-input-inner">
            <label>Where do you want to propose?</label>
            <input
              type="text"
              id="search-main"
              placeholder="Country · Region · City"
              autocomplete="off"
              oninput="filterAC(this.value)"
            >
          </div>
          <div class="autocomplete" id="ac-main"></div>
        </div>
        <div class="search-divider"></div>
        <button class="search-btn" onclick="doSearch()">
          <svg viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.8">
            <circle cx="9" cy="9" r="6"/><path d="M15 15l3 3" stroke-linecap="round"/>
          </svg>
          Search
        </button>
      </div>

      <!-- FILTER PILLS -->
      <div class="filter-pills-row">

        <button class="pill-btn" id="pill-vibe" onclick="toggleInlinePanel('vibe-panel', 'pill-vibe')">
          Vibe
          <span class="pill-count" id="vibe-count" style="display:none">0</span>
          <svg class="pill-chevron" width="11" height="11" viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M2 4l4 4 4-4"/></svg>
        </button>

        <button class="pill-btn" id="pill-privacy" onclick="toggleInlinePanel('privacy-panel', 'pill-privacy')">
          Privacy
          <span class="pill-count" id="privacy-count" style="display:none">0</span>
          <svg class="pill-chevron" width="11" height="11" viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M2 4l4 4 4-4"/></svg>
        </button>

        <button class="pill-btn" id="pill-filters" onclick="openPanel()">
          <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="1.6">
            <line x1="1" y1="2.5" x2="11" y2="2.5"/>
            <line x1="1" y1="6"   x2="11" y2="6"/>
            <line x1="1" y1="9.5" x2="11" y2="9.5"/>
            <circle cx="4"  cy="2.5" r="1.2" fill="currentColor" stroke="none"/>
            <circle cx="8"  cy="6"   r="1.2" fill="currentColor" stroke="none"/>
            <circle cx="5"  cy="9.5" r="1.2" fill="currentColor" stroke="none"/>
          </svg>
          All Filters
          <span class="pill-count" id="filter-count" style="display:none">0</span>
        </button>

      </div>

      <!-- VIBE INLINE PANEL -->
      <div class="inline-panel" id="vibe-panel">
        <div class="inline-panel-label">Select all that apply</div>
        <div class="inline-tags">
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','Beach')">🏖 Beach</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','Mountain')">⛰ Mountain</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','Cliff')">🪨 Cliff</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','Lake')">🏞 Lake</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','Volcano')">🌋 Volcano</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','Ocean')">🌊 Ocean</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','City')">🏙 City</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','Jungle')">🌿 Jungle</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','Rural')">🌾 Rural</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','Boat')">⛵ Boat</div>
        </div>
      </div>

      <!-- PRIVACY INLINE PANEL -->
      <div class="inline-panel" id="privacy-panel">
        <div class="inline-panel-label">Select all that apply</div>
        <div class="inline-tags">
          <div class="filter-tag" onclick="toggleInlineTag(this,'privacy','Private')">🔒 Private — No crowds</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'privacy','Light Crowd')">👥 Light Crowd</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'privacy','Moderate Crowd')">👥👥 Moderate Crowd</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'privacy','Everyone Will See')">👥👥👥 Everyone Will See</div>
        </div>
      </div>

      <!-- ACTIVE TAGS -->
      <div class="active-tags-row" id="active-tags"></div>
      </div><!-- end search-container-inner -->
    </div><!-- end search-container -->
  </div>

  <!-- STATS -->
  <div class="hero-stats" id="hero-stats">
    <div class="hero-stat">
      <span class="hero-stat-num">11</span>
      <span class="hero-stat-label">Destinations</span>
    </div>
    <div class="hero-stat-div"></div>
    <div class="hero-stat">
      <span class="hero-stat-num">140+</span>
      <span class="hero-stat-label">Curated Spots</span>
    </div>
    <div class="hero-stat-div"></div>
    <div class="hero-stat">
      <span class="hero-stat-num">100%</span>
      <span class="hero-stat-label">Expert Vetted</span>
    </div>
  </div>
</section>

<!-- FEATURED MARKETS -->
<div class="section-wrap">
  <div class="section">
    <div class="section-header">
      <div class="section-meta">
        <span class="section-eyebrow">Browse by destination</span>
        <h2 class="section-title">Featured <strong>Markets</strong></h2>
      </div>
      <a href="#" class="section-link">All destinations →</a>
    </div>
    <div class="markets-grid">
      <div class="market-card" onclick="goMarket('amalfi-coast')">
        <div class="market-card-bg mc-amalfi"></div>
        <div class="market-card-info">
          <span class="market-card-region">Italy</span>
          <span class="market-card-name">Amalfi Coast</span>
          <span class="market-card-count">12 proposal spots</span>
        </div>
      </div>
      <div class="market-card" onclick="goMarket('santorini')">
        <div class="market-card-bg mc-santorini"></div>
        <div class="market-card-info">
          <span class="market-card-region">Greece</span>
          <span class="market-card-name">Santorini</span>
          <span class="market-card-count">8 spots</span>
        </div>
      </div>
      <div class="market-card" onclick="goMarket('bali')">
        <div class="market-card-bg mc-bali"></div>
        <div class="market-card-info">
          <span class="market-card-region">Indonesia</span>
          <span class="market-card-name">Bali</span>
          <span class="market-card-count">10 spots</span>
        </div>
      </div>
      <div class="market-card" onclick="goMarket('tulum')">
        <div class="market-card-bg mc-tulum"></div>
        <div class="market-card-info">
          <span class="market-card-region">Mexico</span>
          <span class="market-card-name">Tulum</span>
          <span class="market-card-count">9 spots</span>
        </div>
      </div>
      <div class="market-card" onclick="goMarket('costa-rica')">
        <div class="market-card-bg mc-costarica"></div>
        <div class="market-card-info">
          <span class="market-card-region">Central America</span>
          <span class="market-card-name">Costa Rica</span>
          <span class="market-card-count">6 spots</span>
        </div>
      </div>
      <div class="market-card" onclick="goMarket('maldives')">
        <div class="market-card-bg mc-maldives"></div>
        <div class="market-card-info">
          <span class="market-card-region">Indian Ocean</span>
          <span class="market-card-name">Maldives</span>
          <span class="market-card-count">7 spots</span>
        </div>
      </div>
      <div class="market-card" onclick="goMarket('south-of-france')">
        <div class="market-card-bg mc-france"></div>
        <div class="market-card-info">
          <span class="market-card-region">France</span>
          <span class="market-card-name">South of France</span>
          <span class="market-card-count">11 spots</span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- COLLECTIONS -->
<div class="section-wrap alt">
  <div class="section">
    <div class="section-header">
      <div class="section-meta">
        <span class="section-eyebrow">Expertly curated</span>
        <h2 class="section-title">Browse by <strong>Collection</strong></h2>
      </div>
      <a href="#" class="section-link">All collections →</a>
    </div>
    <div class="collections-grid">
      <div class="collection-card">
        <span class="collection-num">01</span>
        <div class="collection-name">Most Private</div>
        <p class="collection-desc">Secluded spots where it will just be the two of you — no crowds, no interruptions.</p>
        <span class="collection-link">24 spots →</span>
      </div>
      <div class="collection-card">
        <span class="collection-num">02</span>
        <div class="collection-name">Best Sunset</div>
        <p class="collection-desc">Golden-hour locations chosen for their legendary light and atmosphere.</p>
        <span class="collection-link">18 spots →</span>
      </div>
      <div class="collection-card">
        <span class="collection-num">03</span>
        <div class="collection-name">Luxury Resorts</div>
        <p class="collection-desc">World-class properties where every detail of the moment can be arranged.</p>
        <span class="collection-link">31 spots →</span>
      </div>
      <div class="collection-card">
        <span class="collection-num">04</span>
        <div class="collection-name">Hidden Gems</div>
        <p class="collection-desc">Off-the-map locations only locals and our curators know about.</p>
        <span class="collection-link">15 spots →</span>
      </div>
    </div>
  </div>
</div>

<!-- EDITOR'S PICKS — rendered from data -->
<div class="section-wrap white">
  <div class="section">
    <div class="section-header">
      <div class="section-meta">
        <span class="section-eyebrow" id="spots-eyebrow">Hand-selected</span>
        <h2 class="section-title" id="spots-title">Editor's <strong>Picks</strong></h2>
      </div>
      <span class="section-results" id="spots-count" style="display:none"></span>
    </div>
    <div class="spots-grid" id="spots-grid"></div>
    <div id="spots-empty" style="display:none; text-align:center; padding: 48px 0;">
      <p style="font-family:'Cormorant',serif; font-size:20px; color:var(--mid); font-weight:300;">No spots match your filters.</p>
      <button onclick="clearAllFilters()" style="margin-top:16px; background:none; border:1px solid var(--hairline); font-family:'Jost',sans-serif; font-size:10px; letter-spacing:0.16em; text-transform:uppercase; color:var(--mid); padding:10px 20px; cursor:pointer;">Clear Filters</button>
    </div>
  </div>
</div>

<!-- SEO SECTION -->
<div class="section-wrap alt">
  <div class="section">
    <div class="seo-inner">
      <div class="seo-text">
        <span class="section-eyebrow">Why Proposal Spots</span>
        <h2>The most <strong>considered</strong> way<br>to find your moment</h2>
        <p>Every location has been personally reviewed for its quality — the light, the privacy, the feeling. We don't list everything. We list what's genuinely worth it.</p>
        <p>Whether you're planning a private villa dinner on the Amalfi Coast or a hidden cliff in Costa Rica, we've mapped the finest proposal locations in the world.</p>
        <div class="seo-links">
          <a href="#" class="seo-link">Italy</a>
          <a href="#" class="seo-link">Greece</a>
          <a href="#" class="seo-link">Mexico</a>
          <a href="#" class="seo-link">Beach</a>
          <a href="#" class="seo-link">Private</a>
          <a href="#" class="seo-link">Sunset</a>
          <a href="#" class="seo-link">Luxury</a>
          <a href="#" class="seo-link">Hidden Gems</a>
        </div>
      </div>
      <div class="seo-numbers">
        <div class="seo-num-card">
          <span class="seo-n">11</span>
          <span class="seo-l">Markets</span>
        </div>
        <div class="seo-num-card">
          <span class="seo-n">140+</span>
          <span class="seo-l">Spots</span>
        </div>
        <div class="seo-num-card">
          <span class="seo-n">5</span>
          <span class="seo-l">Filters</span>
        </div>
        <div class="seo-num-card">
          <span class="seo-n">4</span>
          <span class="seo-l">Collections</span>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- FAQ -->
<div class="section-wrap white">
  <div class="section">
    <div class="faq-wrap">
      <div class="faq-header">
        <span class="section-eyebrow">Common questions</span>
        <h2 class="faq-title">Everything you<br>need to <strong>know</strong></h2>
      </div>
      <div class="faq-list">

        <div class="faq-item">
          <button class="faq-q" onclick="toggleFaq(this)">
            <span>What exactly is Proposal Spots?</span>
            <div class="faq-icon">+</div>
          </button>
          <div class="faq-a">
            <p>Proposal Spots is the world's only curated platform dedicated entirely to proposal locations and experiences. We research, visit, and handpick the most beautiful, private, and emotionally powerful places to propose — across the world's most romantic destinations. Think of us as the definitive guide, built specifically for the moment that matters most.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-q" onclick="toggleFaq(this)">
            <span>How are spots selected? Can anyone submit a location?</span>
            <div class="faq-icon">+</div>
          </button>
          <div class="faq-a">
            <p>Every location is reviewed by our editorial team for quality, atmosphere, privacy, and emotional impact. We don't list everything — only what we'd genuinely consider worthy of a life-changing moment. Hotels and venues can apply to be listed, but inclusion is never guaranteed. Our curation is the product.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-q" onclick="toggleFaq(this)">
            <span>Is Proposal Spots free to use?</span>
            <div class="faq-icon">+</div>
          </button>
          <div class="faq-a">
            <p>Yes. Browsing, filtering, and exploring every proposal spot on the platform is completely free. When you choose to book through one of our partner properties, the hotel or venue handles the reservation directly. We may earn a referral fee from partners, but this never influences which spots are listed or how they are presented.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-q" onclick="toggleFaq(this)">
            <span>Do you help plan the actual proposal, or just the location?</span>
            <div class="faq-icon">+</div>
          </button>
          <div class="faq-a">
            <p>Each listing includes a step-by-step proposal plan, best timing recommendations, access details, and photographer suggestions — so you have everything you need to execute the moment confidently. For those who want full end-to-end planning, our partner properties offer dedicated proposal concierge services, which we'll connect you with directly.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-q" onclick="toggleFaq(this)">
            <span>How do I know the spots are accurate and up to date?</span>
            <div class="faq-icon">+</div>
          </button>
          <div class="faq-a">
            <p>We review and update listings regularly. Each spot includes access details, best time of year, and crowd information so you know exactly what to expect. Our partner properties are in active contact with our team. If you ever spot something outdated, you can flag it directly from any listing page.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-q" onclick="toggleFaq(this)">
            <span>Can I filter by budget?</span>
            <div class="faq-icon">+</div>
          </button>
          <div class="faq-a">
            <p>Yes. Every spot is tagged with a budget level — from free public locations to ultra-luxury private resort experiences. Use the budget filter on the homepage or Proposal Map to narrow results to what works for you. Some of our most romantic spots cost nothing to visit.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-q" onclick="toggleFaq(this)">
            <span>What if I want somewhere completely private — no crowds at all?</span>
            <div class="faq-icon">+</div>
          </button>
          <div class="faq-a">
            <p>Filter by 🔒 Private in the Privacy filter. These are spots where you will genuinely be alone — secluded villas, private sandbanks, exclusive resort experiences, and off-the-map natural locations. Many of our most requested listings are entirely private by design.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-q" onclick="toggleFaq(this)">
            <span>Do you cover proposals outside of the current destinations?</span>
            <div class="faq-icon">+</div>
          </button>
          <div class="faq-a">
            <p>We currently cover eleven destination markets — from Bali and the Maldives to the Amalfi Coast, Santorini, Tulum, Costa Rica, and more. We are actively expanding. If you have a destination in mind that we don't yet cover, reach out — we take all expansion suggestions seriously.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-q" onclick="toggleFaq(this)">
            <span>I'm a hotel. How do I get listed?</span>
            <div class="faq-icon">+</div>
          </button>
          <div class="faq-a">
            <p>Visit our <button onclick="showPage('for-hotels'); return false;" class="faq-inline-link">For Hotels</button> page and submit an application. We review every property personally. If your venue meets our standards for a life-changing proposal experience, we'll be in touch within five business days.</p>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer>
  <div class="footer-inner">
    <div class="footer-top">
      <div class="footer-brand">
        <span class="footer-wordmark">Proposal Spots</span>
        <p>A curated archive of the world's most considered proposal locations. Selective, editorial, trustworthy.</p>
      </div>
      <div class="footer-col">
        <h4>Destinations</h4>
        <a href="#">Amalfi Coast</a>
        <a href="#">Santorini</a>
        <a href="#">Bali</a>
        <a href="#">Tulum</a>
        <a href="#">Costa Rica</a>
        <a href="#">View all →</a>
      </div>
      <div class="footer-col">
        <h4>Collections</h4>
        <a href="#">Most Private</a>
        <a href="#">Best Sunset</a>
        <a href="#">Luxury Resorts</a>
        <a href="#">Hidden Gems</a>
      </div>
      <div class="footer-col">
        <h4>Company</h4>
        <a href="#" onclick="showPage('about'); return false;">About</a>
        <a href="#" onclick="showPage('how-it-works'); return false;">How It Works</a>
        <a href="#" onclick="showPage('for-hotels'); return false;">For Hotels</a>
        <a href="#">Submit a Spot</a>
        <a href="#">Privacy Policy</a>
      </div>
    </div>
    <div class="footer-bottom">
      <span>© 2025 Proposal Spots. All rights reserved.</span>
      <span>Intentional. Selective. Timeless.</span>
    </div>
  </div>
</footer>

</div><!-- end page-home -->

<!-- FILTER OVERLAY + PANEL -->
<div class="filter-overlay" id="filter-overlay" onclick="closePanel()"></div>
<div class="filter-panel" id="filter-panel">
  <div class="panel-head">
    <h2>All Filters</h2>
    <button class="panel-close" onclick="closePanel()">✕</button>
  </div>
  <div class="panel-body">

    <div class="filter-group">
      <div class="filter-group-title">Food &amp; Drinks</div>
      <div class="filter-tags" id="fg-food">
        <div class="filter-tag" onclick="togglePanelTag(this,'food','Not available')">Not available</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'food','Drinks only')">Drinks only</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'food','Picnic possible')">Picnic possible</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'food','Private meal')">Private meal</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'food','On-site restaurant')">On-site restaurant</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'food','By request')">Can be arranged</div>
      </div>
    </div>

    <div class="filter-group">
      <div class="filter-group-title">Best Time</div>
      <div class="filter-tags" id="fg-time">
        <div class="filter-tag" onclick="togglePanelTag(this,'time','Sunrise')">Sunrise</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'time','Sunset')">Sunset</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'time','Mid-day')">Mid-day</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'time','Any time')">Any time</div>
      </div>
    </div>

    <div class="filter-group">
      <div class="filter-group-title">Access &amp; Effort</div>
      <div class="filter-tags" id="fg-effort">
        <div class="filter-tag" onclick="togglePanelTag(this,'effort','Easy')">Easy</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'effort','Moderate')">Moderate</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'effort','Adventurous')">Adventurous</div>
      </div>
    </div>

    <div class="filter-group">
      <div class="filter-group-title">Budget</div>
      <div class="filter-tags" id="fg-budget">
        <div class="filter-tag" onclick="togglePanelTag(this,'budget','Free')">Free</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'budget','Moderate')">$$ Moderate</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'budget','Expensive')">$$$ Expensive</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'budget','Luxury')">$$$$ Luxury</div>
      </div>
    </div>

    <div class="filter-group">
      <div class="toggle-row">
        <span class="toggle-label">Heels / Dress Friendly</span>
        <div class="toggle" id="toggle-heels" onclick="toggleSwitch('heels')"></div>
      </div>
    </div>

  </div>
  <div class="panel-footer">
    <button class="btn-clear" onclick="clearAllFilters()">Clear all</button>
    <button class="btn-apply" onclick="applyFilters()">Show results</button>
  </div>
</div>

<!-- ═══ RESULTS PAGE ═══ -->
<div id="page-results" class="page" style="display:none">
  <div class="results-page">

    <!-- Sticky filter bar -->
    <div class="results-topbar">
      <div class="results-topbar-left">

        <button class="results-back" onclick="showPage('home')">
          ← Back
        </button>
        <div class="results-divider-v"></div>

        <!-- Vibe pill -->
        <div class="results-panel-wrap">
          <button class="results-filter-pill" id="rpill-vibe" onclick="toggleResultsPanel('rvibe-panel','rpill-vibe')">
            Vibe
            <span class="pill-count" id="rvibe-count" style="display:none"></span>
          </button>
          <div class="results-inline-panel" id="rvibe-panel">
            <span class="inline-panel-label">Select all that apply</span>
            <div class="inline-tags">
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','Beach')">🏖 Beach</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','Mountain')">⛰ Mountain</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','Cliff')">🪨 Cliff</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','Lake')">🏞 Lake</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','Volcano')">🌋 Volcano</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','Ocean')">🌊 Ocean</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','City')">🏙 City</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','Jungle')">🌿 Jungle</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','Rural')">🌾 Rural</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','Boat')">⛵ Boat</div>
            </div>
          </div>
        </div>

        <!-- Privacy pill -->
        <div class="results-panel-wrap">
          <button class="results-filter-pill" id="rpill-privacy" onclick="toggleResultsPanel('rprivacy-panel','rpill-privacy')">
            Privacy
            <span class="pill-count" id="rprivacy-count" style="display:none"></span>
          </button>
          <div class="results-inline-panel" id="rprivacy-panel">
            <span class="inline-panel-label">Select all that apply</span>
            <div class="inline-tags">
              <div class="filter-tag" onclick="toggleResultsFilter(this,'privacy','Private')">🔒 Private</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'privacy','Light Crowd')">👥 Light Crowd</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'privacy','Moderate Crowd')">👥👥 Moderate</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'privacy','Everyone Will See')">👥👥👥 Public</div>
            </div>
          </div>
        </div>

        <!-- Country pill -->
        <div class="results-panel-wrap">
          <button class="results-filter-pill" id="rpill-country" onclick="toggleResultsPanel('rcountry-panel','rpill-country')">
            Country
            <span class="pill-count" id="rcountry-count" style="display:none"></span>
          </button>
          <div class="results-inline-panel" id="rcountry-panel">
            <span class="inline-panel-label">Select destination</span>
            <div class="inline-tags">
              <div class="filter-tag" onclick="toggleCountryFilter(this,'Nicaragua')">Nicaragua</div>
              <div class="filter-tag" onclick="toggleCountryFilter(this,'Costa Rica')">Costa Rica</div>
              <div class="filter-tag" onclick="toggleCountryFilter(this,'Mexico')">Mexico</div>
              <div class="filter-tag" onclick="toggleCountryFilter(this,'Italy')">Italy</div>
              <div class="filter-tag" onclick="toggleCountryFilter(this,'Greece')">Greece</div>
              <div class="filter-tag" onclick="toggleCountryFilter(this,'Indonesia')">Indonesia</div>
              <div class="filter-tag" onclick="toggleCountryFilter(this,'Maldives')">Maldives</div>
              <div class="filter-tag" onclick="toggleCountryFilter(this,'France')">France</div>
              <div class="filter-tag" onclick="toggleCountryFilter(this,'Portugal')">Portugal</div>
              <div class="filter-tag" onclick="toggleCountryFilter(this,'Switzerland')">Switzerland</div>
            </div>
          </div>
        </div>

        <!-- All Filters pill -->
        <button class="results-filter-pill" id="rpill-all" onclick="openPanel()">
          ⚙ All Filters
          <span class="pill-count" id="rfilter-count" style="display:none"></span>
        </button>

      </div>
      <button class="results-clear" onclick="clearAllFilters(); renderResultsPage()">Clear all</button>
    </div>

    <!-- Results header -->
    <div class="results-header">
      <span class="results-count-label">Matching proposal spots</span>
      <div class="results-count-title" id="results-count-title">Finding spots...</div>
      <div class="results-active-tags" id="results-active-tags"></div>
    </div>

    <!-- Results grid -->
    <div class="results-grid-wrap">
      <div class="spots-grid" id="results-grid"></div>
      <div class="results-empty" id="results-empty" style="display:none">
        <p>No spots match your filters.</p>
        <button onclick="clearAllFilters(); renderResultsPage()" style="background:none; border:1px solid var(--hairline); font-family:'Jost',sans-serif; font-size:10px; letter-spacing:0.16em; text-transform:uppercase; color:var(--mid); padding:10px 20px; cursor:pointer;">Clear Filters</button>
      </div>
    </div>

  </div>
</div>

<!-- ═══ PROPOSAL MAP PAGE ═══ -->
<div id="page-map" class="page" style="display:none">
  <div class="pg-map-wrap">
    <div class="pg-map-header">
      <span class="pg-eyebrow">Explore the world</span>
      <h1 class="pg-map-header-title">Find the perfect place to <em>ask.</em></h1>
    </div>
    <div class="pg-map-body">
      <!-- Canvas -->
      <div class="map-canvas">
        <div class="map-canvas-bg"></div>
        <div class="map-canvas-label">Proposal Spots — World Map</div>
        <div class="map-canvas-note">Mapbox integration · Clusters expand on zoom · Click a pin to preview</div>
        <!-- Pins -->
        <div class="map-pins">
          <div class="mpin" style="top:40%;left:49%" onclick="openMapSpot('Amalfi Coast','Italy','Belvedere di Villa Rufolo','Cliff · Private · $$$$','linear-gradient(160deg,#28342c,#1e2835)')">
            <div class="mpin-dot"></div><div class="mpin-label">Amalfi</div>
          </div>
          <div class="mpin" style="top:43%;left:54%" onclick="openMapSpot('Santorini','Greece','Oia Sunset Terrace','Cliff · Moderate Crowd · $$$$','linear-gradient(160deg,#1e2835,#162430)')">
            <div class="mpin-dot"></div><div class="mpin-label">Santorini</div>
          </div>
          <div class="mpin mpin-cluster" style="top:56%;left:74%" onclick="openMapSpot('Bali','Indonesia','Mount Batur Sunrise Point','Volcano · Light Crowd · $$','linear-gradient(160deg,#2c2018,#1e1610)')">
            <div class="mpin-dot"><span class="mpin-cluster-num">4</span></div><div class="mpin-label">Bali</div>
          </div>
          <div class="mpin" style="top:50%;left:26%" onclick="openMapSpot('Tulum','Mexico','Cenote Dos Ojos at Sunset','Jungle · Light Crowd · $$$','linear-gradient(160deg,#2a321e,#28342c)')">
            <div class="mpin-dot"></div><div class="mpin-label">Tulum</div>
          </div>
          <div class="mpin" style="top:53%;left:22%" onclick="openMapSpot('Costa Rica','Central America','Cloud Forest Bridge','Jungle · Private · $$','linear-gradient(160deg,#1e2818,#2a3420)')">
            <div class="mpin-dot"></div><div class="mpin-label">Costa Rica</div>
          </div>
          <div class="mpin" style="top:58%;left:64%" onclick="openMapSpot('Maldives','Indian Ocean','Overwater Villa at Sunset','Ocean · Private · $$$$','linear-gradient(160deg,#162430,#0e1c28)')">
            <div class="mpin-dot"></div><div class="mpin-label">Maldives</div>
          </div>
          <div class="mpin" style="top:37%;left:47%" onclick="openMapSpot('South of France','France','Lac de Gaube Lookout','Lake · Private · $$','linear-gradient(160deg,#1e2c38,#162030)')">
            <div class="mpin-dot"></div><div class="mpin-label">Côte d'Azur</div>
          </div>
          <div class="mpin mpin-cluster" style="top:34%;left:50%" onclick="openMapSpot('Swiss Alps','Switzerland','Grindelwald First Cliff Walk','Mountain · Light Crowd · $$$','linear-gradient(160deg,#1c2430,#141c28)')">
            <div class="mpin-dot"><span class="mpin-cluster-num">3</span></div><div class="mpin-label">Swiss Alps</div>
          </div>
          <div class="mpin" style="top:45%;left:21%" onclick="openMapSpot('Nicaragua','Central America','Laguna de Apoyo Crater Lake','Lake · Private · $$','linear-gradient(160deg,#28341e,#1e2818)')">
            <div class="mpin-dot"></div><div class="mpin-label">Nicaragua</div>
          </div>
          <div class="mpin" style="top:41%;left:46%" onclick="openMapSpot('Algarve','Portugal','Ponta da Piedade Sea Arches','Cliff · Light Crowd · $$$','linear-gradient(160deg,#2a2010,#1e1808)')">
            <div class="mpin-dot"></div><div class="mpin-label">Algarve</div>
          </div>
        </div>
        <!-- Spot preview card -->
        <div class="map-spot-preview" id="map-preview" style="display:none">
          <div class="msp-img">
            <div class="msp-img-bg" id="msp-bg"></div>
            <div class="msp-img-overlay"></div>
            <div class="msp-img-loc" id="msp-loc"></div>
            <button class="msp-close" onclick="document.getElementById('map-preview').style.display='none'">✕</button>
          </div>
          <div class="msp-body">
            <span class="msp-region" id="msp-region"></span>
            <div class="msp-name" id="msp-name"></div>
            <div class="msp-tags" id="msp-tags"></div>
            <a href="#" class="msp-cta">View Spot →</a>
          </div>
        </div>
      </div>
      <!-- Filters -->
      <div class="map-filters">
        <div class="mf-head">
          <div class="mf-head-title">Refine</div>
          <div class="mf-head-count" id="mf-count">140+ proposal spots</div>
        </div>
        <div class="mf-body">
          <div class="mf-group">
            <div class="mf-label">Vibe</div>
            <div class="mf-tags">
              <div class="mf-tag" onclick="this.classList.toggle('on')">🏖 Beach</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">⛰ Mountain</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">🪨 Cliff</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">🏞 Lake</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">🌋 Volcano</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">🌊 Ocean</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">🏙 City</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">🌿 Jungle</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">🌾 Rural</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">⛵ Boat</div>
            </div>
          </div>
          <div class="mf-group">
            <div class="mf-label">Privacy</div>
            <div class="mf-tags">
              <div class="mf-tag" onclick="this.classList.toggle('on')">🔒 Private</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">👥 Light Crowd</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">👥👥 Moderate</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">👥👥👥 Public</div>
            </div>
          </div>
          <div class="mf-group">
            <div class="mf-label">Budget</div>
            <div class="mf-tags">
              <div class="mf-tag" onclick="this.classList.toggle('on')">Free</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">$$ Moderate</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">$$$ Expensive</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">$$$$ Luxury</div>
            </div>
          </div>
          <div class="mf-group">
            <div class="mf-label">Destination</div>
            <div class="mf-tags">
              <div class="mf-tag" onclick="this.classList.toggle('on')">Amalfi</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">Santorini</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">Bali</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">Tulum</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">Maldives</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">France</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">Costa Rica</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">Switzerland</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">Portugal</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">Nicaragua</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ═══ INSPIRATION PAGE ═══ -->
<div id="page-inspiration" class="page" style="display:none">
  <div class="pg-inspiration">
    <!-- Hero -->
    <div class="pg-dark-hero">
      <div class="pg-dark-hero-bg insp-hero-bg"></div>
      <div class="pg-dark-hero-content">
        <span class="pg-eyebrow" style="color:rgba(165,90,74,0.8)">Real proposals. Real moments.</span>
        <h1 class="pg-dark-hero-title">The stories that<br>started with <em>yes.</em></h1>
      </div>
    </div>
    <!-- Intro -->
    <div class="insp-intro">
      <p class="insp-intro-text">"The best proposals are not performances. They are moments of perfect honesty — the right place, the right person, the right words. These are five of them."</p>
    </div>
    <!-- Stories -->
    <div class="insp-stories">

      <article class="insp-story">
        <div class="insp-story-img">
          <div class="insp-story-img-bg" style="background:linear-gradient(150deg,#1a2210 0%,#2a3820 50%,#1e2c18 100%)"></div>
          <div class="insp-story-loc">Positano, Amalfi Coast · Italy</div>
        </div>
        <div class="insp-story-body">
          <span class="insp-story-eyebrow">Amalfi Coast · June 2024</span>
          <h2 class="insp-story-title">He hid the ring in a lemon grove above the sea</h2>
          <p class="insp-story-text">James had been planning for four months. He booked a private terrace at a small hotel above Positano — one most people walk past without looking up. He told Sarah they were going for a late lunch. What she didn't know was that the table had been set with wildflowers he'd picked that morning, and that her favourite song was being played by a guitarist around the corner. When she turned to ask why he was so quiet, he was already on one knee. She said yes before he finished asking.</p>
          <div class="insp-story-meta">
            <span>🪨 Cliff</span><span>🔒 Private</span><span>$$$$</span><span>Amalfi Coast</span>
          </div>
        </div>
      </article>

      <article class="insp-story rev">
        <div class="insp-story-img">
          <div class="insp-story-img-bg" style="background:linear-gradient(150deg,#1e1408 0%,#2a1c10 50%,#201408 100%)"></div>
          <div class="insp-story-loc">Tegallalang, Ubud · Bali</div>
        </div>
        <div class="insp-story-body">
          <span class="insp-story-eyebrow">Bali · February 2024</span>
          <h2 class="insp-story-title">At sunrise on the edge of a rice terrace, nothing else existed</h2>
          <p class="insp-story-text">Marcus woke Emma at 4:30am and told her they were going to catch the sunrise. She was not happy. But by the time they reached the terrace overlooking the valley — mist still rising from the fields — she understood. There was a small breakfast laid out on a blanket. He had arranged it the night before while she slept. The photographer they thought was a stranger on the path caught every moment from a distance. They still can't look at those photos without crying.</p>
          <div class="insp-story-meta">
            <span>🌿 Jungle</span><span>🔒 Private</span><span>$$$</span><span>Bali</span>
          </div>
        </div>
      </article>

      <article class="insp-story">
        <div class="insp-story-img">
          <div class="insp-story-img-bg" style="background:linear-gradient(150deg,#080e18 0%,#101828 50%,#0c1420 100%)"></div>
          <div class="insp-story-loc">North Malé Atoll · Maldives</div>
        </div>
        <div class="insp-story-body">
          <span class="insp-story-eyebrow">Maldives · December 2023</span>
          <h2 class="insp-story-title">A sandbank, a sunset, and no one else on earth</h2>
          <p class="insp-story-text">The resort arranged a private seaplane transfer to a sandbank that disappears at high tide. They had twenty minutes before the ocean returned. Daniel had worked with the concierge for two weeks on every detail — the champagne chilling in the water, the rose petals forming a circle, the exact moment to drop to one knee as the sun hit the horizon. Camille describes it as feeling like the world paused. The water was already at their ankles when they kissed.</p>
          <div class="insp-story-meta">
            <span>🌊 Ocean</span><span>🔒 Private</span><span>$$$$</span><span>Maldives</span>
          </div>
        </div>
      </article>

      <article class="insp-story rev">
        <div class="insp-story-img">
          <div class="insp-story-img-bg" style="background:linear-gradient(150deg,#101808 0%,#182010 50%,#141c0c 100%)"></div>
          <div class="insp-story-loc">Monteverde Cloud Forest · Costa Rica</div>
        </div>
        <div class="insp-story-body">
          <span class="insp-story-eyebrow">Costa Rica · March 2024</span>
          <h2 class="insp-story-title">Inside the cloud forest, suspended above everything</h2>
          <p class="insp-story-text">Luca booked a private hanging bridge tour at dawn — just the two of them and a guide who quietly disappeared. Standing on a bridge suspended in the mist above the cloud forest canopy, with howler monkeys in the distance and the whole world below them, he asked. Sofia laughed first. Then cried. Then said yes eleven times on the walk back down. "It felt like we were the only two people on the planet," she said. "Because for a moment, we were."</p>
          <div class="insp-story-meta">
            <span>🌿 Jungle</span><span>👥 Light Crowd</span><span>$$</span><span>Costa Rica</span>
          </div>
        </div>
      </article>

      <article class="insp-story">
        <div class="insp-story-img">
          <div class="insp-story-img-bg" style="background:linear-gradient(150deg,#1a1008 0%,#281808 50%,#1e1408 100%)"></div>
          <div class="insp-story-loc">Mount Batur Crater Rim · Bali</div>
        </div>
        <div class="insp-story-body">
          <span class="insp-story-eyebrow">Bali · August 2024</span>
          <h2 class="insp-story-title">Above the clouds at sunrise — he asked on top of a volcano</h2>
          <p class="insp-story-text">The guide said the hike would take three hours. Tom didn't mention the ring box tucked into his jacket. They started at 3am with headlamps and reached the summit just as the sky began turning. Below them, the caldera lake glowed gold. When the first light broke over the crater rim and painted everything amber, Tom turned to Priya — breathless, euphoric, completely undone by the view — and said "I want every sunrise to look like this, with you." She said he ruined her mascara. She meant it as a compliment.</p>
          <div class="insp-story-meta">
            <span>🌋 Volcano</span><span>👥 Light Crowd</span><span>$$</span><span>Bali</span>
          </div>
        </div>
      </article>

    </div>
    <!-- CTA -->
    <div class="pg-cta-strip">
      <p class="pg-eyebrow" style="text-align:center">Your story starts here</p>
      <h2 class="pg-cta-strip-title">Find the place that<br>becomes your story.</h2>
      <p class="pg-cta-strip-sub">Explore our curated collection of the world's finest proposal locations.</p>
      <button class="pg-cta-btn" onclick="showPage('home')">Explore Proposal Spots →</button>
    </div>
  </div>
</div>

<!-- ═══ HOW IT WORKS PAGE ═══ -->
<div id="page-how-it-works" class="page" style="display:none">
  <div class="pg-hiw">
    <div class="hiw-header">
      <span class="pg-eyebrow" style="text-align:center;display:block">Simple by design</span>
      <h1 class="hiw-title">From idea to<br><strong>unforgettable.</strong></h1>
      <p class="hiw-sub">We are the only curated global platform for the world's finest proposal experiences. Every spot is hand-selected. Every detail has been considered. All you have to do is show up.</p>
    </div>

    <div class="hiw-flow">
      <div class="hiw-step">
        <div class="hiw-step-num">01</div>
        <div class="hiw-step-track"></div>
        <div class="hiw-step-content">
          <div class="hiw-step-icon">✦</div>
          <h3 class="hiw-step-title">Explore the Collection</h3>
          <p class="hiw-step-body">Browse our curated archive of the world's most extraordinary proposal locations. Search by destination, vibe, privacy, and budget. Every listing has been personally vetted — we only add places we would genuinely propose at ourselves. No padding, no compromises.</p>
        </div>
      </div>
      <div class="hiw-step">
        <div class="hiw-step-num">02</div>
        <div class="hiw-step-track"></div>
        <div class="hiw-step-content">
          <div class="hiw-step-icon">◈</div>
          <h3 class="hiw-step-title">Choose Your Spot</h3>
          <p class="hiw-step-body">Each proposal spot comes with a full description, a step-by-step proposal plan, recommended photographers, hotel pairings, and everything you need to understand the experience before you commit. We give you all the information, so the moment can be entirely yours.</p>
        </div>
      </div>
      <div class="hiw-step">
        <div class="hiw-step-num">03</div>
        <div class="hiw-step-track"></div>
        <div class="hiw-step-content">
          <div class="hiw-step-icon">⬡</div>
          <h3 class="hiw-step-title">Book Your Experience</h3>
          <p class="hiw-step-body">Connect directly with our partner hotels and venues through Proposal Spots. Every partner has been briefed on what a proposal requires: discretion, attention to detail, and the ability to make everything feel seamless. They are expecting you, and they are ready.</p>
        </div>
      </div>
      <div class="hiw-step">
        <div class="hiw-step-num">04</div>
        <div class="hiw-step-track"></div>
        <div class="hiw-step-content">
          <div class="hiw-step-icon">✦</div>
          <h3 class="hiw-step-title">Create the Memory</h3>
          <p class="hiw-step-body">The rest is yours. We have done the curation, the research, the vetting. You bring the love. The result is a moment neither of you will ever forget — and a story worth telling for the rest of your lives together.</p>
        </div>
      </div>
    </div>

    <div class="hiw-trust">
      <div class="hiw-trust-inner">
        <div class="hiw-trust-stat">
          <span class="hiw-trust-num">11</span>
          <div class="hiw-trust-label">Destination Markets</div>
        </div>
        <div class="hiw-trust-div"></div>
        <div class="hiw-trust-stat">
          <span class="hiw-trust-num">140+</span>
          <div class="hiw-trust-label">Curated Spots</div>
        </div>
        <div class="hiw-trust-div"></div>
        <div class="hiw-trust-stat">
          <span class="hiw-trust-num">100%</span>
          <div class="hiw-trust-label">Hand-Vetted</div>
        </div>
        <div class="hiw-trust-div"></div>
        <div class="hiw-trust-stat">
          <span class="hiw-trust-num">0</span>
          <div class="hiw-trust-label">Random Listings</div>
        </div>
      </div>
    </div>

    <div class="pg-cta-strip">
      <h2 class="pg-cta-strip-title">The world's best proposal<br>experiences, curated for you.</h2>
      <p class="pg-cta-strip-sub">Start with a destination, or let the map guide you.</p>
      <button class="pg-cta-btn" onclick="showPage('home')">Start Exploring →</button>
    </div>
  </div>
</div>

<!-- ═══ ABOUT PAGE ═══ -->
<div id="page-about" class="page" style="display:none">
  <div class="pg-about">

    <!-- HERO -->
    <div class="about-hero">
      <div class="about-hero-bg"></div>
      <div class="about-hero-content">
        <span class="pg-eyebrow" style="color:rgba(165,90,74,0.85); margin-bottom:20px; display:block">About Proposal Spots</span>
        <h1 class="about-hero-title">There is one question<br>that changes <em>everything.</em></h1>
        <p class="about-hero-sub">It deserves more than a last-minute plan.<br>It deserves intention. Beauty. A setting worthy of the moment.</p>
      </div>
    </div>

    <!-- OPENING STATEMENT -->
    <div class="about-opening">
      <div class="about-opening-inner">
        <p class="about-opening-text">A marriage proposal is not an event. It is the beginning of a story — the first sentence of a chapter that will be told for the rest of a lifetime. The location is not a backdrop. It is part of the memory. The light, the silence, the feeling of being somewhere that made everything feel possible — these details are not decorative. They are the difference between a moment and an unforgettable one.</p>
        <p class="about-opening-text">Proposal Spots was built on a single belief: that the most important question of your life deserves the most considered setting in the world.</p>
      </div>
    </div>

    <!-- PHILOSOPHY -->
    <div class="about-section about-section-alt">
      <div class="about-section-inner">
        <div class="about-section-label">Our Philosophy</div>
        <h2 class="about-section-title">Curation is<br>an act of <em>care.</em></h2>
        <div class="about-philosophy-grid">
          <div class="about-phil-item">
            <div class="about-phil-num">—</div>
            <h3 class="about-phil-title">Atmosphere matters</h3>
            <p class="about-phil-body">The right setting creates an emotional state that no amount of planning can manufacture. We search for places that already carry weight — locations where the air feels different, where the light arrives perfectly, where the world seems to slow down.</p>
          </div>
          <div class="about-phil-item">
            <div class="about-phil-num">—</div>
            <h3 class="about-phil-title">Privacy is non-negotiable</h3>
            <p class="about-phil-body">A proposal is one of the most vulnerable moments a person will ever experience. It should never happen in a crowd. We prioritise locations and experiences that offer genuine seclusion — where the only witness is the person you love.</p>
          </div>
          <div class="about-phil-item">
            <div class="about-phil-num">—</div>
            <h3 class="about-phil-title">Details are the experience</h3>
            <p class="about-phil-body">The timing of arrival, the position of the sun, the distance to the nearest hotel — every detail changes the outcome. We document each one. Because we believe the person planning this moment deserves to feel completely prepared, and completely calm.</p>
          </div>
          <div class="about-phil-item">
            <div class="about-phil-num">—</div>
            <h3 class="about-phil-title">Curation over volume</h3>
            <p class="about-phil-body">We do not list everything. We list what we would genuinely recommend. Every spot on this platform has been reviewed for its emotional quality — not just its photography. If it does not move us, it does not make the list.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- WHAT MAKES US DIFFERENT -->
    <div class="about-section">
      <div class="about-section-inner">
        <div class="about-section-label">What Makes Us Different</div>
        <h2 class="about-section-title">Two ways to<br>experience a <em>proposal.</em></h2>
        <p class="about-diff-intro">We design for two distinct intentions. Both are curated. Both are extraordinary.</p>
        <div class="about-diff-grid">
          <div class="about-diff-card">
            <div class="about-diff-num">01</div>
            <h3 class="about-diff-title">The Proposal Moment</h3>
            <p class="about-diff-body">For those who already have the destination. We provide the exact location — a private cliff, a hidden terrace, a secluded beach — along with a step-by-step proposal plan, photographer recommendations, and every practical detail needed to execute the moment with complete confidence.</p>
            <div class="about-diff-tag">Location · Planning · Photography</div>
          </div>
          <div class="about-diff-card about-diff-card-dark">
            <div class="about-diff-num" style="color:rgba(165,90,74,0.7)">02</div>
            <h3 class="about-diff-title" style="color:rgba(253,252,250,0.95)">The Full Destination Experience</h3>
            <p class="about-diff-body" style="color:rgba(244,241,235,0.6)">For those building the entire trip around the proposal. We combine a curated proposal location with a hand-selected hotel or eco-lodge — properties that understand what this moment requires, and are prepared to make it seamless from arrival to the morning after.</p>
            <div class="about-diff-tag" style="color:rgba(165,90,74,0.8); border-color:rgba(165,90,74,0.3)">Location · Hotel · Full Experience</div>
          </div>
        </div>
      </div>
    </div>

    <!-- OUR PROCESS -->
    <div class="about-section about-section-alt">
      <div class="about-section-inner">
        <div class="about-section-label">Our Process</div>
        <h2 class="about-section-title">From discovery<br>to the <em>moment.</em></h2>
        <div class="about-process-steps">
          <div class="about-process-step">
            <div class="about-process-n">01</div>
            <div class="about-process-content">
              <h3 class="about-process-title">Discover the location</h3>
              <p class="about-process-body">Browse our curated archive by destination, vibe, privacy, and budget. Every listing includes a full description, photo documentation, access details, and an honest assessment of what the experience actually feels like.</p>
            </div>
          </div>
          <div class="about-process-step">
            <div class="about-process-n">02</div>
            <div class="about-process-content">
              <h3 class="about-process-title">Choose your experience</h3>
              <p class="about-process-body">Select the proposal moment that matches your vision — whether that is a private jungle deck at sunset, a cliffside terrace above the sea, or an overwater villa at the end of the world. Then decide how much of the surrounding experience you want us to curate.</p>
            </div>
          </div>
          <div class="about-process-step">
            <div class="about-process-n">03</div>
            <div class="about-process-content">
              <h3 class="about-process-title">We coordinate with the venue</h3>
              <p class="about-process-body">Our partner hotels and venues have been briefed on what a proposal requires. Discretion. Timing. The ability to make everything feel effortless. We handle the communication, the setup confirmation, and any special arrangements — so you arrive with nothing left to worry about.</p>
            </div>
          </div>
          <div class="about-process-step">
            <div class="about-process-n">04</div>
            <div class="about-process-content">
              <h3 class="about-process-title">The moment happens</h3>
              <p class="about-process-body">Everything is in place. The location has been chosen with care, the details have been considered, and the people around you know their role. All that remains is the question — and the answer that begins the rest of your life together.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- GLOBAL VISION -->
    <div class="about-vision">
      <div class="about-vision-inner">
        <span class="pg-eyebrow" style="color:rgba(165,90,74,0.8); margin-bottom:20px; display:block; text-align:center">Our Vision</span>
        <h2 class="about-vision-title">Love is universal.<br>The setting should <em>be too.</em></h2>
        <p class="about-vision-body">We are building the world's most comprehensive archive of proposal locations — from volcanic islands in Central America to the clifftops of the Amalfi Coast, from overwater villas in the Maldives to hidden mountain lakes in the Swiss Alps. Every culture, every continent, every kind of love.</p>
        <p class="about-vision-body">Our belief is simple: the way proposals are planned needs to change. The information exists — the extraordinary places, the experienced photographers, the hotels that do this beautifully. It has just never been gathered, curated, and presented in one place. Until now.</p>
        <div class="about-vision-stats">
          <div class="about-vision-stat">
            <span class="about-vision-num">11</span>
            <span class="about-vision-label">Destination Markets</span>
          </div>
          <div class="about-vision-div"></div>
          <div class="about-vision-stat">
            <span class="about-vision-num">140+</span>
            <span class="about-vision-label">Curated Spots</span>
          </div>
          <div class="about-vision-div"></div>
          <div class="about-vision-stat">
            <span class="about-vision-num">100%</span>
            <span class="about-vision-label">Hand-Selected</span>
          </div>
        </div>
      </div>
    </div>

    <!-- CLOSING -->
    <div class="pg-cta-strip" style="background:var(--ink)">
      <p class="pg-eyebrow" style="color:rgba(165,90,74,0.8); text-align:center; margin-bottom:20px">The beginning</p>
      <h2 class="pg-cta-strip-title" style="color:rgba(253,252,250,0.95)">One question.<br>A lifetime of <em style="font-family:'Cormorant',serif">yes.</em></h2>
      <p class="pg-cta-strip-sub" style="color:rgba(244,241,235,0.5)">Find the place where you want to ask it.</p>
      <button class="pg-cta-btn" onclick="showPage('home')" style="background:rgba(244,241,235,0.95); color:var(--ink);">Explore the Collection →</button>
    </div>

  </div>
</div>

<!-- ═══ FOR HOTELS PAGE ═══ -->
<div id="page-for-hotels" class="page" style="display:none">
  <div class="pg-hotels">
    <!-- Hero -->
    <div class="pg-dark-hero">
      <div class="pg-dark-hero-bg hotels-hero-bg"></div>
      <div class="pg-dark-hero-content">
        <span class="pg-eyebrow" style="color:rgba(165,90,74,0.8)">Partner with us</span>
        <h1 class="pg-dark-hero-title">Be the place<br>they say <em>yes.</em></h1>
        <p class="pg-dark-hero-sub">We bring the world's most intentional travellers to the world's most remarkable properties.</p>
      </div>
    </div>

    <div class="hotels-body">
      <!-- Pitch -->
      <div class="hotels-pitch">
        <div class="hotels-pitch-text">
          <span class="pg-eyebrow">Why Proposal Spots</span>
          <h2 class="hotels-pitch-title">We don't list hotels.<br>We <strong>position</strong> them.</h2>
          <p>The couple planning a proposal is among the most valuable guests in luxury travel. They are emotionally committed to the experience. They spend more. They stay longer. They return on anniversaries. They refer. And they remember — forever — where they were when it happened.</p>
          <p>We place your property in front of this exact audience. Not through broad advertising. Through curated, editorial trust — built deliberately, for the guest who has already decided they want the very best.</p>
          <p>We are selective. We do not list every hotel. We list the properties we believe are genuinely worthy of a life-changing moment. That selectivity is precisely what makes a placement here meaningful — and commercially powerful.</p>
        </div>
        <div class="hotels-aside">
          <div class="hotels-aside-card">
            <span class="hotels-aside-num">140+</span>
            <div class="hotels-aside-label">Curated proposal experiences</div>
          </div>
          <div class="hotels-aside-card">
            <span class="hotels-aside-num">11</span>
            <div class="hotels-aside-label">Destination markets</div>
          </div>
          <div class="hotels-aside-card">
            <span class="hotels-aside-num">100%</span>
            <div class="hotels-aside-label">Intent-driven audience</div>
          </div>
        </div>
      </div>

      <!-- Pillars -->
      <div class="hotels-pillars">
        <div class="hotels-pillar">
          <div class="hotels-pillar-icon">◈</div>
          <h3>Editorial Positioning</h3>
          <p>Your property is presented as a destination for life's most meaningful moments — not as one listing among thousands. We write your story, not just your address.</p>
        </div>
        <div class="hotels-pillar">
          <div class="hotels-pillar-icon">✦</div>
          <h3>Highest Purchase Intent</h3>
          <p>Every visitor to Proposal Spots is actively planning a proposal. The emotional commitment — and spend — is unlike any other travel audience. They are ready to book.</p>
        </div>
        <div class="hotels-pillar">
          <div class="hotels-pillar-icon">⬡</div>
          <h3>Global Qualified Reach</h3>
          <p>Our audience spans the US, UK, Canada, Australia, Germany and Switzerland — the world's highest-spending proposal markets. Real buyers. Real intent.</p>
        </div>
      </div>

      <!-- Form -->
      <div class="hotels-form-section">
        <span class="pg-eyebrow">Join the collection</span>
        <h2 class="hotels-form-title">Apply to Join</h2>
        <p class="hotels-form-sub">We review every application personally. If your property meets our standards, we'll be in touch within 5 business days.</p>
        <form class="hf-form" id="hf-form" onsubmit="submitHotelForm(event)">
          <div class="hf-row">
            <div class="hf-field">
              <label>Hotel Name</label>
              <input type="text" placeholder="The Grand Positano" required>
            </div>
            <div class="hf-field">
              <label>Contact Name</label>
              <input type="text" placeholder="Your full name" required>
            </div>
          </div>
          <div class="hf-row">
            <div class="hf-field">
              <label>Contact Email</label>
              <input type="email" placeholder="you@hotel.com" required>
            </div>
            <div class="hf-field">
              <label>Phone / WhatsApp</label>
              <input type="tel" placeholder="+1 000 000 0000">
            </div>
          </div>
          <div class="hf-field">
            <label>Property Location</label>
            <input type="text" placeholder="City, Country" required>
          </div>
          <button type="submit" class="hf-submit">Submit Application</button>
        </form>
        <div class="hf-confirm" id="hf-confirm" style="display:none">
          <div class="hf-confirm-icon">✦</div>
          <h3 class="hf-confirm-title">Thank you for applying.</h3>
          <p class="hf-confirm-text">We will review your submission carefully and reach out shortly. We're genuinely excited about the possibility of creating unforgettable moments together.</p>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
// ═══════════════════════════════════════════════════════════
//  STATE — must be declared first
// ═══════════════════════════════════════════════════════════
const state = {
  vibe: new Set(),
  privacy: new Set(),
  food: new Set(),
  time: new Set(),
  effort: new Set(),
  budget: new Set(),
  country: new Set(),
  toggles: { heels: false }
};

// ═══════════════════════════════════════════════════════════
//  AIRTABLE CONFIGURATION
//  ─────────────────────────────────────────────────────────
//  When you have your credentials, replace the three values
//  below and set AIRTABLE_LIVE = true.
//  That's the only change needed to go fully live.
// ═══════════════════════════════════════════════════════════
const AIRTABLE_LIVE  = true;
const AIRTABLE_BASE  = 'appN5GFcdPJvU1qff';
const AIRTABLE_TABLE = 'tblgpEUkpph612Hw5';
const AIRTABLE_TOKEN = 'AIRTABLE_TOKEN_PLACEHOLDER';

// ─────────────────────────────────────────────────────────
//  LIVE FETCH FROM AIRTABLE (direct — no backend needed for
//  read-only public data, but token is visible in source.
//  For production, proxy through Vercel — see comments.)
// ─────────────────────────────────────────────────────────
async function fetchFromAirtable() {
  try {
    // Call our secure Vercel proxy — token never exposed in browser
    const response = await fetch('/api/spots');

    if (!response.ok) {
      console.error('API error:', response.status);
      console.warn('→ Falling back to mock data.');
      return MOCK_SPOTS;
    }

    const data = await response.json();

    if (!data.records?.length) {
      console.warn('API returned 0 records. Check Status field is set to "Published" in Airtable.');
      return MOCK_SPOTS;
    }

    console.log(`✓ Airtable: loaded ${data.records.length} spots`);

    return data.records.map(r => {
      const f = r.fields;

      const rawPrivacy = f['Privacy'] || '';
      const privacy = rawPrivacy.includes('Private') ? 'Private'
        : rawPrivacy.includes('Light') ? 'Light Crowd'
        : rawPrivacy.includes('Moderate') ? 'Moderate Crowd'
        : rawPrivacy.includes('Everyone') ? 'Everyone Will See'
        : rawPrivacy;

      const rawBudget = f['Budget'] || '';
      const budget = rawBudget === 'Free' ? 'Free'
        : rawBudget === 'Moderate' ? '$$'
        : rawBudget === 'Expensive' ? '$$$'
        : rawBudget === 'Luxury' ? '$$$$'
        : rawBudget;

      // Vibe Secondary — multi-select, filter out non-vibe values like "Luxury"
      const vibeOptions = new Set(['Beach','Mountain','Cliff','Lake','Volcano','Ocean','City','Jungle','Rural','Boat']);
      const vibeSecondaryArr = Array.isArray(f['Vibe Secondary'])
        ? f['Vibe Secondary'].filter(v => vibeOptions.has(v))
        : (f['Vibe Secondary'] ? [f['Vibe Secondary']] : []);

      const otherVibeArr = Array.isArray(f['Other Vibe'])
        ? f['Other Vibe']
        : (f['Other Vibe'] ? [f['Other Vibe']] : []);

      // Best Time — can be string or array
      const bestTime = Array.isArray(f['Best Time'])
        ? f['Best Time']
        : (f['Best Time'] ? [f['Best Time']] : []);

      // Heel / Dress Friendly — note the double space in the actual field name
      const heelFriendly = f['Heel / Dress  Friendly'] === 'Yes' 
        || f['Heel / Dress Friendly'] === 'Yes'
        || f['Heel / Dress  Friendly'] === true
        || f['Heal / Dress Friendly'] === true
        || false;

      return {
        id:                      r.id,
        Name:                    f['Spot Name']               || f['Name'] || '',
        Country:                 f['Country']                 || '',
        Region:                  f['Region / Town']           || f['Region'] || '',
        Vibe:                    f['Vibe']                    || '',
        'Vibe Secondary':        vibeSecondaryArr[0]          || '',
        'Vibe Secondary All':    vibeSecondaryArr,
        'Other Vibe':            otherVibeArr,
        Privacy:                 privacy,
        Budget:                  budget,
        'Best Time':             bestTime,
        'Food & Drinks':         f['Food & Drinks']           || '',
        'Access & Effort':       f['Access & Effort']         || '',
        'Access Details':        f['Access Details']          || '',
        'Heal / Dress Friendly': heelFriendly,
        'Line Summary':          f['Line Summary']            || '',
        'Full Summary':          f['Full Summary']            || '',
        'Proposal Plan Steps':   f['Proposal Plan Steps']     || '',
        'Cover Photo':           f['Cover Photo']?.[0]?.url   || null,
        'Gallery Photos':        (f['Gallery Photos'] || []).map(p => p.url),
        'Recommended Photographer': f['Recommended Photographer'] || '',
        'Google Maps Link':      f['Google Maps Link']        || '',
        'Linked Hotel / Venue':  f['Linked Hotel / Venue']    || '',
        Published:               true,
        badge:                   f['Badge']                   || null,
        coverGradient:           f['Cover Gradient']          || 'linear-gradient(160deg,#28342c,#1e2835)'
      };
    });
  } catch (err) {
    console.error('API fetch failed:', err);
    return MOCK_SPOTS;
  }
}

// ─────────────────────────────────────────────────────────
//  MOCK DATA (used when AIRTABLE_LIVE = false)
// ─────────────────────────────────────────────────────────
const MOCK_SPOTS = [
  {
    id: 'recJrPfNWsskQYBxP',
    Name: 'Ometepe Volcano View',
    Country: 'Nicaragua',
    Region: 'Ometepe Island',
    Vibe: 'Volcano',
    'Vibe Secondary': 'Mountain',
    'Vibe Secondary All': ['Mountain', 'Lake', 'Jungle'],
    'Other Vibe': [],
    Privacy: 'Private',
    Budget: '$$',
    'Best Time': ['Sunset'],
    'Food & Drinks': '',
    'Access & Effort': 'Easy',
    'Access Details': 'Very accessible by car and parking at the hotel',
    'Heal / Dress Friendly': true,
    'Line Summary': 'Private luxury meditation deck overlooking Concepción Volcano and Lake Nicaragua, located at Totoco Eco-Lodge.',
    'Full Summary': 'An elevated jungle meditation viewpoint at Totoco Eco-Lodge on Ometepe Island, offering uninterrupted sunset views of Concepción Volcano and Lake Nicaragua.',
    'Proposal Plan Steps': '1. Coordinate in advance with the Totoco Eco-Lodge owner to reserve the private meditation deck.\n2. Stage the experience as a casual sunset photo session. Plan to arrive around 4:00 PM for cocktails on the deck.\n3. A hidden photographer can position discreetly in advance.\n4. The ideal proposal window is around 5:00 PM as the light softens and Concepción Volcano glows.\n5. After the proposal, celebrate with champagne — Totoco can arrange a dramatic machete bottle opening.\n6. Transition into a fully private dinner on the same deck from 5:15–6:00 PM.',
    'Cover Photo': null,
    'Recommended Photographer': '',
    'Google Maps Link': 'https://maps.app.goo.gl/hJyoWPFnHUb837b5A',
    'Linked Hotel / Venue': 'Totoco Eco-Lodge',
    Published: true,
    badge: null,
    coverGradient: 'linear-gradient(160deg,#28342c,#1e2835)'
  }
];

// ─────────────────────────────────────────────────────────
//  MASTER FETCH — switches between live and mock
// ─────────────────────────────────────────────────────────
async function fetchSpots() {
  if (AIRTABLE_LIVE) {
    return await fetchFromAirtable();
  }
  return MOCK_SPOTS.filter(s => s.Published === true);
}

let allSpots = [];

// ─────────────────────────────────────────────────────────
//  RENDER SPOT CARDS
// ─────────────────────────────────────────────────────────
function renderSpots(spots) {
  const grid  = document.getElementById('spots-grid');
  const empty = document.getElementById('spots-empty');
  const countEl = document.getElementById('spots-count');
  const eyebrow = document.getElementById('spots-eyebrow');
  const title   = document.getElementById('spots-title');

  // Detect if any filters are active
  const filtersActive = state.vibe.size > 0 || state.privacy.size > 0 ||
    state.budget.size > 0 || state.food.size > 0 || state.time.size > 0 ||
    state.effort.size > 0 || state.toggles.heels ||
    (document.getElementById('search-main')?.value || '').trim().length > 0;

  // Update section header
  if (filtersActive) {
    if (eyebrow) eyebrow.textContent = 'Filtered results';
    if (title) title.innerHTML = `<strong>${spots.length}</strong> spot${spots.length !== 1 ? 's' : ''} found`;
    if (countEl) countEl.style.display = 'none';
  } else {
    if (eyebrow) eyebrow.textContent = 'Hand-selected';
    if (title) title.innerHTML = `Editor's <strong>Picks</strong>`;
    if (countEl) {
      countEl.innerHTML = `<strong>${spots.length}</strong> spots`;
      countEl.style.display = '';
    }
  }

  if (!spots.length) {
    grid.innerHTML = '';
    empty.style.display = 'block';
    return;
  }
  empty.style.display = 'none';

  const privacyEmoji = {
    'Private': '🔒', 'Light Crowd': '👥',
    'Moderate Crowd': '👥👥', 'Everyone Will See': '👥👥👥'
  };

  grid.innerHTML = spots.map(s => {
    const imgStyle = s['Cover Photo']
      ? `background-image:url('${s['Cover Photo']}');background-size:cover;background-position:center;`
      : `background:${s.coverGradient || 'var(--bg3)'};`;
    const badge = s.badge ? `<span class="spot-card-badge">${s.badge}</span>` : '';
    const vibes = [s.Vibe, s['Vibe Secondary']].filter(Boolean);
    const vibeTags = vibes.map(v => `<span class="spot-card-tag">${v}</span>`).join('');
    const privacy = s.Privacy || '';
    const privLabel = `${privacyEmoji[privacy] || ''} ${privacy}`.trim();

    return `
      <div class="spot-card" onclick="openSpotDrawer('${s.id}')" style="cursor:pointer">
        <div class="spot-card-img">
          <div class="img-bg" style="${imgStyle}"></div>
          ${badge}
          <div class="spot-save" data-spot-id="${s.id}" onclick="toggleSaveSpot(event,'${s.id}')">♡</div>
        </div>
        <div class="spot-card-body">
          <span class="spot-card-market">${s.Region} · ${s.Country}</span>
          <div class="spot-card-name">${s.Name}</div>
          <p class="spot-card-summary">${s['Line Summary'] || ''}</p>
          <div class="spot-card-tags">${vibeTags}</div>
          <div class="spot-card-footer">
            <span class="spot-card-budget">${s.Budget || ''}</span>
            <span class="spot-card-privacy">${privLabel}</span>
          </div>
        </div>
      </div>`;
  }).join('');
}

// ─────────────────────────────────────────────────────────
//  SPOT DETAIL DRAWER
// ─────────────────────────────────────────────────────────
// Track where user came from so back button works correctly
let spotReturnPage = 'home';

function openSpotDrawer(id) {
  const s = allSpots.find(x => x.id === id);
  if (!s) return;

  // Remember which page we came from
  const activePage = document.querySelector('.page.active');
  spotReturnPage = activePage ? activePage.id.replace('page-', '') : 'home';

  const privacyEmoji = { 'Private':'🔒','Light Crowd':'👥','Moderate Crowd':'👥👥','Everyone Will See':'👥👥👥' };

  // Hero
  const bg = document.getElementById('sdp-hero-bg');
  if (s['Cover Photo']) {
    bg.style.backgroundImage = `url('${s['Cover Photo']}')`;
    bg.style.backgroundSize = 'cover';
    bg.style.backgroundPosition = 'center';
    setTimeout(() => bg.classList.add('loaded'), 100);
  } else {
    bg.style.background = s.coverGradient || 'var(--bg3)';
    bg.classList.add('loaded');
  }

  const badge = document.getElementById('sdp-badge');
  if (s.badge) { badge.textContent = s.badge; badge.style.display = ''; }
  else { badge.style.display = 'none'; }

  currentSpotId = id;
  document.getElementById('sdp-loc').textContent  = `${s.Region || ''} · ${s.Country || ''}`;
  document.getElementById('sdp-name').textContent = s.Name;


  // Stats
  document.getElementById('sdp-budget').textContent  = s.Budget || '—';
  document.getElementById('sdp-privacy').textContent = `${privacyEmoji[s.Privacy] || ''} ${s.Privacy || '—'}`.trim();
  document.getElementById('sdp-effort').textContent  = s['Access & Effort'] || '—';
  const times = Array.isArray(s['Best Time']) ? s['Best Time'].join(', ') : (s['Best Time'] || '—');
  document.getElementById('sdp-time').textContent   = times;

  // About
  document.getElementById('sdp-full-summary').textContent = s['Full Summary'] || s['Line Summary'] || '';

  // Proposal plan
  const planSection = document.getElementById('sdp-plan-section');
  const stepsEl = document.getElementById('sdp-steps');
  if (s['Proposal Plan Steps']) {
    const steps = s['Proposal Plan Steps'].split('\n').filter(l => l.trim());
    stepsEl.innerHTML = steps.map((step, i) => {
      const text = step.replace(/^\d+\.\s*/, '');
      return `<div class="sdp-step">
        <div class="sdp-step-n">${String(i + 1).padStart(2,'0')}</div>
        <div class="sdp-step-txt">${text}</div>
      </div>`;
    }).join('');
    planSection.style.display = '';
  } else {
    planSection.style.display = 'none';
  }

  // Vibe tags
  const vibes = [s.Vibe, s['Vibe Secondary'],
    ...(Array.isArray(s['Vibe Secondary All']) ? s['Vibe Secondary All'] : []),
    ...(Array.isArray(s['Other Vibe']) ? s['Other Vibe'] : [])
  ].filter((v, i, arr) => v && arr.indexOf(v) === i);
  const heelTag = s['Heal / Dress Friendly'] ? ['👠 Heels Friendly'] : [];
  document.getElementById('sdp-vibes').innerHTML = [...vibes, ...heelTag]
    .map(v => `<span class="sdp-vibe-tag">${v}</span>`).join('');

  // Hotel / Venue
  const hotelBlock = document.getElementById('sdp-hotel-block');
  if (s['Linked Hotel / Venue']) {
    document.getElementById('sdp-hotel-name').textContent = s['Linked Hotel / Venue'];
    hotelBlock.style.display = '';
  } else {
    hotelBlock.style.display = 'none';
  }

  // Buttons
  const bookBtn = document.getElementById('sdp-book-btn');
  bookBtn.textContent = s['Linked Hotel / Venue'] ? 'Enquire / Book' : 'Learn More';
  bookBtn.onclick = () => {
    if (s['Google Maps Link']) window.open(s['Google Maps Link'], '_blank');
  };
  const mapsBtn = document.getElementById('sdp-maps-btn');
  mapsBtn.style.display = s['Google Maps Link'] ? '' : 'none';
  mapsBtn.onclick = () => window.open(s['Google Maps Link'], '_blank');

  // Access
  const accessBlock = document.getElementById('sdp-access-block');
  if (s['Access Details']) {
    document.getElementById('sdp-access').textContent = s['Access Details'];
    accessBlock.style.display = '';
  } else { accessBlock.style.display = 'none'; }

  // Photographer
  const photoBlock = document.getElementById('sdp-photo-block');
  if (s['Recommended Photographer']) {
    document.getElementById('sdp-photographer').textContent = s['Recommended Photographer'];
    photoBlock.style.display = '';
  } else { photoBlock.style.display = 'none'; }

  // Line summary
  const lineSummaryEl = document.getElementById('sdp-line-summary');
  if (lineSummaryEl) lineSummaryEl.textContent = s['Line Summary'] || '';

  // Gallery photos
  renderGallery(s['Gallery Photos'] || []);

  // Dates block — show only for hotel spots
  const datesBlock = document.getElementById('sdp-dates-block');
  if (datesBlock) datesBlock.style.display = s['Linked Hotel / Venue'] ? '' : 'none';
  // Reset dates
  const ci = document.getElementById('sdp-checkin');
  const co = document.getElementById('sdp-checkout');
  if (ci) ci.value = '';
  if (co) co.value = '';

  // Track current spot and update save UI
  currentSpotId = s.id;
  updateSaveUI(s.id);

  // Navigate to spot page
  showPage('spot');
}

function goBackFromSpot() {
  showPage(spotReturnPage);
}

function closeSpotDrawer() {
  goBackFromSpot();
}

// ─────────────────────────────────────────────────────────
//  GALLERY & LIGHTBOX
// ─────────────────────────────────────────────────────────
function renderGallery(photos) {
  const section = document.getElementById('sdp-gallery-section');
  const scroll  = document.getElementById('sdp-gallery-scroll');
  if (!photos || photos.length === 0) { section.style.display = 'none'; return; }
  scroll.innerHTML = photos.map((url, i) =>
    `<img class="sdp-gallery-img" src="${url}" alt="Proposal photo ${i+1}" onclick="openLightbox('${url}')" loading="lazy">`
  ).join('');
  section.style.display = '';
}

function openLightbox(url) {
  const lb = document.getElementById('sdp-lightbox');
  document.getElementById('sdp-lightbox-img').src = url;
  lb.classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeLightbox() {
  document.getElementById('sdp-lightbox').classList.remove('open');
  document.body.style.overflow = '';
}

document.addEventListener('keydown', e => {
  if (e.key === 'Escape') {
    closeLightbox();
    closeJoinModal();
    closeSaveModal();
  }
});

// ─────────────────────────────────────────────────────────
//  SAVE SPOTS — lightweight email-based collection
// ─────────────────────────────────────────────────────────
let savedEmail   = localStorage.getItem('ps_email') || null;
let savedSpotIds = JSON.parse(localStorage.getItem('ps_saved') || '[]');
let pendingSaveId = null;

function isSpotSaved(id) {
  return savedSpotIds.includes(id);
}

function updateSaveUI(id) {
  const saved = isSpotSaved(id);
  // Hero heart
  const heroHeart = document.getElementById('sdp-heart-btn');
  if (heroHeart) {
    heroHeart.textContent = saved ? '♥' : '♡';
    heroHeart.classList.toggle('saved', saved);
  }
  // Sidebar save button
  const saveBtn = document.getElementById('sdp-save-btn');
  if (saveBtn) {
    const icon = document.getElementById('sdp-save-icon');
    if (icon) icon.textContent = saved ? '♥' : '♡';
    saveBtn.querySelector ? null : null;
    saveBtn.classList.toggle('saved', saved);
    saveBtn.childNodes.forEach(n => {
      if (n.nodeType === 3) n.textContent = saved ? ' Saved' : ' Save this Spot';
    });
  }
  // Card hearts (home + results grids)
  document.querySelectorAll(`.spot-save[data-spot-id="${id}"]`).forEach(el => {
    el.textContent = saved ? '♥' : '♡';
    el.classList.toggle('saved', saved);
  });
  // Nav link
  const navLink = document.getElementById('nav-collection');
  if (navLink) navLink.classList.toggle('has-saves', savedSpotIds.length > 0);
}

function toggleSaveSpot(e, passedId) {
  if (e) e.stopPropagation();
  const id   = passedId || currentSpotId;
  const spot = allSpots.find(s => s.id === id);
  if (!spot) return;

  if (isSpotSaved(spot.id)) {
    // Unsave
    savedSpotIds = savedSpotIds.filter(sid => sid !== spot.id);
    localStorage.setItem('ps_saved', JSON.stringify(savedSpotIds));
    updateSaveUI(spot.id);
    return;
  }

  if (savedEmail) {
    // Already have email — save immediately
    doSaveSpot(spot.id, savedEmail);
  } else {
    // Need email first
    pendingSaveId = spot.id;
    openSaveModal();
  }
}

function doSaveSpot(spotId, email) {
  if (!savedSpotIds.includes(spotId)) {
    savedSpotIds.push(spotId);
    localStorage.setItem('ps_saved', JSON.stringify(savedSpotIds));
    localStorage.setItem('ps_email', email);
    savedEmail = email;
  }
  updateSaveUI(spotId);
}

// Save modal
function openSaveModal() {
  const overlay = document.getElementById('save-overlay');
  const modal   = document.getElementById('save-modal');
  overlay.style.display = 'block';
  modal.style.display   = 'block';
  document.body.style.overflow = 'hidden';
  requestAnimationFrame(() => {
    overlay.style.opacity = '1';
    modal.style.opacity   = '1';
    modal.style.transform = 'translate(-50%,-50%)';
  });
}

function closeSaveModal() {
  const overlay = document.getElementById('save-overlay');
  const modal   = document.getElementById('save-modal');
  overlay.style.opacity = '0';
  modal.style.opacity   = '0';
  modal.style.transform = 'translate(-50%,-48%)';
  setTimeout(() => {
    overlay.style.display = 'none';
    modal.style.display   = 'none';
    document.body.style.overflow = '';
    document.getElementById('save-email').value = '';
    document.getElementById('save-error').style.display = 'none';
    document.getElementById('save-form').style.display = 'flex';
    document.getElementById('save-confirm').style.display = 'none';
    const btn = document.getElementById('save-btn');
    if (btn) { btn.textContent = 'Save Spot'; btn.disabled = false; }
  }, 300);
}

function confirmSaveSpot() {
  const email = document.getElementById('save-email').value.trim();
  const errEl = document.getElementById('save-error');
  if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
    errEl.style.display = 'block';
    document.getElementById('save-email').style.borderColor = '#A55A4A';
    return;
  }
  errEl.style.display = 'none';
  const id = pendingSaveId;
  doSaveSpot(id, email);
  document.getElementById('save-form').style.display = 'none';
  document.getElementById('save-confirm').style.display = 'block';
  setTimeout(() => {
    closeSaveModal();
    pendingSaveId = null;
  }, 2000);
}

// ─────────────────────────────────────────────────────────
//  MY COLLECTION PAGE
// ─────────────────────────────────────────────────────────
let currentSpotId = null;

function openCollection() {
  renderCollection();
  showPage('collection');
}

function renderCollection() {
  const grid  = document.getElementById('collection-grid');
  const empty = document.getElementById('collection-empty');
  const sub   = document.getElementById('collection-sub');

  const spots = allSpots.filter(s => savedSpotIds.includes(s.id));

  if (spots.length === 0) {
    grid.style.display  = 'none';
    empty.style.display = 'block';
    return;
  }

  grid.style.display  = '';
  empty.style.display = 'none';
  sub.textContent = `${spots.length} spot${spots.length > 1 ? 's' : ''} saved to your collection.`;

  grid.innerHTML = spots.map(s => {
    const img = s['Cover Photo'] ? `background-image:url('${s['Cover Photo']}')` : `background:${s.coverGradient||'var(--bg3)'}`;
    return `<div class="spot-card" onclick="openSpotDrawer('${s.id}')" style="cursor:pointer">
      <div class="spot-card-img" style="${img};background-size:cover;background-position:center">
        <button class="spot-save saved" onclick="event.stopPropagation();removeSavedSpot('${s.id}')" title="Remove from collection">♥</button>
      </div>
      <div class="spot-card-body">
        <div class="spot-card-meta">${s.Region||''} · ${s.Country||''}</div>
        <div class="spot-card-name">${s.Name}</div>
        <p class="spot-card-summary">${s['Line Summary']||''}</p>
      </div>
    </div>`;
  }).join('');
}

function removeSavedSpot(id) {
  savedSpotIds = savedSpotIds.filter(x => x !== id);
  localStorage.setItem('ps_saved', JSON.stringify(savedSpotIds));
  renderCollection();
  const navLink = document.getElementById('nav-collection');
  if (navLink) navLink.classList.toggle('has-saves', savedSpotIds.length > 0);
}

// ─────────────────────────────────────────────────────────
//  FILTER SPOTS
// ─────────────────────────────────────────────────────────
function applySpotFilters() {
  renderSpots(getFilteredSpots());
}

// ─────────────────────────────────────────────────────────
//  INIT
// ─────────────────────────────────────────────────────────
async function init() {
  // Show loading state
  const grid = document.getElementById('spots-grid');
  if (grid) grid.innerHTML = '<div style="grid-column:1/-1;text-align:center;padding:48px 0;font-family:\'Jost\',sans-serif;font-size:12px;color:var(--muted);letter-spacing:0.1em;">Loading spots...</div>';

  allSpots = await fetchSpots();

  // Show data source banner in console AND as subtle indicator
  const source = AIRTABLE_LIVE ? 'Airtable' : 'Mock';
  console.log(`%c Proposal Spots — ${source} data — ${allSpots.length} spots loaded `, 'background:#1C1C1C;color:#F4F1EB;padding:4px 8px;border-radius:4px;font-family:monospace');

  renderSpots(allSpots);

  // Update nav collection link if user has saves
  const navLink = document.getElementById('nav-collection');
  if (navLink) navLink.classList.toggle('has-saves', savedSpotIds.length > 0);
}
init();

// ═══════════════════════════════════════════════════════════
//  UI STATE + FILTER LOGIC
// ═══════════════════════════════════════════════════════════

// ── Navbar scroll ──────────────────────────────
window.addEventListener('scroll', () => {
  document.getElementById('navbar').classList.toggle('scrolled', window.scrollY > 10);
});

// ── Autocomplete ───────────────────────────────
const suggestions = [
  { label:'Italy',           sub:'12 spots',   icon:'◦' },
  { label:'Greece',          sub:'8 spots',    icon:'◦' },
  { label:'Mexico',          sub:'9 spots',    icon:'◦' },
  { label:'Costa Rica',      sub:'6 spots',    icon:'◦' },
  { label:'Indonesia',       sub:'10 spots',   icon:'◦' },
  { label:'France',          sub:'11 spots',   icon:'◦' },
  { label:'Maldives',        sub:'7 spots',    icon:'◦' },
  { label:'Amalfi Coast',    sub:'Italy',      icon:'–' },
  { label:'Santorini',       sub:'Greece',     icon:'–' },
  { label:'Tulum',           sub:'Mexico',     icon:'–' },
  { label:'Bali',            sub:'Indonesia',  icon:'–' },
  { label:'South of France', sub:'France',     icon:'–' },
  { label:'Swiss Alps',      sub:'Switzerland',icon:'–' },
  { label:'Positano',        sub:'Amalfi Coast',icon:'·' },
  { label:'Oia',             sub:'Santorini',  icon:'·' },
  { label:'Nosara',          sub:'Costa Rica', icon:'·' },
  { label:'Ubud',            sub:'Bali',       icon:'·' },
];

function filterAC(val) {
  const ac = document.getElementById('ac-main');
  if (!val.trim()) { ac.style.display = 'none'; return; }
  const q = val.toLowerCase();
  const matches = suggestions.filter(s => s.label.toLowerCase().includes(q)).slice(0, 7);
  if (!matches.length) { ac.style.display = 'none'; return; }
  ac.style.display = 'block';
  ac.innerHTML = matches.map(s =>
    `<div class="autocomplete-item" onclick="pickAC('${s.label}')">
      <span class="ac-icon">${s.icon}</span>
      <span class="ac-label">${s.label}</span>
      <span class="ac-sub">${s.sub}</span>
    </div>`
  ).join('');
}

function pickAC(value) {
  document.getElementById('search-main').value = value;
  document.getElementById('ac-main').style.display = 'none';
  applySpotFilters();
}

document.addEventListener('click', e => {
  if (!e.target.closest('.search-bar-wrap'))
    document.getElementById('ac-main').style.display = 'none';
});

// ── Join the List Modal ─────────────────────────
function openJoinModal() {
  const overlay = document.getElementById('join-overlay');
  const modal   = document.getElementById('join-modal');
  overlay.style.display = 'block';
  modal.style.display   = 'block';
  document.body.style.overflow = 'hidden';
  requestAnimationFrame(() => {
    overlay.style.opacity = '1';
    modal.style.opacity   = '1';
    modal.style.transform = 'translate(-50%,-50%)';
  });
}
function closeJoinModal() {
  const overlay = document.getElementById('join-overlay');
  const modal   = document.getElementById('join-modal');
  overlay.style.opacity = '0';
  modal.style.opacity   = '0';
  modal.style.transform = 'translate(-50%,-48%)';
  setTimeout(() => {
    overlay.style.display = 'none';
    modal.style.display   = 'none';
    document.body.style.overflow = '';
    // Reset all fields
    document.getElementById('join-first').value = '';
    document.getElementById('join-last').value  = '';
    document.getElementById('join-email').value = '';
    document.getElementById('join-phone').value = '';
    document.getElementById('join-error').style.display = 'none';
    document.getElementById('join-form').style.display    = 'flex';
    document.getElementById('join-confirm').style.display = 'none';
    const btn = document.getElementById('join-btn');
    btn.textContent = 'Join the List';
    btn.disabled = false;
  }, 300);
}
function submitJoin() {
  const first = document.getElementById('join-first').value.trim();
  const last  = document.getElementById('join-last').value.trim();
  const email = document.getElementById('join-email').value.trim();
  const phone = document.getElementById('join-phone').value.trim();
  const errEl = document.getElementById('join-error');

  // Basic validation
  const emailOk = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
  if (!first || !last || !emailOk) {
    errEl.style.display = 'block';
    if (!emailOk) document.getElementById('join-email').style.borderColor = '#A55A4A';
    return;
  }
  errEl.style.display = 'none';

  // Disable button, show loading state
  const btn = document.getElementById('join-btn');
  btn.textContent = 'Saving…';
  btn.disabled = true;

  fetch('/api/join', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ first, last, email, phone })
  })
  .then(r => r.json())
  .then(() => {
    document.getElementById('join-form').style.display = 'none';
    document.getElementById('join-confirm').style.display = 'block';
    setTimeout(() => closeJoinModal(), 3500);
  })
  .catch(() => {
    // Still show success to user — don't penalise them for network issues
    document.getElementById('join-form').style.display = 'none';
    document.getElementById('join-confirm').style.display = 'block';
    setTimeout(() => closeJoinModal(), 3500);
  });
}


document.addEventListener('keydown', e => {
  if (e.key === 'Escape') closeJoinModal();
});


// 'moment' = all spots, 'stay' = only spots with Linked Hotel / Venue
let currentIntent = 'moment';

function setIntent(intent) {
  currentIntent = intent;
  document.getElementById('intent-moment').classList.toggle('active', intent === 'moment');
  document.getElementById('intent-stay').classList.toggle('active', intent === 'stay');

  // Update search label to match intent
  const label = document.querySelector('#search-main')?.previousElementSibling;
  const labelEl = document.querySelector('.search-input-inner label');
  if (labelEl) {
    labelEl.textContent = intent === 'stay'
      ? 'Where do you want to stay & propose?'
      : 'Where do you want to propose?';
  }

  applySpotFilters();
}


function doSearch() {
  if (!allSpots.length) {
    console.warn('Spots not loaded yet — retrying in 1s');
    setTimeout(doSearch, 1000);
    return;
  }
  showPage('results');
  syncResultsPills();
  renderResultsPage();
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
document.getElementById('search-main').addEventListener('keydown', e => {
  if (e.key === 'Enter') doSearch();
});

// ── Results page render ─────────────────────────
function renderResultsPage() {
  // Get current filtered spots
  let filtered = getFilteredSpots();

  const grid    = document.getElementById('results-grid');
  const empty   = document.getElementById('results-empty');
  const title   = document.getElementById('results-count-title');
  const tagsEl  = document.getElementById('results-active-tags');

  // Count title
  if (title) {
    if (filtered.length === 0) {
      title.innerHTML = `No spots found`;
    } else {
      title.innerHTML = `<strong>${filtered.length}</strong> spot${filtered.length !== 1 ? 's' : ''} found`;
    }
  }

  // Active filter tags
  if (tagsEl) {
    const tags = [];
    state.vibe.forEach(v    => tags.push({ label: `🌿 ${v}`,     rm: () => { state.vibe.delete(v);    syncResultsPills(); renderResultsPage(); }}));
    state.privacy.forEach(v => tags.push({ label: `🔒 ${v}`,     rm: () => { state.privacy.delete(v); syncResultsPills(); renderResultsPage(); }}));
    state.country.forEach(v => tags.push({ label: `📍 ${v}`,     rm: () => { state.country.delete(v); syncResultsPills(); renderResultsPage(); }}));
    state.budget.forEach(v  => tags.push({ label: `💰 ${v}`,     rm: () => { state.budget.delete(v);  syncResultsPills(); renderResultsPage(); }}));
    const q = (document.getElementById('search-main')?.value || '').trim();
    if (q) tags.push({ label: `🔍 "${q}"`, rm: () => { document.getElementById('search-main').value = ''; renderResultsPage(); }});

    tagsEl.innerHTML = tags.map((t, i) =>
      `<span class="results-tag" onclick="removedResultTag(${i})">${t.label} <span class="results-tag-x">×</span></span>`
    ).join('');
    // Store for click handler
    window._resultTags = tags;
  }

  // Render cards into results grid
  if (!filtered.length) {
    if (grid)  grid.innerHTML = '';
    if (empty) empty.style.display = 'block';
    return;
  }
  if (empty) empty.style.display = 'none';

  const privacyEmoji = { 'Private':'🔒','Light Crowd':'👥','Moderate Crowd':'👥👥','Everyone Will See':'👥👥👥' };

  if (grid) {
    grid.innerHTML = filtered.map(s => {
      const imgStyle = s['Cover Photo']
        ? `background-image:url('${s['Cover Photo']}');background-size:cover;background-position:center;`
        : `background:${s.coverGradient || 'var(--bg3)'};`;
      const badge     = s.badge ? `<span class="spot-card-badge">${s.badge}</span>` : '';
      const vibes     = [s.Vibe, s['Vibe Secondary']].filter(Boolean);
      const vibeTags  = vibes.map(v => `<span class="spot-card-tag">${v}</span>`).join('');
      const privacy   = s.Privacy || '';
      const privLabel = `${privacyEmoji[privacy] || ''} ${privacy}`.trim();
      return `
        <div class="spot-card" onclick="openSpotDrawer('${s.id}')" style="cursor:pointer">
          <div class="spot-card-img">
            <div class="img-bg" style="${imgStyle}"></div>
            ${badge}
            <div class="spot-save" data-spot-id="${s.id}" onclick="toggleSaveSpot(event,'${s.id}')">♡</div>
          </div>
          <div class="spot-card-body">
            <span class="spot-card-market">${s.Region} · ${s.Country}</span>
            <div class="spot-card-name">${s.Name}</div>
            <p class="spot-card-summary">${s['Line Summary'] || ''}</p>
            <div class="spot-card-tags">${vibeTags}</div>
            <div class="spot-card-footer">
              <span class="spot-card-budget">${s.Budget || ''}</span>
              <span class="spot-card-privacy">${privLabel}</span>
            </div>
          </div>
        </div>`;
    }).join('');
  }
}

function removedResultTag(i) {
  if (window._resultTags?.[i]) {
    window._resultTags[i].rm();
  }
}

// ── Get filtered spots (shared logic) ──────────
function getFilteredSpots() {
  let filtered = [...allSpots];
  console.log(`getFilteredSpots: ${allSpots.length} total, vibe filter:`, [...state.vibe]);

  // Intent filter — 'stay' shows only spots with a linked hotel
  if (currentIntent === 'stay') {
    filtered = filtered.filter(s => s['Linked Hotel / Venue'] && s['Linked Hotel / Venue'].trim() !== '');
  }


  if (state.vibe.size > 0) {
    filtered = filtered.filter(s => {
      const allVibes = [
        s.Vibe,
        ...(Array.isArray(s['Vibe Secondary All']) ? s['Vibe Secondary All'] : [s['Vibe Secondary']]),
        ...(Array.isArray(s['Other Vibe']) ? s['Other Vibe'] : (s['Other Vibe'] ? [s['Other Vibe']] : []))
      ].filter(Boolean);
      return allVibes.some(v => state.vibe.has(v));
    });
  }
  if (state.privacy.size > 0) {
    filtered = filtered.filter(s => state.privacy.has(s.Privacy));
  }
  if (state.budget.size > 0) {
    const bmap = { 'Free':'Free','Moderate':'$$','Expensive':'$$$','Luxury':'$$$$' };
    filtered = filtered.filter(s => [...state.budget].some(b => s.Budget === (bmap[b] || b)));
  }
  if (state.food.size > 0) {
    filtered = filtered.filter(s => state.food.has(s['Food & Drinks']));
  }
  if (state.time.size > 0) {
    filtered = filtered.filter(s =>
      Array.isArray(s['Best Time']) ? s['Best Time'].some(t => state.time.has(t)) : state.time.has(s['Best Time'])
    );
  }
  if (state.effort.size > 0) {
    filtered = filtered.filter(s => state.effort.has(s['Access & Effort']));
  }
  if (state.toggles.heels) {
    filtered = filtered.filter(s => s['Heal / Dress Friendly'] === true);
  }
  // Country filter
  if (state.country && state.country.size > 0) {
    filtered = filtered.filter(s => state.country.has(s.Country));
  }
  const q = (document.getElementById('search-main')?.value || '').toLowerCase().trim();
  if (q) {
    filtered = filtered.filter(s =>
      s.Name.toLowerCase().includes(q) ||
      (s.Region || '').toLowerCase().includes(q) ||
      (s.Country || '').toLowerCase().includes(q)
    );
  }
  return filtered;
}

// ── Country filter ──────────────────────────────
function toggleCountryFilter(el, val) {
  el.classList.toggle('selected');
  if (!state.country) state.country = new Set();
  state.country.has(val) ? state.country.delete(val) : state.country.add(val);
  syncResultsPills();
  renderResultsPage();
}

// ── Results page dedicated filter toggle ────────
// Used by Vibe + Privacy pills ON the results page
// Always re-renders results, never touches homepage grid
function toggleResultsFilter(el, cat, val) {
  el.classList.toggle('selected');
  state[cat].has(val) ? state[cat].delete(val) : state[cat].add(val);
  syncResultsPills();
  renderResultsPage();
}

// ── Sync pill active states on results page ─────
function syncResultsPills() {
  const vEl = document.getElementById('rpill-vibe');
  const pEl = document.getElementById('rpill-privacy');
  const cEl = document.getElementById('rpill-country');
  const fEl = document.getElementById('rpill-all');
  const vcEl = document.getElementById('rvibe-count');
  const pcEl = document.getElementById('rprivacy-count');
  const ccEl = document.getElementById('rcountry-count');
  const fcEl = document.getElementById('rfilter-count');

  if (vEl)  vEl.classList.toggle('active', state.vibe.size > 0);
  if (vcEl) { vcEl.style.display = state.vibe.size > 0 ? '' : 'none'; vcEl.textContent = state.vibe.size; }
  if (pEl)  pEl.classList.toggle('active', state.privacy.size > 0);
  if (pcEl) { pcEl.style.display = state.privacy.size > 0 ? '' : 'none'; pcEl.textContent = state.privacy.size; }
  const cs = state.country?.size || 0;
  if (cEl)  cEl.classList.toggle('active', cs > 0);
  if (ccEl) { ccEl.style.display = cs > 0 ? '' : 'none'; ccEl.textContent = cs; }
  const total = state.budget.size + state.food.size + state.time.size + state.effort.size + (state.toggles.heels ? 1 : 0);
  if (fEl)  fEl.classList.toggle('active', total > 0);
  if (fcEl) { fcEl.style.display = total > 0 ? '' : 'none'; fcEl.textContent = total; }
  syncResultsTagSelectedStates();
}

// ── Results page inline panel toggles ──────────
function toggleResultsPanel(panelId, pillId) {
  document.querySelectorAll('.results-inline-panel').forEach(p => {
    if (p.id !== panelId) p.classList.remove('open');
  });
  document.getElementById(panelId)?.classList.toggle('open');
  syncResultsTagSelectedStates();
}

function syncResultsTagSelectedStates() {
  // Vibe tags — match by onclick attribute value
  document.querySelectorAll('#rvibe-panel .filter-tag').forEach(el => {
    const match = el.getAttribute('onclick').match(/"vibe","([^"]+)"/);
    if (match) el.classList.toggle('selected', state.vibe.has(match[1]));
  });
  // Privacy tags
  document.querySelectorAll('#rprivacy-panel .filter-tag').forEach(el => {
    const match = el.getAttribute('onclick').match(/"privacy","([^"]+)"/);
    if (match) el.classList.toggle('selected', state.privacy.has(match[1]));
  });
  // Country tags
  document.querySelectorAll('#rcountry-panel .filter-tag').forEach(el => {
    el.classList.toggle('selected', state.country?.has(el.textContent.trim()));
  });
}
document.addEventListener('click', e => {
  if (!e.target.closest('.results-panel-wrap') && !e.target.closest('#rpill-all')) {
    document.querySelectorAll('.results-inline-panel').forEach(p => p.classList.remove('open'));
  }
});

// ── Inline panels (Vibe / Privacy) ────────────
let openPanel_inline = null;

function toggleInlinePanel(panelId, pillId) {
  const panel = document.getElementById(panelId);
  const pill  = document.getElementById(pillId);
  const stats = document.getElementById('hero-stats');
  const isOpen = panel.classList.contains('open');

  // Close any other open inline panel
  document.querySelectorAll('.inline-panel').forEach(p => p.classList.remove('open'));
  document.querySelectorAll('.pill-btn').forEach(p => p.classList.remove('open'));

  if (!isOpen) {
    panel.classList.add('open');
    pill.classList.add('open');
    openPanel_inline = panelId;
    if (stats) stats.style.visibility = 'hidden';
  } else {
    openPanel_inline = null;
    if (stats) stats.style.visibility = '';
  }
}

function toggleInlineTag(el, cat, val) {
  el.classList.toggle('selected');
  state[cat].has(val) ? state[cat].delete(val) : state[cat].add(val);

  // Update homepage pill count badges
  const countEl = document.getElementById(cat + '-count');
  const pillEl  = document.getElementById('pill-' + cat);
  if (countEl && pillEl) {
    const size = state[cat].size;
    pillEl.classList.toggle('active', size > 0);
    countEl.style.display = size > 0 ? '' : 'none';
    if (size > 0) countEl.textContent = size;
  }

  // Sync results page pills and re-render if on results page
  syncResultsPills();
  if (document.getElementById('page-results')?.classList.contains('active')) {
    renderResultsPage();
  } else {
    renderActiveTags();
    applySpotFilters();
  }
}

// Close inline panels on outside click
document.addEventListener('click', e => {
  if (!e.target.closest('.inline-panel') && !e.target.closest('#pill-vibe') && !e.target.closest('#pill-privacy')) {
    document.querySelectorAll('.inline-panel').forEach(p => p.classList.remove('open'));
    document.querySelectorAll('.pill-btn').forEach(p => {
      if (p.id !== 'pill-filters') p.classList.remove('open');
    });
    openPanel_inline = null;
    const stats = document.getElementById('hero-stats');
    // Only show stats if no inline panel open
    if (stats) stats.style.visibility = '';
  }
});

// ── Filter panel ───────────────────────────────
function openPanel() {
  document.getElementById('filter-panel').classList.add('open');
  document.getElementById('filter-overlay').classList.add('open');
  document.body.style.overflow = 'hidden';
}
function closePanel() {
  document.getElementById('filter-panel').classList.remove('open');
  document.getElementById('filter-overlay').classList.remove('open');
  document.body.style.overflow = '';
}
function togglePanelTag(el, cat, val) {
  el.classList.toggle('selected');
  state[cat].has(val) ? state[cat].delete(val) : state[cat].add(val);
  updateFilterCount();
}
function togglePanelRadio(el, cat, val) {
  el.parentElement.querySelectorAll('.filter-radio').forEach(s => s.classList.remove('selected'));
  state[cat] = state[cat] === val ? null : val;
  if (state[cat]) el.classList.add('selected');
  updateFilterCount();
}
function toggleSwitch(key) {
  state.toggles[key] = !state.toggles[key];
  document.getElementById('toggle-' + key).classList.toggle('on', state.toggles[key]);
  updateFilterCount();
}
function updateFilterCount() {
  const n = state.food.size + state.time.size + state.effort.size
          + state.budget.size
          + Object.values(state.toggles).filter(Boolean).length;
  const pill = document.getElementById('pill-filters');
  const cnt  = document.getElementById('filter-count');
  pill.classList.toggle('active', n > 0);
  cnt.style.display = n > 0 ? '' : 'none';
  if (n > 0) cnt.textContent = n;
}
function applyFilters() {
  closePanel();
  syncResultsPills();
  showPage('results');
  renderResultsPage();
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// ── Active tags ────────────────────────────────
function renderActiveTags() {
  const container = document.getElementById('active-tags');
  const tags = [];

  state.vibe.forEach(v => tags.push({ label: v, rm: () => {
    state.vibe.delete(v);
    document.querySelectorAll('#vibe-panel .filter-tag').forEach(e => {
      if (e.textContent.trim().replace(/^.\s/,'') === v || e.textContent.includes(v)) e.classList.remove('selected');
    });
    const cnt = document.getElementById('vibe-count');
    document.getElementById('pill-vibe').classList.toggle('active', state.vibe.size > 0);
    cnt.style.display = state.vibe.size > 0 ? '' : 'none';
    if (state.vibe.size > 0) cnt.textContent = state.vibe.size;
    renderActiveTags(); applySpotFilters();
  }}));

  state.privacy.forEach(v => tags.push({ label: v, rm: () => {
    state.privacy.delete(v);
    document.querySelectorAll('#privacy-panel .filter-tag').forEach(e => {
      if (e.textContent.includes(v)) e.classList.remove('selected');
    });
    const cnt = document.getElementById('privacy-count');
    document.getElementById('pill-privacy').classList.toggle('active', state.privacy.size > 0);
    cnt.style.display = state.privacy.size > 0 ? '' : 'none';
    if (state.privacy.size > 0) cnt.textContent = state.privacy.size;
    renderActiveTags(); applySpotFilters();
  }}));

  state.food.forEach(v => tags.push({ label: v, rm: () => {
    state.food.delete(v); updateFilterCount(); renderActiveTags(); applySpotFilters();
  }}));

  state.time.forEach(v => tags.push({ label: v, rm: () => {
    state.time.delete(v); updateFilterCount();
    document.querySelectorAll('#fg-time .filter-tag').forEach(e => { if(e.textContent.trim()===v) e.classList.remove('selected'); });
    renderActiveTags(); applySpotFilters();
  }}));

  state.effort.forEach(v => tags.push({ label: v, rm: () => {
    state.effort.delete(v); updateFilterCount();
    document.querySelectorAll('#fg-effort .filter-tag').forEach(e => { if(e.textContent.trim()===v) e.classList.remove('selected'); });
    renderActiveTags(); applySpotFilters();
  }}));

  state.budget.forEach(v => tags.push({ label: v, rm: () => {
    state.budget.delete(v); updateFilterCount();
    document.querySelectorAll('#fg-budget .filter-tag').forEach(e => { if(e.textContent.trim()===v) e.classList.remove('selected'); });
    renderActiveTags(); applySpotFilters();
  }}));

  container.innerHTML = '';
  if (!tags.length) return;

  tags.forEach(t => {
    const el = document.createElement('div');
    el.className = 'active-tag';
    el.innerHTML = `${t.label}<span class="tag-remove">✕</span>`;
    el.querySelector('.tag-remove').addEventListener('click', t.rm);
    container.appendChild(el);
  });

  const clr = document.createElement('button');
  clr.className = 'clear-all-btn';
  clr.textContent = 'Clear all';
  clr.onclick = clearAllFilters;
  container.appendChild(clr);
}

function clearAllFilters() {
  state.vibe.clear(); state.privacy.clear(); state.food.clear();
  state.time.clear(); state.effort.clear(); state.budget.clear();
  state.country.clear();
  Object.keys(state.toggles).forEach(k => {
    state.toggles[k] = false;
    document.getElementById('toggle-' + k)?.classList.remove('on');
  });
  document.querySelectorAll('.filter-tag, .filter-radio').forEach(e => e.classList.remove('selected'));
  document.getElementById('active-tags').innerHTML = '';
  document.getElementById('pill-vibe').classList.remove('active');
  document.getElementById('pill-privacy').classList.remove('active');
  document.getElementById('vibe-count').style.display = 'none';
  document.getElementById('privacy-count').style.display = 'none';
  document.getElementById('search-main').value = '';
  updateFilterCount();
  syncResultsPills();
  // Reset intent toggle
  currentIntent = 'moment';
  document.getElementById('intent-moment')?.classList.add('active');
  document.getElementById('intent-stay')?.classList.remove('active');
  const labelEl = document.querySelector('.search-input-inner label');
  if (labelEl) labelEl.textContent = 'Where do you want to propose?';
  renderSpots(allSpots);
  // If on results page, re-render it too
  if (document.getElementById('page-results')?.classList.contains('active')) {
    renderResultsPage();
  }
}

function goMarket(slug) { /* future: navigate to market page */ }

// ─────────────────────────────────────────────────────────
//  PAGE ROUTING
// ─────────────────────────────────────────────────────────
function showPage(pageId) {
  // Hide all pages
  document.querySelectorAll('.page').forEach(p => {
    p.classList.remove('active');
    p.style.display = 'none';
  });

  // Show target page
  const pg = document.getElementById('page-' + pageId);
  if (pg) {
    pg.classList.add('active');
    pg.style.display = 'block';
  }

  // Scroll to top instantly
  window.scrollTo(0, 0);

  // Update active nav states
  document.querySelectorAll('.nav-links a').forEach(a => a.classList.remove('nav-active'));
  const activeLink = document.getElementById('nav-' + pageId);
  if (activeLink) activeLink.classList.add('nav-active');

  // Proposal Map CTA colour
  const mapCta = document.getElementById('nav-map');
  if (mapCta) {
    mapCta.style.background = pageId === 'map' ? 'var(--accent)' : '';
  }
}

// ─────────────────────────────────────────────────────────
//  FAQ ACCORDION
// ─────────────────────────────────────────────────────────
function toggleFaq(btn) {
  const item = btn.closest('.faq-item');
  const isOpen = item.classList.contains('open');
  // Close all
  document.querySelectorAll('.faq-item.open').forEach(i => i.classList.remove('open'));
  // Open clicked (unless it was already open)
  if (!isOpen) item.classList.add('open');
}

// ─────────────────────────────────────────────────────────
//  MAP PIN PREVIEW
// ─────────────────────────────────────────────────────────
function openMapSpot(region, country, name, tags, gradient) {
  document.getElementById('msp-bg').style.background = gradient;
  document.getElementById('msp-loc').textContent = region + ' · ' + country;
  document.getElementById('msp-region').textContent = country.toUpperCase();
  document.getElementById('msp-name').textContent = name;
  document.getElementById('msp-tags').innerHTML = tags.split(' · ')
    .map(t => `<span>${t}</span>`).join('');
  document.getElementById('map-preview').style.display = 'block';
}

// ─────────────────────────────────────────────────────────
//  HOTEL FORM SUBMISSION
// ─────────────────────────────────────────────────────────
function submitHotelForm(e) {
  e.preventDefault();
  document.getElementById('hf-form').style.display = 'none';
  document.getElementById('hf-confirm').style.display = 'block';
}
</script>
<!-- JOIN THE LIST MODAL -->
<div id="join-overlay" style="display:none; position:fixed; inset:0; background:rgba(28,28,28,0.5); z-index:20000; opacity:0; transition:opacity 0.3s ease;" onclick="closeJoinModal()"></div>
<div id="join-modal" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-48%); z-index:20001; background:var(--white); border-radius:16px; padding:52px 48px; max-width:460px; width:calc(100% - 48px); box-shadow:0 24px 80px rgba(28,28,28,0.18); transition:transform 0.3s ease, opacity 0.3s ease; opacity:0;">
  <button onclick="closeJoinModal()" style="position:absolute; top:20px; right:20px; background:none; border:none; cursor:pointer; color:var(--muted); font-size:18px; line-height:1;">✕</button>
  <span style="font-family:'Jost',sans-serif; font-size:9px; font-weight:400; letter-spacing:0.28em; text-transform:uppercase; color:#A55A4A; display:block; margin-bottom:14px;">Early Access</span>
  <h2 style="font-family:'Cormorant',serif; font-size:32px; font-weight:300; color:var(--ink); line-height:1.15; margin-bottom:12px;">Be first to discover<br>new <em>proposal spots.</em></h2>
  <p style="font-family:'Jost',sans-serif; font-size:13px; font-weight:300; color:var(--mid); line-height:1.8; letter-spacing:0.02em; margin-bottom:32px;">New locations, curated collections, and planning guides — delivered quietly. No noise.</p>
  <div id="join-form" style="display:flex; flex-direction:column; gap:12px;">
    <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
      <input id="join-first" type="text" placeholder="First name" style="font-family:'Jost',sans-serif; font-size:13px; font-weight:300; color:var(--ink); background:var(--bg); border:1px solid var(--hairline); border-radius:8px; padding:15px 18px; outline:none; letter-spacing:0.02em; transition:border-color 0.2s; width:100%; box-sizing:border-box;" onfocus="this.style.borderColor='var(--ink)'" onblur="this.style.borderColor='var(--hairline)'">
      <input id="join-last" type="text" placeholder="Last name" style="font-family:'Jost',sans-serif; font-size:13px; font-weight:300; color:var(--ink); background:var(--bg); border:1px solid var(--hairline); border-radius:8px; padding:15px 18px; outline:none; letter-spacing:0.02em; transition:border-color 0.2s; width:100%; box-sizing:border-box;" onfocus="this.style.borderColor='var(--ink)'" onblur="this.style.borderColor='var(--hairline)'">
    </div>
    <input id="join-email" type="email" placeholder="Email address" style="font-family:'Jost',sans-serif; font-size:13px; font-weight:300; color:var(--ink); background:var(--bg); border:1px solid var(--hairline); border-radius:8px; padding:15px 18px; outline:none; letter-spacing:0.02em; transition:border-color 0.2s;" onfocus="this.style.borderColor='var(--ink)'" onblur="this.style.borderColor='var(--hairline)'">
    <input id="join-phone" type="tel" placeholder="Phone number (optional)" style="font-family:'Jost',sans-serif; font-size:13px; font-weight:300; color:var(--ink); background:var(--bg); border:1px solid var(--hairline); border-radius:8px; padding:15px 18px; outline:none; letter-spacing:0.02em; transition:border-color 0.2s;" onfocus="this.style.borderColor='var(--ink)'" onblur="this.style.borderColor='var(--hairline)'">
    <div id="join-error" style="display:none; font-family:'Jost',sans-serif; font-size:11px; color:#A55A4A; letter-spacing:0.04em; padding: 0 2px;">Please fill in your name and a valid email address.</div>
    <button onclick="submitJoin()" id="join-btn" style="font-family:'Jost',sans-serif; font-size:10px; font-weight:500; letter-spacing:0.2em; text-transform:uppercase; background:var(--ink); color:var(--bg); border:none; border-radius:8px; padding:16px; cursor:pointer; transition:background 0.2s;" onmouseover="this.style.background='#A55A4A'" onmouseout="this.style.background='var(--ink)'">Join the List</button>
  </div>
  <div id="join-confirm" style="display:none; text-align:center; padding:20px 0 0;">
    <div style="font-size:22px; margin-bottom:12px;">✦</div>
    <p style="font-family:'Cormorant',serif; font-size:20px; font-weight:300; color:var(--ink);">You're on the list.</p>
    <p style="font-family:'Jost',sans-serif; font-size:12px; font-weight:300; color:var(--mid); margin-top:8px; letter-spacing:0.04em;">We'll be in touch when something worth knowing arrives.</p>
  </div>
</div>

<!-- ═══ SPOT DETAIL PAGE ═══ -->
<div id="page-spot" class="page" style="display:none">
  <div class="sdp-wrap">

    <!-- Hero -->
    <div class="sdp-hero">
      <div class="sdp-hero-bg" id="sdp-hero-bg"></div>
      <div class="sdp-hero-overlay"></div>
      <button class="sdp-back" id="sdp-back-btn" onclick="goBackFromSpot()">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M9 2L4 7l5 5"/></svg>
        Back
      </button>
      <div class="sdp-hero-badge" id="sdp-badge" style="display:none"></div>
      <button class="sdp-heart-btn" id="sdp-heart-btn" onclick="toggleSaveSpot(event)">♡</button>
      <div class="sdp-hero-bottom">
        <span class="sdp-hero-loc" id="sdp-loc"></span>
        <h1 class="sdp-hero-name" id="sdp-name"></h1>
        <p class="sdp-line-summary" id="sdp-line-summary"></p>
      </div>
    </div>

    <!-- Body -->
    <div class="sdp-body">
      <div class="sdp-cols">

        <!-- Main column -->
        <div class="sdp-main">

          <!-- Stats bar -->
          <div class="sdp-stats">
            <div class="sdp-stat">
              <span class="sdp-stat-lbl">Budget</span>
              <span class="sdp-stat-val" id="sdp-budget">—</span>
            </div>
            <div class="sdp-stat">
              <span class="sdp-stat-lbl">Privacy</span>
              <span class="sdp-stat-val" id="sdp-privacy">—</span>
            </div>
            <div class="sdp-stat">
              <span class="sdp-stat-lbl">Best Time</span>
              <span class="sdp-stat-val" id="sdp-time">—</span>
            </div>
            <div class="sdp-stat">
              <span class="sdp-stat-lbl">Access</span>
              <span class="sdp-stat-val" id="sdp-effort">—</span>
            </div>
          </div>

          <!-- Gallery -->
          <div class="sdp-gallery" id="sdp-gallery-section" style="display:none">
            <span class="sdp-lbl">Proposal experience photos</span>
            <div class="sdp-gallery-scroll" id="sdp-gallery-scroll"></div>
          </div>

          <!-- About -->
          <div class="sdp-about">
            <span class="sdp-lbl">About this spot</span>
            <p class="sdp-about-text" id="sdp-full-summary"></p>
          </div>

          <!-- Proposal Plan -->
          <div class="sdp-plan" id="sdp-plan-section">
            <span class="sdp-lbl">Your proposal plan</span>
            <div id="sdp-steps"></div>
          </div>

          <!-- Vibes -->
          <div class="sdp-vibes" id="sdp-vibes"></div>

        </div>

        <!-- Sidebar -->
        <div class="sdp-sidebar">
          <div class="sdp-sidebar-card">

            <!-- Hotel / Venue -->
            <div id="sdp-hotel-block" style="display:none">
              <span class="sdp-hotel-lbl">Linked Hotel / Venue</span>
              <div class="sdp-hotel-name" id="sdp-hotel-name"></div>
            </div>

            <!-- Date picker -->
            <div class="sdp-dates-block" id="sdp-dates-block" style="display:none">
              <span class="sdp-lbl" style="margin-bottom:10px;display:block">Select dates</span>
              <div class="sdp-date-row">
                <div class="sdp-date-field">
                  <label class="sdp-date-lbl">Check in</label>
                  <input type="date" id="sdp-checkin" class="sdp-date-input">
                </div>
                <div class="sdp-date-field">
                  <label class="sdp-date-lbl">Check out</label>
                  <input type="date" id="sdp-checkout" class="sdp-date-input">
                </div>
              </div>
            </div>

            <button class="sdp-btn-primary" id="sdp-book-btn">Enquire / Book</button>
            <button class="sdp-btn-save" id="sdp-save-btn" onclick="toggleSaveSpot(event)">
              <span id="sdp-save-icon">♡</span> Save this Spot
            </button>
            <button class="sdp-btn-secondary" id="sdp-maps-btn">
              View on Google Maps
            </button>

            <!-- Access details -->
            <div id="sdp-access-block" style="display:none">
              <hr class="sdp-sidebar-divider">
              <span class="sdp-lbl">Getting there</span>
              <p class="sdp-access-txt" id="sdp-access"></p>
            </div>

            <!-- Photographer -->
            <div id="sdp-photo-block" style="display:none">
              <hr class="sdp-sidebar-divider">
              <div class="sdp-photo-row">
                <span class="sdp-photo-icon">📷</span>
                <div>
                  <span class="sdp-photo-lbl">Recommended Photographer</span>
                  <span class="sdp-photo-name" id="sdp-photographer"></span>
                </div>
              </div>
            </div>

          </div>
        </div>

      </div>
    </div>
  </div>
</div>

<!-- ═══ SPOT DETAIL DRAWER ═══ -->
<div class="spot-drawer-overlay" id="spot-overlay" onclick="closeSpotDrawer()"></div>
<div class="spot-drawer" id="spot-drawer">
  <div class="sd-hero" id="sd-hero">
    <div class="sd-hero-bg" id="sd-hero-bg"></div>
    <div class="sd-hero-overlay"></div>
    <button class="sd-hero-close" onclick="closeSpotDrawer()">✕</button>
    <div class="sd-hero-badge" id="sd-badge"></div>
    <div class="sd-hero-location" id="sd-location"></div>
  </div>
  <div class="sd-body">
    <span class="sd-region" id="sd-region"></span>
    <h2 class="sd-name" id="sd-name"></h2>
    <p class="sd-summary" id="sd-summary"></p>

    <!-- Quick stats -->
    <div class="sd-stats">
      <div class="sd-stat">
        <span class="sd-stat-label">Budget</span>
        <span class="sd-stat-val" id="sd-budget"></span>
      </div>
      <div class="sd-stat">
        <span class="sd-stat-label">Privacy</span>
        <span class="sd-stat-val" id="sd-privacy"></span>
      </div>
      <div class="sd-stat">
        <span class="sd-stat-label">Access</span>
        <span class="sd-stat-val" id="sd-effort"></span>
      </div>
      <div class="sd-stat">
        <span class="sd-stat-label">Best Time</span>
        <span class="sd-stat-val" id="sd-time"></span>
      </div>
    </div>

    <!-- About -->
    <div class="sd-section">
      <span class="sd-section-title">About this spot</span>
      <p id="sd-full-summary"></p>
    </div>

    <!-- Proposal plan -->
    <div class="sd-section" id="sd-plan-section">
      <span class="sd-section-title">Proposal Plan</span>
      <div class="sd-steps" id="sd-steps"></div>
    </div>

    <!-- Access details -->
    <div class="sd-section" id="sd-access-section">
      <span class="sd-section-title">Getting There</span>
      <p id="sd-access"></p>
    </div>

    <!-- Vibes -->
    <div class="sd-section">
      <span class="sd-section-title">Vibe</span>
      <div class="sd-tags" id="sd-tags"></div>
    </div>

    <!-- Photographer -->
    <div class="sd-section" id="sd-photo-section">
      <span class="sd-section-title">Recommended Photographer</span>
      <div class="sd-photographer">
        <div class="sd-photographer-icon">📸</div>
        <div class="sd-photographer-info">
          <span class="sd-photographer-label">Our pick for this location</span>
          <span class="sd-photographer-name" id="sd-photographer"></span>
        </div>
      </div>
    </div>

    <!-- CTAs -->
    <div class="sd-cta-row">
      <button class="sd-cta-primary" id="sd-book-btn">View Hotel & Book →</button>
      <button class="sd-cta-secondary" id="sd-map-btn" onclick="closeSpotDrawer()">View on Map</button>
    </div>
  </div>
</div>


<!-- ═══ MY COLLECTION PAGE ═══ -->
<div id="page-collection" class="page" style="display:none">
  <div class="pg-collection">
    <div class="collection-header">
      <span class="pg-eyebrow" style="text-align:center;display:block;margin-bottom:16px">Your saved spots</span>
      <h1 class="collection-title">My <em>Collection</em></h1>
      <p class="collection-sub" id="collection-sub">The proposal spots you've saved, all in one place.</p>
    </div>
    <div class="collection-body">
      <div class="spots-grid" id="collection-grid"></div>
      <div class="collection-empty" id="collection-empty" style="display:none">
        <div class="collection-empty-icon">♡</div>
        <p class="collection-empty-title">No saved spots yet.</p>
        <p class="collection-empty-sub">Browse the collection and heart the spots that speak to you.</p>
        <button class="pg-cta-btn" onclick="showPage('home')">Explore Proposal Spots →</button>
      </div>
    </div>
  </div>
</div>

<!-- ═══ SAVE SPOT MODAL ═══ -->
<div id="save-overlay" style="display:none; position:fixed; inset:0; background:rgba(28,28,28,0.5); z-index:20000; opacity:0; transition:opacity 0.3s;" onclick="closeSaveModal()"></div>
<div id="save-modal" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-48%); z-index:20001; background:var(--white); border-radius:16px; padding:52px 48px; max-width:420px; width:calc(100% - 48px); box-shadow:0 24px 80px rgba(28,28,28,0.18); transition:transform 0.3s ease, opacity 0.3s ease; opacity:0;">
  <button onclick="closeSaveModal()" style="position:absolute; top:20px; right:20px; background:none; border:none; cursor:pointer; color:var(--muted); font-size:18px; line-height:1;">✕</button>
  <div style="font-size:28px; margin-bottom:16px; text-align:center;">♡</div>
  <span style="font-family:'Jost',sans-serif; font-size:9px; font-weight:400; letter-spacing:0.28em; text-transform:uppercase; color:#A55A4A; display:block; margin-bottom:14px; text-align:center;">Save this spot</span>
  <h2 style="font-family:'Cormorant',serif; font-size:28px; font-weight:300; color:var(--ink); line-height:1.2; margin-bottom:10px; text-align:center;">Add to your <em>Collection.</em></h2>
  <p style="font-family:'Jost',sans-serif; font-size:13px; font-weight:300; color:var(--mid); line-height:1.8; letter-spacing:0.02em; margin-bottom:28px; text-align:center;">Enter your email to save this spot and access your collection anytime.</p>
  <div id="save-form" style="display:flex; flex-direction:column; gap:12px;">
    <input id="save-email" type="email" placeholder="Your email address" style="font-family:'Jost',sans-serif; font-size:13px; font-weight:300; color:var(--ink); background:var(--bg); border:1px solid var(--hairline); border-radius:8px; padding:15px 18px; outline:none; letter-spacing:0.02em; transition:border-color 0.2s;" onfocus="this.style.borderColor='var(--ink)'" onblur="this.style.borderColor='var(--hairline)'">
    <div id="save-error" style="display:none; font-family:'Jost',sans-serif; font-size:11px; color:#A55A4A; letter-spacing:0.04em; padding:0 2px;">Please enter a valid email address.</div>
    <button onclick="confirmSaveSpot()" id="save-btn" style="font-family:'Jost',sans-serif; font-size:10px; font-weight:500; letter-spacing:0.2em; text-transform:uppercase; background:var(--ink); color:var(--bg); border:none; border-radius:8px; padding:16px; cursor:pointer; transition:background 0.2s;" onmouseover="this.style.background='#A55A4A'" onmouseout="this.style.background='var(--ink)'">Save Spot</button>
  </div>
  <div id="save-confirm" style="display:none; text-align:center; padding:20px 0 0;">
    <div style="font-size:22px; margin-bottom:12px;">♥</div>
    <p style="font-family:'Cormorant',serif; font-size:20px; font-weight:300; color:var(--ink);">Spot saved.</p>
    <p style="font-family:'Jost',sans-serif; font-size:12px; font-weight:300; color:var(--mid); margin-top:8px; letter-spacing:0.04em;">Find it anytime in My Collection.</p>
  </div>
</div>

<script>

</script>
<!-- LIGHTBOX -->
<div class="sdp-lightbox" id="sdp-lightbox" onclick="closeLightbox()">
  <button class="sdp-lightbox-close" onclick="closeLightbox()">✕</button>
  <img id="sdp-lightbox-img" src="" alt="" onclick="event.stopPropagation()">
</div>

</body>
</html>