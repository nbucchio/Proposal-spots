<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Proposal Spots — A Curated Archive of Proposal Locations</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant:wght@300;400;500;600&family=Jost:wght@300;400;500&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg:       #F4F1EB;
  --bg2:      #EDEAE2;
  --bg3:      #E8E4DB;
  --white:    #FDFCFA;
  --ink:      #1C1C1C;
  --ink2:     #2E2C2A;
  --mid:      #6B6660;
  --muted:    #9E9890;
  --hairline: #D8D2C8;
  --divider:  #E4E0D8;
  --accent:   #8C7B64;
  --accent2:  #B5A48C;
  --shadow:   rgba(28,28,28,0.06);
}

html { scroll-behavior: smooth; }

body {
  font-family: 'Jost', sans-serif;
  background: var(--bg);
  color: var(--ink);
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

/* ─────────────────────────────────────
   NAVBAR — Fora-style floating pill
───────────────────────────────────── */
nav {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10000;
  height: 52px;
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  padding: 0 8px 0 24px;
  background: rgba(253,252,250,0.97);
  backdrop-filter: blur(28px);
  -webkit-backdrop-filter: blur(28px);
  border: 1px solid rgba(216,210,200,0.7);
  border-radius: 100px;
  width: calc(100% - 48px);
  max-width: 860px;
  box-shadow: 0 2px 20px rgba(28,28,28,0.07), 0 1px 4px rgba(28,28,28,0.04);
  transition: box-shadow 0.3s ease, background 0.3s ease;
}
nav.scrolled {
  box-shadow: 0 4px 32px rgba(28,28,28,0.12), 0 1px 4px rgba(28,28,28,0.05);
  background: rgba(253,252,250,0.99);
}

/* Logo — left column */
.nav-logo {
  font-family: 'Jost', sans-serif;
  font-size: 10.5px;
  font-weight: 500;
  letter-spacing: 0.3em;
  text-transform: uppercase;
  color: var(--ink);
  text-decoration: none;
  white-space: nowrap;
  justify-self: start;
}
.nav-logo:hover { opacity: 0.7; transition: opacity 0.2s; }

/* Links — centre column */
.nav-destinations-wrap { position: relative; }
.nav-destinations-btn { display:flex; align-items:center; gap:5px; }
.nav-dest-dropdown {
  display: none;
  position: absolute;
  top: calc(100% + 14px);
  left: 50%;
  transform: translateX(-50%);
  background: var(--white);
  border: 1px solid var(--hairline);
  border-radius: 14px;
  padding: 20px;
  min-width: 420px;
  box-shadow: 0 16px 48px rgba(28,28,28,0.12);
  z-index: 9000;
}
.nav-dest-dropdown.open { display: block; }
.nav-dest-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2px;
}
.nav-dest-grid a {
  font-family: 'Jost', sans-serif;
  font-size: 12px;
  font-weight: 400;
  color: var(--ink);
  letter-spacing: 0.04em;
  text-decoration: none;
  padding: 10px 12px;
  border-radius: 8px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: background 0.15s;
}
.nav-dest-grid a:hover { background: var(--bg2); }
.nav-dest-grid a span { color: var(--muted); font-size: 10px; font-weight: 300; }
.nav-dest-footer {
  border-top: 1px solid var(--hairline);
  margin-top: 12px;
  padding-top: 12px;
  text-align: center;
}
.nav-dest-footer a {
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--mid);
  text-decoration: none;
  transition: color 0.15s;
}
.nav-dest-footer a:hover { color: var(--ink); }

/* Search destination dropdown */
.search-dest-dropdown {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  right: 0;
  background: var(--white);
  border: 1px solid var(--hairline);
  border-radius: 14px;
  padding: 16px;
  box-shadow: 0 16px 48px rgba(28,28,28,0.12);
  z-index: 8000;
  display: none;
}
.search-dest-dropdown.open { display: block; }
.search-dest-heading {
  font-family: 'Jost', sans-serif;
  font-size: 9px;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 10px;
}
.search-dest-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.search-dest-chip {
  font-family: 'Jost', sans-serif;
  font-size: 11px;
  font-weight: 400;
  color: var(--ink);
  background: var(--bg2);
  border: 1px solid var(--hairline);
  border-radius: 100px;
  padding: 7px 14px;
  cursor: pointer;
  transition: all 0.15s;
  letter-spacing: 0.04em;
}
.search-dest-chip:hover { background: var(--ink); color: var(--bg); border-color: var(--ink); }

.nav-links {
  display: flex;
  align-items: center;
  gap: 2px;
  justify-self: center;
}
.nav-links a {
  font-family: 'Jost', sans-serif;
  font-size: 11px;
  font-weight: 400;
  letter-spacing: 0.08em;
  color: var(--mid);
  text-decoration: none;
  padding: 7px 14px;
  border-radius: 100px;
  transition: color 0.18s, background 0.18s;
  white-space: nowrap;
}
.nav-links a:hover { color: var(--ink); background: var(--bg2); }
.nav-links a.nav-active { color: var(--ink); font-weight: 500; }

/* CTA — right column */
.nav-right {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 2px;
}
.nav-link-right {
  font-family: 'Jost', sans-serif;
  font-size: 11px;
  font-weight: 400;
  letter-spacing: 0.08em;
  color: var(--mid);
  text-decoration: none;
  padding: 7px 14px;
  border-radius: 100px;
  transition: color 0.18s, background 0.18s;
  white-space: nowrap;
}
.nav-link-right:hover { color: var(--ink); background: var(--bg2); }
.nav-link-right.nav-active { color: var(--ink); font-weight: 500; }
.nav-cta {
  font-family: 'Jost', sans-serif;
  font-size: 10.5px;
  font-weight: 500;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--bg) !important;
  background: var(--ink);
  border-radius: 100px;
  padding: 10px 22px;
  text-decoration: none;
  border: none;
  cursor: pointer;
  transition: background 0.2s, transform 0.15s;
  white-space: nowrap;
  display: inline-block;
}
.nav-cta:hover {
  background: var(--accent);
  transform: scale(1.02);
}

@media (max-width: 680px) {
  nav { padding: 0 6px 0 18px; }
  .nav-links a { padding: 7px 10px; font-size: 10px; }
  .nav-cta { padding: 9px 16px; font-size: 10px; }
}

/* ─────────────────────────────────────
   HERO — LIGHT EDITORIAL
───────────────────────────────────── */
.hero {
  min-height: 100vh;
  background: var(--bg);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 120px 40px 80px;
  position: relative;
  overflow: visible;
}

/* Thin rule above/below eyebrow */
.hero-rule {
  width: 40px; height: 1px;
  background: var(--accent2);
  margin: 0 auto 24px;
  animation: fadeUp 0.8s ease both;
}
.hero-headline {
  animation: fadeUp 0.8s 0.06s ease both;
  margin-bottom: 36px;
}

.hero-content {
  text-align: center;
  max-width: 680px;
}
.hero-eyebrow {
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.28em;
  text-transform: uppercase;
  color: #A55A4A;
  display: block;
  margin-bottom: 24px;
}

.hero-title {
  font-family: 'Cormorant', serif;
  font-size: clamp(44px, 5.5vw, 72px);
  font-weight: 300;
  line-height: 1.1;
  color: var(--ink);
  letter-spacing: 0.01em;
  margin-bottom: 20px;
}
/* Weight contrast — no italic, no color shift */
.hero-title strong {
  font-weight: 500;
}

/* Keep stats below dropdown z-index */
.hero-stats { position: relative; z-index: 1; }

.hero-sub {
  font-family: 'Jost', sans-serif;
  font-size: 13px;
  font-weight: 300;
  letter-spacing: 0.1em;
  color: var(--muted);
  text-transform: uppercase;
  margin-bottom: 52px;
  line-height: 1.6;
}

/* ─────────────────────────────────────
   SEARCH BAR
───────────────────────────────────── */
.search-container {
  width: 100%;
  max-width: 680px;
  position: relative;
  z-index: 9000;
}
.search-container-inner {
  animation: fadeUp 0.8s 0.12s ease both;
}

.search-bar-wrap {
  background: var(--white);
  border: 1px solid var(--hairline);
  display: flex;
  align-items: stretch;
  position: relative;
}

.search-input-wrap {
  flex: 1;
  display: flex;
  align-items: center;
  padding: 0 20px;
  gap: 14px;
  position: relative;
}

.search-icon {
  color: var(--hairline);
  flex-shrink: 0;
  display: flex; align-items: center;
  pointer-events: none;
}
.search-icon svg { width: 15px; height: 15px; stroke-width: 1.5; }

.search-input-inner {
  flex: 1;
  padding: 16px 0;
}
.search-input-inner label {
  display: block;
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 4px;
}
.search-input-inner input {
  display: block;
  width: 100%;
  background: none;
  border: none;
  outline: none;
  font-family: 'Cormorant', serif;
  font-size: 17px;
  font-weight: 400;
  color: var(--ink);
  letter-spacing: 0.02em;
}
.search-input-inner input::placeholder {
  color: var(--hairline);
  font-weight: 300;
}

.search-divider {
  width: 1px;
  background: var(--divider);
  align-self: stretch;
  flex-shrink: 0;
}

.search-btn {
  flex-shrink: 0;
  background: var(--ink);
  color: var(--bg);
  border: none;
  padding: 0 28px;
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  cursor: pointer;
  display: flex; align-items: center; gap: 8px;
  transition: background 0.2s;
}
.search-btn:hover { background: var(--accent); }
.search-btn svg { width: 13px; height: 13px; }

/* Autocomplete */
.autocomplete {
  position: absolute;
  top: calc(100% + 4px);
  left: 0; right: 0;
  background: var(--white);
  border: 1px solid var(--hairline);
  z-index: 9999;
  display: none;
  overflow: hidden;
}
.ac-section-label {
  padding: 10px 18px 6px;
  font-size: 8px;
  font-weight: 400;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: var(--muted);
  border-top: 1px solid var(--divider);
}
.ac-section-label:first-child { border-top: none; }
.autocomplete-item {
  display: flex; align-items: center; gap: 10px;
  padding: 9px 18px;
  font-family: 'Cormorant', serif;
  font-size: 15px;
  font-weight: 400;
  color: var(--ink2);
  cursor: pointer;
  transition: background 0.1s;
  letter-spacing: 0.02em;
}
.autocomplete-item:hover { background: var(--bg); }
.autocomplete-item .ac-icon { font-size: 12px; opacity: 0.4; flex-shrink: 0; }
.autocomplete-item .ac-label { flex: 1; }
.autocomplete-item .ac-sub {
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  letter-spacing: 0.08em;
  color: var(--muted);
}

/* ─────────────────────────────────────
   FILTER PILLS
───────────────────────────────────── */
.filter-pills-row {
  display: flex; align-items: center; gap: 8px;
  margin-top: 12px;
  overflow: visible;
  position: relative;
  z-index: 9000;
}

/* ── Inline expand panels for Vibe / Privacy ── */
.inline-panel {
  display: none;
  background: var(--white);
  border: 1px solid var(--hairline);
  padding: 16px 18px;
  margin-top: 8px;
}
.inline-panel.open { display: block; }
.inline-panel-label {
  font-family: 'Jost', sans-serif;
  font-size: 8px;
  font-weight: 400;
  letter-spacing: 0.24em;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 12px;
}
.inline-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 7px;
}

.pill-btn {
  display: inline-flex; align-items: center; gap: 7px;
  background: transparent;
  border: 1px solid var(--hairline);
  color: var(--mid);
  padding: 8px 16px;
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  cursor: pointer;
  white-space: nowrap;
  flex-shrink: 0;
  transition: border-color 0.15s, color 0.15s, background 0.15s;
}
.pill-btn:hover {
  border-color: var(--ink);
  color: var(--ink);
}
.pill-btn.active {
  border-color: var(--ink);
  color: var(--ink);
  background: var(--bg2);
}
.pill-count {
  font-size: 9px;
  background: var(--ink);
  color: var(--bg);
  padding: 1px 6px;
  letter-spacing: 0.06em;
}
.pill-chevron {
  opacity: 0.5;
  transition: transform 0.18s;
}
.pill-btn.open .pill-chevron { transform: rotate(180deg); }

.dropdown-wrapper { position: relative; }

.dropdown-menu {
  position: fixed;
  background: var(--white);
  border: 1px solid var(--hairline);
  min-width: 220px;
  z-index: 9500;
  opacity: 0;
  transform: translateY(-4px);
  pointer-events: none;
  transition: opacity 0.16s ease, transform 0.16s ease;
  overflow: hidden;
  box-shadow: 0 8px 24px rgba(28,28,28,0.08);
}
.dropdown-menu.open {
  opacity: 1;
  transform: translateY(0);
  pointer-events: all;
}.dropdown-header {
  padding: 12px 16px 8px;
  font-size: 8px;
  font-weight: 400;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: var(--muted);
  border-bottom: 1px solid var(--divider);
}
.dropdown-option {
  display: flex; align-items: center; gap: 11px;
  padding: 10px 16px;
  font-family: 'Cormorant', serif;
  font-size: 15px;
  font-weight: 400;
  color: var(--ink);
  cursor: pointer;
  transition: background 0.1s;
  letter-spacing: 0.02em;
}
.dropdown-option:hover { background: var(--bg); }
.dropdown-option.selected { background: var(--bg2); }

.opt-check {
  width: 14px; height: 14px;
  border: 1px solid var(--hairline);
  flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
  transition: all 0.12s;
}
.dropdown-option.selected .opt-check {
  background: var(--ink); border-color: var(--ink);
}
.dropdown-option.selected .opt-check::after {
  content: '✓'; color: var(--bg); font-size: 9px;
  font-family: 'Jost', sans-serif;
}

.opt-radio {
  width: 14px; height: 14px;
  border: 1px solid var(--hairline);
  border-radius: 50%;
  flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
  transition: border-color 0.12s;
}
.dropdown-option.selected .opt-radio { border-color: var(--ink); }
.dropdown-option.selected .opt-radio::after {
  content: '';
  width: 6px; height: 6px;
  border-radius: 50%;
  background: var(--ink);
}

/* ─────────────────────────────────────
   ACTIVE FILTER TAGS
───────────────────────────────────── */
.active-tags-row {
  display: flex; align-items: center; gap: 8px;
  flex-wrap: wrap;
  margin-top: 12px;
}
.active-tag {
  display: inline-flex; align-items: center; gap: 6px;
  background: var(--bg2);
  border: 1px solid var(--hairline);
  color: var(--ink);
  padding: 4px 10px 4px 12px;
  font-family: 'Jost', sans-serif;
  font-size: 9px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  animation: fadeUp 0.15s ease;
}
.tag-remove {
  width: 13px; height: 13px;
  display: flex; align-items: center; justify-content: center;
  font-size: 9px;
  color: var(--muted);
  cursor: pointer;
  border: 1px solid var(--hairline);
  transition: color 0.12s, border-color 0.12s;
}
.tag-remove:hover { color: var(--ink); border-color: var(--ink); }
.clear-all-btn {
  background: none; border: none;
  font-family: 'Jost', sans-serif;
  font-size: 9px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--muted);
  cursor: pointer;
  text-decoration: underline;
  text-underline-offset: 3px;
  transition: color 0.15s;
}
.clear-all-btn:hover { color: var(--ink); }

/* ─────────────────────────────────────
   HERO STATS
───────────────────────────────────── */
.hero-stats {
  display: flex; align-items: center; gap: 48px;
  margin-top: 56px;
  animation: fadeUp 0.8s 0.2s ease both;
  position: relative;
  z-index: 0;
}
.hero-stat { text-align: center; }
.hero-stat-num {
  font-family: 'Cormorant', serif;
  font-size: 26px;
  font-weight: 300;
  color: var(--ink);
  display: block;
  letter-spacing: 0.04em;
  line-height: 1;
}
.hero-stat-label {
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--muted);
  margin-top: 6px;
  display: block;
}
.hero-stat-div {
  width: 1px; height: 28px;
  background: var(--divider);
}

/* ─────────────────────────────────────
   SECTION STRUCTURE
───────────────────────────────────── */
.section-wrap { background: var(--bg); }
.section-wrap.alt { background: var(--bg2); }
.section-wrap.white { background: var(--white); }

.section {
  max-width: 1200px;
  margin: 0 auto;
  padding: 88px 48px;
}

.section-header {
  display: flex; align-items: flex-end;
  justify-content: space-between;
  margin-bottom: 48px;
}
.section-meta {}
.section-eyebrow {
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.26em;
  text-transform: uppercase;
  color: var(--muted);
  display: block;
  margin-bottom: 10px;
}
.section-title {
  font-family: 'Cormorant', serif;
  font-size: clamp(24px, 3vw, 36px);
  font-weight: 300;
  color: var(--ink);
  line-height: 1.1;
  letter-spacing: 0.01em;
}
.section-title strong { font-weight: 500; }

.section-results {
  font-family: 'Jost', sans-serif;
  font-size: 11px;
  font-weight: 400;
  letter-spacing: 0.1em;
  color: var(--muted);
}
.section-results strong {
  color: var(--ink);
  font-weight: 500;
}  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: var(--muted);
  text-decoration: none;
  border-bottom: 1px solid var(--hairline);
  padding-bottom: 2px;
  transition: color 0.2s, border-color 0.2s;
  white-space: nowrap;
}
.section-link:hover { color: var(--ink); border-color: var(--ink); }

/* ─────────────────────────────────────
   MARKETS GRID
───────────────────────────────────── */
.markets-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
}
.market-card {
  position: relative;
  overflow: hidden;
  cursor: pointer;
  aspect-ratio: 3/4;
  background: var(--bg3);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.market-card:first-child {
  grid-column: span 2;
  grid-row: span 2;
  aspect-ratio: unset;
  min-height: 460px;
}
.market-card:nth-child(4) {
  grid-column: span 2;
  aspect-ratio: 16/9;
}

.market-card-bg::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(to top, rgba(10,10,10,0.65) 0%, rgba(10,10,10,0.15) 60%, transparent 100%);
  border-radius: inherit;
}
.market-card-bg {
  position: absolute; inset: 0;
  background-size: cover; background-position: center;
  transition: transform 0.7s cubic-bezier(0.25,0.46,0.45,0.94);
}
.market-card:hover .market-card-bg::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(to top, rgba(10,10,10,0.65) 0%, rgba(10,10,10,0.15) 60%, transparent 100%);
  border-radius: inherit;
}
.market-card-bg { transform: scale(1.04); }
.market-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 16px 40px rgba(28,28,28,0.13);
}
.market-card::after {
  content: '';
  position: absolute; inset: 0;
  background: linear-gradient(
    to top,
    rgba(20,19,17,0.65) 0%,
    rgba(20,19,17,0.12) 45%,
    transparent 100%
  );
}
.market-card-info {
  position: absolute; bottom: 0; left: 0; right: 0;
  padding: 20px 22px;
  z-index: 1;
}
.market-card-region {
  font-family: 'Jost', sans-serif;
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.5);
  display: block;
  margin-bottom: 4px;
}
.market-card-name {
  font-family: 'Cormorant', serif;
  font-size: 18px;
  font-weight: 400;
  color: #fff;
  display: block;
  line-height: 1.2;
  letter-spacing: 0.02em;
}
.market-card:first-child .market-card-name { font-size: 24px; }
.market-card-count {
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  letter-spacing: 0.1em;
  color: rgba(255,255,255,0.42);
  margin-top: 5px;
  display: block;
}
/* flat matte bg tones */
.mc-amalfi   { background-image: url('https://images.unsplash.com/photo-1516483638261-f4dbaf036963?w=900&q=80&fit=crop'); background-size: cover; background-position: center; }
.mc-santorini{ background-image: url('https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?w=900&q=80&fit=crop'); background-size: cover; background-position: center; }
.mc-tulum    { background-image: url('https://images.unsplash.com/photo-1682687220742-aba13b6e50ba?w=900&q=80&fit=crop'); background-size: cover; background-position: center; }
.mc-costarica{ background-image: url('https://images.unsplash.com/photo-1544735716-392fe2489ffa?w=900&q=80&fit=crop'); background-size: cover; background-position: center 60%; }
.mc-bali     { background-image: url('https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=900&q=80&fit=crop'); background-size: cover; background-position: center; }
.mc-maldives { background-image: url('https://images.unsplash.com/photo-1514282401047-d79a71a590e8?w=900&q=80&fit=crop'); background-size: cover; background-position: center; }
.mc-algarve  { background-image: url('https://images.unsplash.com/photo-1555881400-74d7acaacd8b?w=900&q=80&fit=crop'); background-size: cover; background-position: center; }
.mc-france   { background-image: url('https://images.unsplash.com/photo-1499856871958-5b9357976b82?w=900&q=80&fit=crop'); background-size: cover; background-position: center; }
.mc-swiss    { background-image: url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=900&q=80&fit=crop'); background-size: cover; background-position: center; }
.mc-nicaragua{ background-image: url('https://images.unsplash.com/photo-1605649487212-47bdab064df7?w=900&q=80&fit=crop'); background-size: cover; background-position: center; }
.mc-fiji     { background: #162c26; }

/* ─────────────────────────────────────
   COLLECTIONS
───────────────────────────────────── */
.collections-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  border: 1px solid var(--divider);
}
.collection-card {
  padding: 32px 28px 36px;
  border-right: 1px solid var(--divider);
  cursor: pointer;
  transition: background 0.2s;
  position: relative;
}
.collection-card:last-child { border-right: none; }
.collection-card:hover { background: var(--white); }

.collection-num {
  font-family: 'Cormorant', serif;
  font-size: 13px;
  font-weight: 300;
  color: var(--muted);
  display: block;
  margin-bottom: 20px;
  letter-spacing: 0.04em;
}
.collection-name {
  font-family: 'Cormorant', serif;
  font-size: 20px;
  font-weight: 400;
  color: var(--ink);
  margin-bottom: 10px;
  line-height: 1.2;
  letter-spacing: 0.01em;
}
.collection-desc {
  font-size: 12px;
  font-weight: 300;
  color: var(--mid);
  line-height: 1.75;
  letter-spacing: 0.02em;
}
.collection-link {
  display: block;
  margin-top: 20px;
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: var(--muted);
  transition: color 0.2s;
}
.collection-card:hover .collection-link { color: var(--ink); }

/* ─────────────────────────────────────
   SPOT CARDS
───────────────────────────────────── */
.spots-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
}
.spot-card {
  background: var(--white);
  border: 1px solid var(--divider);
  overflow: hidden;
  cursor: pointer;
  transition: box-shadow 0.25s;
}
.spot-card:hover {
  box-shadow: 0 8px 32px var(--shadow);
}
.spot-card-img {
  aspect-ratio: 4/3;
  background: var(--bg3);
  position: relative;
  overflow: hidden;
}
.img-bg {
  position: absolute; inset: 0;
  background-size: cover; background-position: center;
  transition: transform 0.5s ease;
}
.spot-card:hover .img-bg { transform: scale(1.04); }
.spot-card-badge {
  position: absolute; top: 12px; left: 12px;
  background: var(--ink);
  color: var(--bg);
  font-family: 'Jost', sans-serif;
  font-size: 8px;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  padding: 4px 10px;
  z-index: 1;
}
.spot-save {
  position: absolute; top: 12px; right: 12px;
  width: 28px; height: 28px;
  background: rgba(253,252,250,0.9);
  display: flex; align-items: center; justify-content: center;
  font-size: 12px;
  z-index: 1;
  cursor: pointer;
  transition: background 0.15s;
}
.spot-save:hover { background: var(--white); }
.spot-card-body { padding: 18px 20px 22px; }
.spot-card-market {
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--muted);
  display: block;
  margin-bottom: 7px;
}
.spot-card-name {
  font-family: 'Cormorant', serif;
  font-size: 18px;
  font-weight: 400;
  color: var(--ink);
  margin-bottom: 8px;
  line-height: 1.25;
  letter-spacing: 0.02em;
}
.spot-card-summary {
  font-size: 12px;
  font-weight: 300;
  color: var(--mid);
  line-height: 1.65;
  letter-spacing: 0.02em;
  margin-bottom: 12px;
}
.spot-card-tags {
  display: flex; flex-wrap: wrap; gap: 5px;
  margin-bottom: 14px;
}
.spot-card-tag {
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  padding: 3px 9px;
  border: 1px solid var(--divider);
  color: var(--muted);
}
.spot-card-footer {
  display: flex; align-items: center; justify-content: space-between;
  padding-top: 12px;
  border-top: 1px solid var(--divider);
}
.spot-card-budget {
  font-family: 'Cormorant', serif;
  font-size: 15px;
  font-weight: 400;
  color: var(--ink);
  letter-spacing: 0.06em;
}
.spot-card-privacy {
  font-size: 10px;
  font-weight: 300;
  letter-spacing: 0.06em;
  color: var(--muted);
}

/* ─────────────────────────────────────
   SEO SECTION
───────────────────────────────────── */
.seo-inner {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 96px;
  align-items: center;
}
.seo-text h2 {
  font-family: 'Cormorant', serif;
  font-size: clamp(26px, 3vw, 34px);
  font-weight: 300;
  color: var(--ink);
  line-height: 1.25;
  margin-bottom: 20px;
  letter-spacing: 0.01em;
}
.seo-text h2 strong { font-weight: 500; }
.seo-text p {
  font-size: 13px;
  font-weight: 300;
  color: var(--mid);
  line-height: 1.9;
  letter-spacing: 0.02em;
  margin-bottom: 14px;
}
.seo-links {
  display: flex; flex-wrap: wrap; gap: 8px;
  margin-top: 28px;
}
.seo-link {
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  padding: 6px 14px;
  border: 1px solid var(--divider);
  color: var(--mid);
  text-decoration: none;
  background: var(--white);
  transition: border-color 0.15s, color 0.15s;
}
.seo-link:hover { border-color: var(--ink); color: var(--ink); }
.seo-numbers {
  display: grid;
  grid-template-columns: 1fr 1fr;
  border: 1px solid var(--divider);
}
.seo-num-card {
  padding: 28px 24px;
  border-right: 1px solid var(--divider);
  border-bottom: 1px solid var(--divider);
}
.seo-num-card:nth-child(2) { border-right: none; }
.seo-num-card:nth-child(3) { border-bottom: none; }
.seo-num-card:nth-child(4) { border-right: none; border-bottom: none; }
.seo-n {
  font-family: 'Cormorant', serif;
  font-size: 36px;
  font-weight: 300;
  color: var(--ink);
  display: block;
  letter-spacing: 0.02em;
  line-height: 1;
}
.seo-l {
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--muted);
  margin-top: 8px;
  display: block;
}

/* ─────────────────────────────────────
   FAQ
───────────────────────────────────── */
.faq-wrap {
  display: grid;
  grid-template-columns: 280px 1fr;
  gap: 80px;
  align-items: start;
}
.faq-title {
  font-family: 'Cormorant', serif;
  font-size: 38px;
  font-weight: 300;
  line-height: 1.15;
  color: var(--ink);
  margin-top: 12px;
}
.faq-title strong { font-weight: 500; }
.faq-list {
  border-top: 1px solid var(--divider);
}
.faq-item {
  border-bottom: 1px solid var(--divider);
}
.faq-q {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 24px;
  padding: 22px 0;
  background: none;
  border: none;
  cursor: pointer;
  text-align: left;
}
.faq-q span {
  font-family: 'Jost', sans-serif;
  font-size: 13px;
  font-weight: 400;
  letter-spacing: 0.02em;
  color: var(--ink);
  line-height: 1.5;
}
.faq-icon {
  font-size: 20px;
  font-weight: 200;
  color: var(--accent2);
  flex-shrink: 0;
  line-height: 1;
  transition: transform 0.25s ease;
  width: 20px;
  text-align: center;
}
.faq-item.open .faq-icon {
  transform: rotate(45deg);
  color: var(--ink);
}
.faq-item.open .faq-q span {
  color: var(--ink);
  font-weight: 500;
}
.faq-a {
  display: none;
  padding: 0 40px 24px 0;
}
.faq-item.open .faq-a {
  display: block;
}
.faq-a p {
  font-family: 'Jost', sans-serif;
  font-size: 13px;
  font-weight: 300;
  color: var(--mid);
  line-height: 1.8;
  letter-spacing: 0.02em;
}
.faq-inline-link {
  background: none;
  border: none;
  border-bottom: 1px solid var(--accent2);
  color: var(--ink);
  font-family: 'Jost', sans-serif;
  font-size: 13px;
  font-weight: 400;
  cursor: pointer;
  padding: 0;
  letter-spacing: 0.02em;
}
.faq-inline-link:hover { border-color: var(--ink); }
@media (max-width: 860px) {
  .faq-wrap { grid-template-columns: 1fr; gap: 32px; }
  .faq-title { font-size: 30px; }
}
.filter-overlay {
  position: fixed; inset: 0;
  background: rgba(28,28,28,0.3);
  z-index: 9998;
  opacity: 0; pointer-events: none;
  transition: opacity 0.28s;
}
.filter-overlay.open { opacity: 1; pointer-events: all; }

.filter-panel {
  position: fixed;
  background: var(--bg);
  z-index: 9999;
  overflow-y: auto;
}
@media (min-width: 768px) {
  .filter-panel {
    top: 0; right: 0; bottom: 0;
    width: 400px;
    border-left: 1px solid var(--divider);
    transform: translateX(100%);
    opacity: 0;
    transition: transform 0.32s cubic-bezier(0.4,0,0.2,1), opacity 0.32s;
  }
  .filter-panel.open { transform: translateX(0); opacity: 1; }
}
@media (max-width: 767px) {
  .filter-panel {
    bottom: 0; left: 0; right: 0;
    max-height: 90vh;
    border-top: 1px solid var(--divider);
    transform: translateY(100%);
    opacity: 0;
    transition: transform 0.32s cubic-bezier(0.4,0,0.2,1), opacity 0.32s;
  }
  .filter-panel.open { transform: translateY(0); opacity: 1; }
}

.panel-head {
  display: flex; align-items: center; justify-content: space-between;
  padding: 28px 32px 24px;
  border-bottom: 1px solid var(--divider);
  position: sticky; top: 0;
  background: var(--bg);
  z-index: 1;
}
.panel-head h2 {
  font-family: 'Cormorant', serif;
  font-size: 20px;
  font-weight: 400;
  letter-spacing: 0.04em;
}
.panel-close {
  width: 30px; height: 30px;
  border: 1px solid var(--hairline);
  background: none;
  display: flex; align-items: center; justify-content: center;
  font-size: 13px;
  color: var(--muted);
  cursor: pointer;
  transition: border-color 0.15s, color 0.15s;
}
.panel-close:hover { border-color: var(--ink); color: var(--ink); }

.panel-body { padding: 28px 32px; }

.filter-group { margin-bottom: 32px; }
.filter-group-title {
  font-size: 8px;
  font-weight: 400;
  letter-spacing: 0.24em;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 14px;
  display: flex; align-items: center; gap: 12px;
}
.filter-group-title::after {
  content: ''; flex: 1; height: 1px; background: var(--divider);
}
.filter-tags { display: flex; flex-wrap: wrap; gap: 7px; }
.filter-tag {
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  padding: 7px 14px;
  border: 1px solid var(--hairline);
  color: var(--mid);
  cursor: pointer;
  transition: all 0.15s;
}
.filter-tag:hover { border-color: var(--ink); color: var(--ink); }
.filter-tag.selected { background: var(--ink); border-color: var(--ink); color: var(--bg); }

.filter-radio-group { display: flex; flex-direction: column; gap: 2px; }
.filter-radio {
  display: flex; align-items: center; gap: 12px;
  padding: 10px 10px;
  font-family: 'Cormorant', serif;
  font-size: 15px;
  font-weight: 400;
  color: var(--ink);
  letter-spacing: 0.02em;
  cursor: pointer;
  transition: background 0.1s;
}
.filter-radio:hover { background: var(--bg2); }
.filter-radio.selected { background: var(--bg3); }
.radio-dot {
  width: 14px; height: 14px;
  border: 1px solid var(--hairline);
  border-radius: 50%; flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
}
.filter-radio.selected .radio-dot { border-color: var(--ink); }
.filter-radio.selected .radio-dot::after {
  content: ''; width: 6px; height: 6px;
  border-radius: 50%; background: var(--ink);
}
.toggle-row {
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 0;
  border-bottom: 1px solid var(--divider);
}
.toggle-row:last-child { border-bottom: none; }
.toggle-label {
  font-size: 12px;
  font-weight: 300;
  letter-spacing: 0.04em;
  color: var(--ink);
}
.toggle {
  width: 38px; height: 20px;
  background: var(--hairline);
  position: relative;
  cursor: pointer;
  transition: background 0.2s;
  flex-shrink: 0;
}
.toggle.on { background: var(--ink); }
.toggle::after {
  content: '';
  position: absolute;
  width: 14px; height: 14px;
  background: var(--white);
  top: 3px; left: 3px;
  transition: transform 0.2s;
}
.toggle.on::after { transform: translateX(18px); }

.panel-footer {
  padding: 20px 32px;
  border-top: 1px solid var(--divider);
  display: flex; gap: 10px;
  position: sticky; bottom: 0;
  background: var(--bg);
}
.btn-clear {
  flex: 1; padding: 12px;
  border: 1px solid var(--hairline);
  background: none;
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--muted);
  cursor: pointer;
  transition: all 0.15s;
}
.btn-clear:hover { border-color: var(--ink); color: var(--ink); }
.btn-apply {
  flex: 2; padding: 12px;
  border: none;
  background: var(--ink);
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: var(--bg);
  cursor: pointer;
  transition: background 0.2s;
}
.btn-apply:hover { background: var(--accent); }

/* ─────────────────────────────────────
   FOOTER
───────────────────────────────────── */
footer {
  background: var(--ink);
  padding: 72px 48px 40px;
}
.footer-inner { max-width: 1200px; margin: 0 auto; }
.footer-top {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr;
  gap: 64px;
  padding-bottom: 48px;
  border-bottom: 1px solid rgba(244,241,235,0.08);
  margin-bottom: 28px;
}
.footer-wordmark {
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  font-weight: 500;
  letter-spacing: 0.3em;
  text-transform: uppercase;
  color: rgba(244,241,235,0.9);
  display: block;
  margin-bottom: 16px;
}
.footer-brand p {
  font-size: 12px;
  font-weight: 300;
  letter-spacing: 0.03em;
  line-height: 1.8;
  color: rgba(244,241,235,0.35);
  max-width: 220px;
}
.footer-col h4 {
  font-size: 8px;
  font-weight: 400;
  letter-spacing: 0.24em;
  text-transform: uppercase;
  color: rgba(244,241,235,0.3);
  margin-bottom: 18px;
}
.footer-col a {
  display: block;
  font-size: 12px;
  font-weight: 300;
  letter-spacing: 0.04em;
  color: rgba(244,241,235,0.5);
  text-decoration: none;
  margin-bottom: 11px;
  transition: color 0.15s;
}
.footer-col a:hover { color: rgba(244,241,235,0.85); }
.footer-bottom {
  display: flex; justify-content: space-between; align-items: center;
  font-size: 10px;
  letter-spacing: 0.08em;
  color: rgba(244,241,235,0.2);
}

/* ─────────────────────────────────────
   ANIMATIONS
───────────────────────────────────── */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(12px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ─────────────────────────────────────
   RESPONSIVE
───────────────────────────────────── */
@media (max-width: 1024px) {
  .markets-grid { grid-template-columns: repeat(3, 1fr); }
  .market-card:nth-child(4) { grid-column: span 1; aspect-ratio: 3/4; }
  .collections-grid { grid-template-columns: repeat(2, 1fr); }
  .collection-card:nth-child(2) { border-right: none; }
  .collection-card:nth-child(3) { border-top: 1px solid var(--divider); }
  .spots-grid { grid-template-columns: repeat(2, 1fr); }
  .seo-inner { gap: 56px; }
  .footer-top { grid-template-columns: 1fr 1fr; gap: 40px; }
}
@media (max-width: 768px) {
  nav { padding: 0 8px 0 18px; width: calc(100% - 32px); }
  .nav-destinations-wrap { position: relative; }
.nav-destinations-btn { display:flex; align-items:center; gap:5px; }
.nav-dest-dropdown {
  display: none;
  position: absolute;
  top: calc(100% + 14px);
  left: 50%;
  transform: translateX(-50%);
  background: var(--white);
  border: 1px solid var(--hairline);
  border-radius: 14px;
  padding: 20px;
  min-width: 420px;
  box-shadow: 0 16px 48px rgba(28,28,28,0.12);
  z-index: 9000;
}
.nav-dest-dropdown.open { display: block; }
.nav-dest-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2px;
}
.nav-dest-grid a {
  font-family: 'Jost', sans-serif;
  font-size: 12px;
  font-weight: 400;
  color: var(--ink);
  letter-spacing: 0.04em;
  text-decoration: none;
  padding: 10px 12px;
  border-radius: 8px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: background 0.15s;
}
.nav-dest-grid a:hover { background: var(--bg2); }
.nav-dest-grid a span { color: var(--muted); font-size: 10px; font-weight: 300; }
.nav-dest-footer {
  border-top: 1px solid var(--hairline);
  margin-top: 12px;
  padding-top: 12px;
  text-align: center;
}
.nav-dest-footer a {
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--mid);
  text-decoration: none;
  transition: color 0.15s;
}
.nav-dest-footer a:hover { color: var(--ink); }

/* Search destination dropdown */
.search-dest-dropdown {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  right: 0;
  background: var(--white);
  border: 1px solid var(--hairline);
  border-radius: 14px;
  padding: 16px;
  box-shadow: 0 16px 48px rgba(28,28,28,0.12);
  z-index: 8000;
  display: none;
}
.search-dest-dropdown.open { display: block; }
.search-dest-heading {
  font-family: 'Jost', sans-serif;
  font-size: 9px;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 10px;
}
.search-dest-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.search-dest-chip {
  font-family: 'Jost', sans-serif;
  font-size: 11px;
  font-weight: 400;
  color: var(--ink);
  background: var(--bg2);
  border: 1px solid var(--hairline);
  border-radius: 100px;
  padding: 7px 14px;
  cursor: pointer;
  transition: all 0.15s;
  letter-spacing: 0.04em;
}
.search-dest-chip:hover { background: var(--ink); color: var(--bg); border-color: var(--ink); }

.nav-links { display: none; }
  .hero { padding: 96px 20px 64px; }
  .hero-stats { gap: 28px; }
  .section { padding: 64px 20px; }
  .markets-grid { grid-template-columns: repeat(2, 1fr); }
  .market-card:first-child { min-height: 280px; }
  .collections-grid { grid-template-columns: 1fr 1fr; }
  .spots-grid { grid-template-columns: 1fr; }
  .seo-inner { grid-template-columns: 1fr; gap: 40px; }
  .footer-top { grid-template-columns: 1fr 1fr; }
  .section-header { flex-direction: column; align-items: flex-start; gap: 14px; }
  .search-btn { padding: 0 18px; }
  .filter-pills-row { overflow-x: auto; scrollbar-width: none; }
  .filter-pills-row::-webkit-scrollbar { display: none; }
}
@media (max-width: 480px) {
  .markets-grid { grid-template-columns: 1fr; }
  .market-card:first-child,
  .market-card:nth-child(4) { grid-column: span 1; }
  .collections-grid { grid-template-columns: 1fr; }
  .collection-card { border-right: none; border-bottom: 1px solid var(--divider); }
  .footer-top { grid-template-columns: 1fr; }
}

<style>

/* ═══════════════════════════════════════════════════════════
   PAGE SYSTEM
═══════════════════════════════════════════════════════════ */
.page { display: none !important; }
.page.active { display: block !important; }

.pg-eyebrow {
  font-family: 'Jost', sans-serif;
  font-size: 9px; font-weight: 400;
  letter-spacing: 0.32em; text-transform: uppercase;
  color: #A55A4A; display: block; margin-bottom: 18px;
}

/* Shared dark hero */
.pg-dark-hero { position: relative; min-height: 70vh; display: flex; align-items: flex-end; overflow: hidden; padding-top: 80px; }
.pg-dark-hero-bg { position: absolute; inset: 0; }
.pg-dark-hero-bg::after { content:''; position:absolute; inset:0; background: linear-gradient(to top, rgba(0,0,0,0.72) 0%, rgba(0,0,0,0.2) 60%, transparent 100%); }
.pg-dark-hero-content { position: relative; z-index: 1; padding: 64px 80px; max-width: 860px; }
.pg-dark-hero-title { font-family: 'Cormorant', serif; font-size: clamp(44px, 7vw, 88px); font-weight: 300; color: rgba(253,252,250,0.96); line-height: 1.0; letter-spacing: 0.01em; margin-bottom: 16px; }
.pg-dark-hero-sub { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: rgba(244,241,235,0.5); letter-spacing: 0.06em; line-height: 1.8; max-width: 460px; }

/* Shared CTA */
.pg-cta-strip { text-align: center; padding: 88px 40px; background: var(--bg2); }
.pg-cta-strip-title { font-family: 'Cormorant', serif; font-size: clamp(26px, 4vw, 48px); font-weight: 300; color: var(--ink); line-height: 1.25; margin-bottom: 14px; }
.pg-cta-strip-sub { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); letter-spacing: 0.04em; margin-bottom: 32px; }
.pg-cta-btn { font-family: 'Jost', sans-serif; font-size: 10px; font-weight: 400; letter-spacing: 0.2em; text-transform: uppercase; background: var(--ink); color: var(--bg); border: none; padding: 14px 36px; cursor: pointer; transition: background 0.2s; }
.pg-cta-btn:hover { background: #A55A4A; }

/* ═══ MAP ═══ */
.pg-map-wrap { padding-top: 92px; min-height: 100vh; background: var(--bg); display: flex; flex-direction: column; }
.pg-map-header { text-align: center; padding: 40px 40px 28px; border-bottom: 1px solid var(--divider); }
.pg-map-header-title { font-family: 'Cormorant', serif; font-size: clamp(32px, 4.5vw, 56px); font-weight: 300; color: var(--ink); line-height: 1.1; letter-spacing: 0.01em; }
.pg-map-header-title em { font-style: italic; font-weight: 400; }
.pg-map-body { display: grid; grid-template-columns: 1fr 320px; flex: 1; min-height: calc(100vh - 240px); }
.map-canvas { position: relative; background: #ddd8ce; overflow: hidden; }
.map-canvas-bg { position: absolute; inset: 0; background: radial-gradient(ellipse at 48% 52%, #ccc5b5 0%, #bfb8a8 40%, #b0a898 100%); }
.map-canvas-bg::after { content:''; position:absolute; inset:0; background-image: repeating-linear-gradient(0deg, transparent, transparent 39px, rgba(255,255,255,0.07) 40px), repeating-linear-gradient(90deg, transparent, transparent 39px, rgba(255,255,255,0.07) 40px); }
.map-canvas-label { position: absolute; top: 20px; left: 24px; font-family: 'Jost', sans-serif; font-size: 9px; font-weight: 400; letter-spacing: 0.22em; text-transform: uppercase; color: rgba(40,30,20,0.3); }
.map-canvas-note { position: absolute; bottom: 20px; left: 24px; font-family: 'Jost', sans-serif; font-size: 10px; font-weight: 300; color: rgba(40,30,20,0.35); letter-spacing: 0.04em; }
.map-pins { position: absolute; inset: 0; }
.mpin { position: absolute; transform: translate(-50%,-100%); cursor: pointer; transition: transform 0.2s; text-align: center; }
.mpin:hover { transform: translate(-50%,-100%) scale(1.15); z-index: 10; }
.mpin-dot { width: 14px; height: 14px; background: #A55A4A; border: 2.5px solid rgba(253,252,250,0.9); border-radius: 50%; margin: 0 auto 5px; box-shadow: 0 3px 12px rgba(165,90,74,0.45); }
.mpin-cluster .mpin-dot { width: 22px; height: 22px; background: var(--ink); position: relative; display: flex; align-items: center; justify-content: center; }
.mpin-cluster-num { font-family: 'Jost', sans-serif; font-size: 9px; font-weight: 400; color: var(--bg); position: absolute; }
.mpin-label { font-family: 'Jost', sans-serif; font-size: 9px; font-weight: 500; letter-spacing: 0.1em; text-transform: uppercase; color: var(--ink); background: rgba(253,252,250,0.92); padding: 3px 9px; white-space: nowrap; border: 1px solid rgba(165,90,74,0.2); box-shadow: 0 2px 8px rgba(28,28,28,0.08); }
.map-spot-preview { position: absolute; bottom: 24px; left: 24px; width: 300px; background: var(--white); border: 1px solid var(--divider); box-shadow: 0 12px 40px rgba(28,28,28,0.14); z-index: 20; animation: fadeUp 0.22s ease both; }
.msp-img { height: 170px; position: relative; overflow: hidden; }
.msp-img-bg { position: absolute; inset: 0; }
.msp-img-overlay { position: absolute; inset: 0; background: linear-gradient(to top, rgba(0,0,0,0.5) 0%, transparent 60%); }
.msp-img-loc { position: absolute; bottom: 12px; left: 14px; font-family: 'Jost', sans-serif; font-size: 9px; letter-spacing: 0.18em; text-transform: uppercase; color: rgba(255,255,255,0.7); }
.msp-close { position: absolute; top: 10px; right: 10px; width: 26px; height: 26px; background: rgba(253,252,250,0.9); border: 1px solid var(--hairline); font-size: 11px; color: var(--mid); cursor: pointer; display: flex; align-items: center; justify-content: center; }
.msp-body { padding: 18px 18px 20px; }
.msp-region { font-family: 'Jost', sans-serif; font-size: 9px; letter-spacing: 0.2em; text-transform: uppercase; color: var(--muted); display: block; margin-bottom: 7px; }
.msp-name { font-family: 'Cormorant', serif; font-size: 17px; font-weight: 400; color: var(--ink); margin-bottom: 10px; line-height: 1.25; }
.msp-tags { display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 16px; }
.msp-tags span { font-family: 'Jost', sans-serif; font-size: 9px; letter-spacing: 0.08em; color: var(--mid); border: 1px solid var(--hairline); padding: 3px 9px; }
.msp-cta { font-family: 'Jost', sans-serif; font-size: 10px; font-weight: 400; letter-spacing: 0.16em; text-transform: uppercase; color: var(--ink); text-decoration: none; border-bottom: 1px solid var(--ink); padding-bottom: 1px; display: inline-block; transition: color 0.15s, border-color 0.15s; }
.msp-cta:hover { color: #A55A4A; border-color: #A55A4A; }
.map-filters { background: var(--white); border-left: 1px solid var(--divider); display: flex; flex-direction: column; overflow-y: auto; }
.mf-head { padding: 28px 24px 20px; border-bottom: 1px solid var(--divider); position: sticky; top: 0; background: var(--white); z-index: 1; }
.mf-head-title { font-family: 'Cormorant', serif; font-size: 18px; font-weight: 300; color: var(--ink); margin-bottom: 4px; }
.mf-head-count { font-family: 'Jost', sans-serif; font-size: 10px; font-weight: 300; color: var(--muted); letter-spacing: 0.08em; }
.mf-body { padding: 20px 24px; flex: 1; }
.mf-group { margin-bottom: 28px; }
.mf-label { font-family: 'Jost', sans-serif; font-size: 8px; font-weight: 400; letter-spacing: 0.28em; text-transform: uppercase; color: var(--muted); margin-bottom: 10px; }
.mf-tags { display: flex; flex-wrap: wrap; gap: 6px; }
.mf-tag { font-family: 'Jost', sans-serif; font-size: 10px; font-weight: 300; letter-spacing: 0.06em; padding: 5px 11px; border: 1px solid var(--hairline); color: var(--mid); cursor: pointer; transition: all 0.15s; }
.mf-tag:hover { border-color: var(--ink); color: var(--ink); }
.mf-tag.on { background: var(--ink); border-color: var(--ink); color: var(--bg); }

/* ═══ DESTINATION LANDING PAGE ═══ */
.pg-dest-landing { background: var(--bg); padding-bottom: 100px; }
.dest-landing-hero {
  position: relative;
  min-height: 60vh;
  display: flex;
  align-items: flex-end;
  overflow: hidden;
  background-size: cover !important;
  background-position: center !important;
}
.dest-landing-hero::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(to top, rgba(10,10,10,0.75) 0%, rgba(10,10,10,0.35) 50%, rgba(10,10,10,0.5) 100%);
  z-index: 1;
}
.dest-landing-hero-content {
  position: relative;
  z-index: 2;
  padding: 80px 60px;
  max-width: 700px;
}
.dest-landing-title {
  font-family: 'Cormorant', serif;
  font-size: clamp(42px, 7vw, 80px);
  font-weight: 300;
  color: var(--bg);
  line-height: 1.0;
  margin-bottom: 16px;
}
.dest-landing-sub {
  font-family: 'Jost', sans-serif;
  font-size: 14px;
  font-weight: 300;
  color: rgba(244,241,235,0.65);
  line-height: 1.8;
  max-width: 500px;
}
.dest-landing-body { padding: 0 40px; max-width: 1200px; margin: 0 auto; }
.dest-landing-filter-bar {
  position: sticky;
  top: 72px;
  z-index: 100;
  background: var(--bg);
  padding: 20px 0;
  border-bottom: 1px solid var(--hairline);
  margin-bottom: 40px;
}
.dest-landing-spots-wrap { min-height: 300px; }
.dest-landing-budget {
  max-width: 960px;
  margin: 80px auto 0;
  padding: 0 40px;
}
.dest-landing-budget-header { text-align: center; margin-bottom: 48px; }
.dest-landing-budget-title {
  font-family: 'Cormorant', serif;
  font-size: clamp(28px,4vw,42px);
  font-weight: 300;
  color: var(--ink);
  margin-bottom: 14px;
}
.dest-landing-budget-sub {
  font-family: 'Jost', sans-serif;
  font-size: 14px;
  font-weight: 300;
  color: var(--mid);
  line-height: 1.8;
  max-width: 500px;
  margin: 0 auto;
}
@media(max-width:640px) {
  .dest-landing-hero-content { padding: 60px 24px; }
  .dest-landing-body { padding: 0 20px; }
  .dest-landing-budget { padding: 0 20px; }
}

/* ═══ INSPIRATION ═══ */
.pg-inspiration { padding-top: 80px; background: var(--bg); }
.insp-hero-bg { background: linear-gradient(140deg, #141008 0%, #1e1810 40%, #2a2018 100%); }
.insp-intro { max-width: 640px; margin: 0 auto; padding: 72px 40px; text-align: center; border-bottom: 1px solid var(--divider); }
.insp-intro-text { font-family: 'Cormorant', serif; font-size: clamp(18px, 2.2vw, 24px); font-weight: 300; color: var(--mid); line-height: 1.7; letter-spacing: 0.01em; font-style: italic; }
.insp-stories { max-width: 1200px; margin: 0 auto; padding: 0 40px; }
.insp-story { display: grid; grid-template-columns: 1fr 1fr; min-height: 560px; border-bottom: 1px solid var(--divider); }
.insp-story.rev { direction: rtl; }
.insp-story.rev > * { direction: ltr; }
.insp-story-img { position: relative; overflow: hidden; min-height: 480px; }
.insp-story-img-bg { position: absolute; inset: 0; transition: transform 0.6s ease; }
.insp-story:hover .insp-story-img-bg { transform: scale(1.04); }
.insp-story-loc { position: absolute; bottom: 20px; left: 20px; font-family: 'Jost', sans-serif; font-size: 9px; letter-spacing: 0.2em; text-transform: uppercase; color: rgba(255,255,255,0.55); background: rgba(0,0,0,0.28); padding: 5px 10px; backdrop-filter: blur(6px); }
.insp-story-body { padding: 64px 60px; background: var(--white); display: flex; flex-direction: column; justify-content: center; }
.insp-story-eyebrow { font-family: 'Jost', sans-serif; font-size: 9px; letter-spacing: 0.26em; text-transform: uppercase; color: #A55A4A; display: block; margin-bottom: 14px; }
.insp-story-title { font-family: 'Cormorant', serif; font-size: clamp(24px, 2.8vw, 34px); font-weight: 400; color: var(--ink); line-height: 1.2; margin-bottom: 22px; letter-spacing: 0.01em; }
.insp-story-text { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); line-height: 1.95; letter-spacing: 0.02em; margin-bottom: 28px; }
.insp-read-more {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  font-weight: 500;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: var(--ink);
  background: none;
  border: 1px solid var(--hairline);
  border-radius: 100px;
  padding: 9px 18px;
  cursor: pointer;
  margin-top: 20px;
  transition: all 0.2s;
}
.insp-read-more:hover {
  background: var(--ink);
  color: var(--bg);
  border-color: var(--ink);
}
.insp-story-meta { display: flex; gap: 8px; flex-wrap: wrap; }
.insp-story-meta span { font-family: 'Jost', sans-serif; font-size: 9px; letter-spacing: 0.1em; color: var(--muted); border: 1px solid var(--hairline); padding: 4px 10px; }

/* ═══ HOW IT WORKS ═══ */
.pg-hiw { padding-top: 92px; background: var(--bg); }
.hiw-experiences { max-width: 1100px; margin: 0 auto 80px; padding: 0 40px; }
.hiw-exp-header { text-align: center; margin-bottom: 48px; }
.hiw-exp-title { font-family: 'Cormorant', serif; font-size: clamp(28px,4vw,42px); font-weight: 300; color: var(--ink); margin-bottom: 14px; }
.hiw-exp-sub { font-family: 'Jost', sans-serif; font-size: 14px; font-weight: 300; color: var(--mid); line-height: 1.8; }
.hiw-exp-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }
@media (max-width: 768px) { .hiw-exp-grid { grid-template-columns: 1fr; } }
.hiw-exp-card {
  background: var(--white);
  border: 1px solid var(--hairline);
  border-radius: 20px;
  padding: 40px;
}
.hiw-exp-card-dark {
  background: var(--ink);
  border-color: var(--ink);
}
.hiw-exp-badge {
  display: inline-block;
  font-family: 'Jost', sans-serif;
  font-size: 9px;
  font-weight: 500;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: var(--ink);
  background: var(--bg2);
  border-radius: 100px;
  padding: 6px 14px;
  margin-bottom: 20px;
}
.hiw-exp-badge-light {
  color: var(--bg);
  background: rgba(244,241,235,0.15);
}
.hiw-exp-card-title {
  font-family: 'Cormorant', serif;
  font-size: clamp(22px, 2.5vw, 30px);
  font-weight: 300;
  color: var(--ink);
  line-height: 1.2;
  margin-bottom: 18px;
}
.hiw-exp-card-body {
  font-family: 'Jost', sans-serif;
  font-size: 13px;
  font-weight: 300;
  color: var(--mid);
  line-height: 1.85;
  margin-bottom: 14px;
  letter-spacing: 0.02em;
}
.hiw-exp-list {
  list-style: none;
  padding: 0;
  margin: 20px 0;
  border-top: 1px solid var(--hairline);
  padding-top: 20px;
}
.hiw-exp-list-light { border-color: rgba(244,241,235,0.15); }
.hiw-exp-list li {
  font-family: 'Jost', sans-serif;
  font-size: 12px;
  font-weight: 300;
  color: var(--mid);
  letter-spacing: 0.04em;
  padding: 6px 0;
  border-bottom: 1px solid var(--hairline);
}
.hiw-exp-list-light li { color: rgba(244,241,235,0.65); border-color: rgba(244,241,235,0.1); }
.hiw-exp-ideal {
  font-family: 'Jost', sans-serif;
  font-size: 11px;
  font-weight: 400;
  color: var(--muted);
  letter-spacing: 0.04em;
  font-style: italic;
  border: 1px solid var(--hairline);
  border-radius: 8px;
  padding: 10px 14px;
  margin: 20px 0;
}
.hiw-exp-btn {
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  font-weight: 500;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  background: var(--ink);
  color: var(--bg);
  border: none;
  border-radius: 100px;
  padding: 14px 24px;
  cursor: pointer;
  transition: background 0.2s;
}
.hiw-exp-btn:hover { background: #A55A4A; }
.hiw-exp-btn-light { background: var(--bg); color: var(--ink); }
.hiw-exp-btn-light:hover { background: rgba(244,241,235,0.85); }

/* ── DESTINATIONS PAGE ── */
.pg-destinations { padding-bottom: 80px; }
.dest-hero { text-align: center; padding: 80px 40px 48px; max-width: 700px; margin: 0 auto; }
.dest-hero-title { font-family: 'Cormorant', serif; font-size: clamp(36px,5vw,60px); font-weight: 300; color: var(--ink); margin-bottom: 16px; }
.dest-hero-sub { font-family: 'Jost', sans-serif; font-size: 14px; font-weight: 300; color: var(--mid); line-height: 1.8; }
.dest-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; max-width: 1200px; margin: 0 auto; padding: 0 40px 60px; }
.dest-card { background: var(--white); border: 1px solid var(--hairline); border-radius: 16px; overflow: hidden; cursor: pointer; transition: box-shadow 0.2s, transform 0.2s; }
.dest-card:hover { box-shadow: 0 8px 32px rgba(28,28,28,0.1); transform: translateY(-2px); }
.dest-card-img { height: 160px; }
.dest-card-info { padding: 20px; }
.dest-card-country { font-family: 'Jost', sans-serif; font-size: 9px; letter-spacing: 0.2em; text-transform: uppercase; color: var(--muted); display: block; margin-bottom: 6px; }
.dest-card-name { font-family: 'Cormorant', serif; font-size: 22px; font-weight: 300; color: var(--ink); margin-bottom: 8px; }
.dest-card-line { font-family: 'Jost', sans-serif; font-size: 12px; font-weight: 300; color: var(--mid); line-height: 1.7; margin-bottom: 12px; }
.dest-card-cta { font-family: 'Jost', sans-serif; font-size: 10px; letter-spacing: 0.14em; text-transform: uppercase; color: #A55A4A; }
.dest-budget-section { max-width: 1100px; margin: 0 auto; padding: 0 40px 60px; }
.dest-budget-header { text-align: center; margin-bottom: 40px; }
.dest-budget-title { font-family: 'Cormorant', serif; font-size: clamp(28px,4vw,42px); font-weight: 300; color: var(--ink); margin-bottom: 14px; }
.dest-budget-sub { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); line-height: 1.8; max-width: 600px; margin: 0 auto; }
.dest-budget-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px; }
.dest-budget-card { background: var(--white); border: 1px solid var(--hairline); border-radius: 12px; padding: 24px; cursor: pointer; transition: border-color 0.2s; }
.dest-budget-card:hover { border-color: var(--ink); }
.dest-budget-card-dest { font-family: 'Jost', sans-serif; font-size: 11px; font-weight: 500; letter-spacing: 0.06em; color: var(--ink); margin-bottom: 8px; }
.dest-budget-card-range { font-family: 'Cormorant', serif; font-size: 22px; font-weight: 300; color: var(--ink); margin-bottom: 8px; }
.dest-budget-card-line { font-family: 'Jost', sans-serif; font-size: 11px; font-weight: 300; color: var(--mid); line-height: 1.6; margin-bottom: 12px; }
.dest-budget-cta { font-family: 'Jost', sans-serif; font-size: 9px; letter-spacing: 0.16em; text-transform: uppercase; color: #A55A4A; }

/* ── BUDGET GUIDE PAGE ── */
.pg-budget { padding-bottom: 0; }
.budget-hero { text-align: center; padding: 80px 40px 48px; max-width: 700px; margin: 0 auto; }
.budget-hero-title { font-family: 'Cormorant', serif; font-size: clamp(34px,5vw,56px); font-weight: 300; color: var(--ink); margin-bottom: 16px; }
.budget-hero-sub { font-family: 'Jost', sans-serif; font-size: 14px; font-weight: 300; color: var(--mid); line-height: 1.8; }
.budget-content { max-width: 900px; margin: 0 auto; padding: 0 40px 60px; }
.budget-intro-note { background: var(--bg2); border: 1px solid var(--hairline); border-radius: 12px; padding: 20px 24px; font-family: 'Jost', sans-serif; font-size: 12px; font-weight: 300; color: var(--mid); line-height: 1.8; margin-bottom: 48px; }
.budget-intro-note strong { color: var(--ink); font-weight: 500; }
.budget-dest-block { margin-bottom: 56px; padding-bottom: 56px; border-bottom: 1px solid var(--hairline); }
.budget-dest-block:last-child { border-bottom: none; }
.budget-dest-header { display: flex; justify-content: space-between; align-items: flex-start; gap: 24px; margin-bottom: 24px; flex-wrap: wrap; }
.budget-dest-country { font-family: 'Jost', sans-serif; font-size: 9px; letter-spacing: 0.2em; text-transform: uppercase; color: var(--muted); display: block; margin-bottom: 6px; }
.budget-dest-name { font-family: 'Cormorant', serif; font-size: clamp(28px,4vw,40px); font-weight: 300; color: var(--ink); margin-bottom: 10px; }
.budget-dest-tagline { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); line-height: 1.7; max-width: 520px; }
.budget-dest-range-badge { font-family: 'Cormorant', serif; font-size: 22px; font-weight: 300; color: var(--ink); background: var(--bg2); border: 1px solid var(--hairline); border-radius: 12px; padding: 12px 20px; white-space: nowrap; }
.budget-table { border: 1px solid var(--hairline); border-radius: 12px; overflow: hidden; margin-bottom: 20px; }
.budget-row { display: grid; grid-template-columns: 2fr 1fr 1fr; padding: 12px 20px; border-bottom: 1px solid var(--hairline); font-family: 'Jost', sans-serif; font-size: 12px; font-weight: 300; color: var(--mid); }
.budget-row:last-child { border-bottom: none; }
.budget-row-head { background: var(--bg2); font-weight: 500; color: var(--ink); font-size: 10px; letter-spacing: 0.08em; }
.budget-row-total { background: var(--bg2); font-weight: 500; color: var(--ink); }
.budget-tip { font-family: 'Jost', sans-serif; font-size: 12px; font-weight: 300; color: var(--mid); line-height: 1.8; background: rgba(165,90,74,0.05); border-left: 2px solid #A55A4A; padding: 14px 18px; border-radius: 0 8px 8px 0; }
.budget-tip strong { color: var(--ink); font-weight: 500; }
.budget-tip-link { background: none; border: none; color: #A55A4A; font-family: 'Jost', sans-serif; font-size: 11px; letter-spacing: 0.1em; text-transform: uppercase; cursor: pointer; padding: 0; text-decoration: underline; }

/* ── CHECKLIST PAGE ── */
.pg-checklist { padding-bottom: 80px; }
.checklist-hero { text-align: center; padding: 80px 40px 48px; max-width: 700px; margin: 0 auto; }
.checklist-hero-title { font-family: 'Cormorant', serif; font-size: clamp(34px,5vw,54px); font-weight: 300; color: var(--ink); margin-bottom: 16px; }
.checklist-hero-sub { font-family: 'Jost', sans-serif; font-size: 14px; font-weight: 300; color: var(--mid); line-height: 1.8; }
.checklist-preview { max-width: 720px; margin: 0 auto; padding: 0 40px 60px; }
.checklist-phase { margin-bottom: 32px; }
.checklist-phase-header { display: flex; align-items: baseline; gap: 16px; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 1px solid var(--hairline); }
.checklist-phase-num { font-family: 'Jost', sans-serif; font-size: 9px; letter-spacing: 0.22em; text-transform: uppercase; color: #A55A4A; }
.checklist-phase-title { font-family: 'Cormorant', serif; font-size: 22px; font-weight: 300; color: var(--ink); }
.checklist-items { display: flex; flex-direction: column; gap: 2px; }
.checklist-item { display: flex; gap: 12px; align-items: flex-start; font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); line-height: 1.7; padding: 10px 0; border-bottom: 1px solid var(--hairline); }
.checklist-item:last-child { border-bottom: none; }
.ci-check { color: #A55A4A; font-size: 10px; flex-shrink: 0; margin-top: 4px; }
.checklist-item-blur { filter: blur(3px); user-select: none; opacity: 0.6; }
.checklist-gate { background: var(--ink); border-radius: 20px; padding: 48px 40px; text-align: center; margin-top: 8px; }
.checklist-gate-icon { font-size: 32px; margin-bottom: 16px; }
.checklist-gate-title { font-family: 'Cormorant', serif; font-size: 32px; font-weight: 300; color: var(--bg); margin-bottom: 12px; }
.checklist-gate-sub { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: rgba(244,241,235,0.7); line-height: 1.8; margin-bottom: 28px; }
.checklist-gate-btn { font-family: 'Jost', sans-serif; font-size: 10px; font-weight: 500; letter-spacing: 0.2em; text-transform: uppercase; background: var(--bg); color: var(--ink); border: none; border-radius: 100px; padding: 16px 32px; cursor: pointer; transition: background 0.2s; }
.checklist-gate-btn:hover { background: rgba(244,241,235,0.85); }
.checklist-gate-note { font-family: 'Jost', sans-serif; font-size: 10px; font-weight: 300; color: rgba(244,241,235,0.4); letter-spacing: 0.06em; margin-top: 14px; }

/* ── STORY DETAIL PAGE ── */
.pg-story { padding-bottom: 80px; }
.story-back-btn { display: inline-flex; align-items: center; gap: 8px; font-family: 'Jost', sans-serif; font-size: 10px; letter-spacing: 0.14em; text-transform: uppercase; color: var(--mid); background: none; border: 1px solid var(--hairline); border-radius: 100px; padding: 10px 18px; cursor: pointer; margin: 32px 40px; transition: color 0.2s; }
.story-back-btn:hover { color: var(--ink); }
.story-hero { position: relative; height: 420px; border-radius: 16px; overflow: hidden; margin: 0 40px 48px; }
.story-hero-bg { position: absolute; inset: 0; }
.story-hero-content { position: absolute; inset: 0; display: flex; flex-direction: column; justify-content: flex-end; padding: 48px; background: linear-gradient(to top, rgba(15,15,15,0.85) 0%, transparent 55%); }
.story-hero-title { font-family: 'Cormorant', serif; font-size: clamp(26px,4vw,44px); font-weight: 300; color: #f4f1eb; line-height: 1.15; margin-top: 12px; }
.story-meta { display: flex; gap: 12px; flex-wrap: wrap; margin-top: 16px; }
.story-meta span { font-family: 'Jost', sans-serif; font-size: 10px; font-weight: 300; color: rgba(244,241,235,0.7); background: rgba(244,241,235,0.12); border-radius: 100px; padding: 5px 12px; }
.story-body { max-width: 720px; margin: 0 auto; padding: 0 40px; font-family: 'Jost', sans-serif; font-size: 15px; font-weight: 300; color: var(--mid); line-height: 2; letter-spacing: 0.02em; }
.story-body p { margin-bottom: 24px; }
.story-body .story-pull { font-family: 'Cormorant', serif; font-size: clamp(22px,3vw,30px); font-weight: 300; font-style: italic; color: var(--ink); line-height: 1.4; padding: 32px 0; border-top: 1px solid var(--hairline); border-bottom: 1px solid var(--hairline); margin: 32px 0; }
.story-footer { text-align: center; padding: 40px; }
.story-footer-label { font-family: 'Jost', sans-serif; font-size: 10px; letter-spacing: 0.2em; text-transform: uppercase; color: var(--muted); margin-bottom: 16px; }

/* ── COLLECTION SIGNUP CTA ── */
.collection-signup-cta { max-width: 600px; width: 100%; margin: 40px auto 0; }
.collection-signup-inner { background: var(--ink); border-radius: 24px; padding: 64px 56px; text-align: center; }
.collection-signup-eyebrow { font-family: 'Jost', sans-serif; font-size: 9px; letter-spacing: 0.28em; text-transform: uppercase; color: rgba(165,90,74,0.9); display: block; margin-bottom: 16px; }
.collection-signup-heading { font-family: 'Cormorant', serif; font-size: clamp(32px,5vw,48px); font-weight: 300; color: var(--bg); margin-bottom: 16px; line-height: 1.15; }
.collection-signup-body { font-family: 'Jost', sans-serif; font-size: 14px; font-weight: 300; color: rgba(244,241,235,0.65); line-height: 1.9; margin-bottom: 32px; max-width: 400px; margin-left: auto; margin-right: auto; }
.collection-signup-btn { font-family: 'Jost', sans-serif; font-size: 11px; font-weight: 500; letter-spacing: 0.2em; text-transform: uppercase; background: #A55A4A; color: var(--bg); border: none; border-radius: 100px; padding: 18px 40px; cursor: pointer; transition: all 0.2s; }
.collection-signup-btn:hover { background: var(--bg); color: var(--ink); transform: translateY(-1px); }

.hiw-header { text-align: center; padding: 64px 40px 0; max-width: 720px; margin: 0 auto; }
.hiw-title { font-family: 'Cormorant', serif; font-size: clamp(40px, 5.5vw, 68px); font-weight: 300; color: var(--ink); line-height: 1.1; margin-bottom: 20px; }
.hiw-title strong { font-weight: 500; }
.hiw-sub { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); line-height: 1.8; letter-spacing: 0.03em; }
.hiw-flow { max-width: 800px; margin: 80px auto 0; padding: 0 40px; }
.hiw-step { display: grid; grid-template-columns: 56px 2px 1fr; gap: 0 28px; padding-bottom: 56px; }
.hiw-step:last-child { padding-bottom: 0; }
.hiw-step-num { font-family: 'Cormorant', serif; font-size: 12px; font-weight: 300; letter-spacing: 0.08em; color: var(--muted); text-align: right; padding-top: 3px; }
.hiw-step-track { position: relative; width: 2px; background: var(--divider); }
.hiw-step-track::before { content: ''; position: absolute; top: 0; left: 50%; transform: translateX(-50%); width: 8px; height: 8px; border: 1.5px solid #A55A4A; border-radius: 50%; background: var(--bg); margin-top: -1px; }
.hiw-step:last-child .hiw-step-track { background: transparent; }
.hiw-step-content { padding-left: 8px; padding-bottom: 8px; }
.hiw-step-icon { font-size: 18px; color: #A55A4A; opacity: 0.65; margin-bottom: 10px; }
.hiw-step-title { font-family: 'Cormorant', serif; font-size: 26px; font-weight: 400; color: var(--ink); margin-bottom: 12px; }
.hiw-step-body { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); line-height: 1.88; letter-spacing: 0.02em; }
.hiw-trust { background: var(--ink); margin-top: 72px; padding: 56px 40px; }
.hiw-trust-inner { max-width: 800px; margin: 0 auto; display: flex; align-items: center; justify-content: center; gap: 56px; }
.hiw-trust-stat { text-align: center; }
.hiw-trust-num { font-family: 'Cormorant', serif; font-size: 40px; font-weight: 300; color: var(--bg); letter-spacing: 0.04em; display: block; }
.hiw-trust-label { font-family: 'Jost', sans-serif; font-size: 9px; font-weight: 400; letter-spacing: 0.22em; text-transform: uppercase; color: rgba(244,241,235,0.35); margin-top: 6px; }
.hiw-trust-div { width: 1px; height: 44px; background: rgba(244,241,235,0.12); }

/* ═══ ABOUT PAGE ═══ */
.pg-about { background: var(--bg); }

.about-hero { position: relative; min-height: 88vh; display: flex; align-items: flex-end; overflow: hidden; padding-top: 80px; }
.about-hero-bg { position: absolute; inset: 0; background: linear-gradient(150deg, #0d0b09 0%, #1a150f 40%, #241c14 70%, #1a130d 100%); }
.about-hero-bg::after { content: ''; position: absolute; inset: 0; background: radial-gradient(ellipse at 30% 60%, rgba(165,90,74,0.08) 0%, transparent 60%); }
.about-hero-content { position: relative; z-index: 1; padding: 80px 80px 100px; max-width: 860px; }
.about-hero-title { font-family: 'Cormorant', serif; font-size: clamp(48px, 7.5vw, 96px); font-weight: 300; color: rgba(253,252,250,0.95); line-height: 1.0; letter-spacing: 0.01em; margin-bottom: 28px; }
.about-hero-title em { font-style: italic; font-weight: 400; }
.about-hero-sub { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: rgba(244,241,235,0.45); letter-spacing: 0.06em; line-height: 2; }

.about-opening { padding: 88px 80px; border-bottom: 1px solid var(--divider); }
.about-opening-inner { max-width: 720px; margin: 0 auto; }
.about-opening-text { font-family: 'Cormorant', serif; font-size: clamp(20px, 2.2vw, 26px); font-weight: 300; color: var(--ink); line-height: 1.65; letter-spacing: 0.01em; margin-bottom: 28px; }
.about-opening-text:last-child { margin-bottom: 0; color: var(--mid); }

.about-section { padding: 88px 80px; }
.about-section-alt { background: var(--bg2); }
.about-section-inner { max-width: 1000px; margin: 0 auto; }
.about-section-label { font-family: 'Jost', sans-serif; font-size: 9px; font-weight: 400; letter-spacing: 0.22em; text-transform: uppercase; color: var(--muted); margin-bottom: 20px; }
.about-section-title { font-family: 'Cormorant', serif; font-size: clamp(36px, 5vw, 60px); font-weight: 300; color: var(--ink); line-height: 1.1; letter-spacing: 0.01em; margin-bottom: 52px; }
.about-section-title em { font-style: italic; }
.about-diff-intro { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); letter-spacing: 0.04em; line-height: 1.8; margin-bottom: 48px; max-width: 520px; }

.about-philosophy-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 48px 64px; }
.about-phil-item {}
.about-phil-num { font-family: 'Cormorant', serif; font-size: 18px; color: rgba(165,90,74,0.6); margin-bottom: 12px; }
.about-phil-title { font-family: 'Cormorant', serif; font-size: 22px; font-weight: 400; color: var(--ink); letter-spacing: 0.02em; margin-bottom: 12px; }
.about-phil-body { font-family: 'Jost', sans-serif; font-size: 12.5px; font-weight: 300; color: var(--mid); letter-spacing: 0.03em; line-height: 1.9; }

.about-diff-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2px; }
.about-diff-card { padding: 52px 48px; background: var(--bg2); border: 1px solid var(--divider); }
.about-diff-card-dark { background: var(--ink); border-color: var(--ink); }
.about-diff-num { font-family: 'Cormorant', serif; font-size: 13px; font-weight: 400; color: rgba(165,90,74,0.6); letter-spacing: 0.1em; margin-bottom: 20px; }
.about-diff-title { font-family: 'Cormorant', serif; font-size: 28px; font-weight: 400; color: var(--ink); line-height: 1.2; margin-bottom: 18px; }
.about-diff-body { font-family: 'Jost', sans-serif; font-size: 12.5px; font-weight: 300; color: var(--mid); letter-spacing: 0.03em; line-height: 1.9; margin-bottom: 28px; }
.about-diff-tag { font-family: 'Jost', sans-serif; font-size: 9px; font-weight: 400; letter-spacing: 0.2em; text-transform: uppercase; color: var(--muted); border-top: 1px solid var(--divider); padding-top: 20px; }

.about-process-steps { display: flex; flex-direction: column; gap: 0; border-top: 1px solid var(--divider); }
.about-process-step { display: grid; grid-template-columns: 80px 1fr; gap: 40px; padding: 44px 0; border-bottom: 1px solid var(--divider); align-items: start; }
.about-process-n { font-family: 'Cormorant', serif; font-size: 36px; font-weight: 300; color: rgba(165,90,74,0.4); line-height: 1; padding-top: 4px; }
.about-process-title { font-family: 'Cormorant', serif; font-size: 22px; font-weight: 400; color: var(--ink); letter-spacing: 0.02em; margin-bottom: 12px; }
.about-process-body { font-family: 'Jost', sans-serif; font-size: 12.5px; font-weight: 300; color: var(--mid); letter-spacing: 0.03em; line-height: 1.9; }

.about-vision { padding: 96px 80px; background: var(--ink); text-align: center; }
.about-vision-inner { max-width: 680px; margin: 0 auto; }
.about-vision-title { font-family: 'Cormorant', serif; font-size: clamp(36px, 5vw, 60px); font-weight: 300; color: rgba(253,252,250,0.95); line-height: 1.1; letter-spacing: 0.01em; margin-bottom: 36px; }
.about-vision-title em { font-style: italic; }
.about-vision-body { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: rgba(244,241,235,0.5); letter-spacing: 0.04em; line-height: 1.95; margin-bottom: 20px; }
.about-vision-stats { display: flex; align-items: center; justify-content: center; gap: 0; margin-top: 64px; border-top: 1px solid rgba(244,241,235,0.08); padding-top: 48px; }
.about-vision-stat { text-align: center; padding: 0 48px; }
.about-vision-num { font-family: 'Cormorant', serif; font-size: 40px; font-weight: 300; color: rgba(253,252,250,0.85); letter-spacing: 0.04em; display: block; margin-bottom: 8px; }
.about-vision-label { font-family: 'Jost', sans-serif; font-size: 9px; font-weight: 400; letter-spacing: 0.2em; text-transform: uppercase; color: rgba(244,241,235,0.3); }
.about-vision-div { width: 1px; height: 40px; background: rgba(244,241,235,0.1); flex-shrink: 0; }

@media (max-width: 768px) {
  .about-hero-content { padding: 48px 24px 72px; }
  .about-opening { padding: 60px 24px; }
  .about-section { padding: 60px 24px; }
  .about-philosophy-grid { grid-template-columns: 1fr; gap: 36px; }
  .about-diff-grid { grid-template-columns: 1fr; }
  .about-process-step { grid-template-columns: 48px 1fr; gap: 20px; }
  .about-vision { padding: 72px 24px; }
  .about-vision-stat { padding: 0 24px; }
}

/* ═══ SPOT SAVE HEART on cards ═══ */
.spot-save {
  position: absolute; top: 12px; right: 12px;
  width: 36px; height: 36px;
  background: rgba(28,28,28,0.35); backdrop-filter: blur(6px);
  border-radius: 50%; border: none;
  display: flex; align-items: center; justify-content: center;
  font-size: 16px; color: white; cursor: pointer;
  transition: all 0.2s; z-index: 2;
}
.spot-save:hover { background: rgba(165,90,74,0.7); }
.spot-save.saved { background: #A55A4A; }

/* ═══ FOR HOTELS ═══ */
.pg-hotels { padding-top: 80px; }
.hotels-hero-bg { background: linear-gradient(140deg, #0e0c0a 0%, #1a1610 50%, #0e0c0a 100%); }
.hotels-body { max-width: 1120px; margin: 0 auto; padding: 0 40px; }
.hotels-pitch { display: grid; grid-template-columns: 1fr 300px; gap: 80px; padding: 80px 0; border-bottom: 1px solid var(--divider); align-items: start; }
.hotels-pitch-title { font-family: 'Cormorant', serif; font-size: clamp(28px, 3.5vw, 44px); font-weight: 300; color: var(--ink); line-height: 1.18; margin: 16px 0 28px; }
.hotels-pitch-title strong { font-weight: 500; }
.hotels-pitch p { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); line-height: 1.9; letter-spacing: 0.02em; margin-bottom: 20px; }
.hotels-aside { display: flex; flex-direction: column; gap: 1px; }
.hotels-aside-card { background: var(--white); border: 1px solid var(--divider); padding: 22px 20px; }
.hotels-aside-num { font-family: 'Cormorant', serif; font-size: 36px; font-weight: 300; color: var(--ink); letter-spacing: 0.04em; display: block; margin-bottom: 4px; }
.hotels-aside-label { font-family: 'Jost', sans-serif; font-size: 10px; font-weight: 300; color: var(--muted); letter-spacing: 0.1em; }
.hotels-pillars { display: grid; grid-template-columns: repeat(3,1fr); border-top: 1px solid var(--divider); }
.hotels-pillar { padding: 48px 32px; border-right: 1px solid var(--divider); }
.hotels-pillar:last-child { border-right: none; }
.hotels-pillar-icon { font-size: 18px; color: #A55A4A; opacity: 0.65; margin-bottom: 16px; }
.hotels-pillar h3 { font-family: 'Cormorant', serif; font-size: 21px; font-weight: 400; color: var(--ink); margin-bottom: 12px; }
.hotels-pillar p { font-family: 'Jost', sans-serif; font-size: 12px; font-weight: 300; color: var(--mid); line-height: 1.85; letter-spacing: 0.02em; }
.hotels-form-section { padding: 80px 0 100px; max-width: 640px; }
.hotels-form-title { font-family: 'Cormorant', serif; font-size: 36px; font-weight: 300; color: var(--ink); margin: 14px 0 12px; }
.hotels-form-sub { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); line-height: 1.7; letter-spacing: 0.02em; margin-bottom: 36px; }
.hf-form { display: flex; flex-direction: column; gap: 16px; }
.hf-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
.hf-field { display: flex; flex-direction: column; gap: 7px; }
.hf-field label { font-family: 'Jost', sans-serif; font-size: 9px; font-weight: 400; letter-spacing: 0.24em; text-transform: uppercase; color: var(--muted); }
.hf-field input { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--ink); background: var(--white); border: 1px solid var(--hairline); padding: 12px 16px; outline: none; transition: border-color 0.15s; letter-spacing: 0.02em; }
.hf-field input:focus { border-color: var(--ink); }
.hf-field input::placeholder { color: var(--muted); }
.hf-submit { font-family: 'Jost', sans-serif; font-size: 10px; font-weight: 400; letter-spacing: 0.2em; text-transform: uppercase; background: var(--ink); color: var(--bg); border: none; padding: 15px 36px; cursor: pointer; align-self: flex-start; margin-top: 8px; transition: background 0.2s; }
.hf-submit:hover { background: #A55A4A; }
.hf-confirm { text-align: center; padding: 64px 0; }
.hf-confirm-icon { font-size: 28px; color: #A55A4A; margin-bottom: 22px; }
.hf-confirm-title { font-family: 'Cormorant', serif; font-size: 28px; font-weight: 300; color: var(--ink); margin-bottom: 14px; }
.hf-confirm-text { font-family: 'Jost', sans-serif; font-size: 13px; font-weight: 300; color: var(--mid); line-height: 1.8; letter-spacing: 0.02em; max-width: 380px; margin: 0 auto; }

/* ─────────────────────────────────────
   INTENT TOGGLE
───────────────────────────────────── */
.intent-toggle {
  display: flex;
  align-items: center;
  gap: 16px;
  justify-content: center;
  margin-bottom: 28px;
}
.intent-opt {
  font-family: 'Jost', sans-serif;
  font-size: 11px;
  font-weight: 400;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--muted);
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px 0;
  position: relative;
  transition: color 0.25s ease;
}
.intent-opt::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: var(--ink);
  transform: scaleX(0);
  transition: transform 0.25s ease;
  transform-origin: center;
}
.intent-opt.active {
  color: var(--ink);
}
.intent-opt.active::after {
  transform: scaleX(1);
}
.intent-opt:hover {
  color: var(--ink2);
}
.intent-sep {
  font-family: 'Cormorant', serif;
  font-size: 16px;
  color: var(--hairline);
  font-weight: 300;
  line-height: 1;
}


.results-page {
  min-height: 100vh;
  background: var(--bg);
  padding-top: 90px;
}
.results-topbar {
  position: sticky;
  top: 80px;
  z-index: 500;
  background: rgba(244,241,235,0.97);
  backdrop-filter: blur(16px);
  border-bottom: 1px solid var(--divider);
  padding: 18px 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  flex-wrap: wrap;
}
.results-topbar-left {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  flex: 1;
  flex-wrap: wrap;
}
.results-back {
  background: none;
  border: none;
  font-family: 'Jost', sans-serif;
  font-size: 11px;
  font-weight: 400;
  letter-spacing: 0.1em;
  color: var(--mid);
  cursor: pointer;
  padding: 7px 0;
  display: flex;
  align-items: center;
  gap: 6px;
  white-space: nowrap;
  transition: color 0.2s;
}
.results-back:hover { color: var(--ink); }
.results-divider-v {
  width: 1px;
  height: 20px;
  background: var(--divider);
  flex-shrink: 0;
}
.results-filter-pill {
  font-family: 'Jost', sans-serif;
  font-size: 13px;
  font-weight: 400;
  letter-spacing: 0.06em;
  color: var(--mid);
  background: none;
  border: 1px solid var(--hairline);
  border-radius: 100px;
  padding: 13px 26px;
  cursor: pointer;
  transition: all 0.18s;
  display: flex;
  align-items: center;
  gap: 6px;
  white-space: nowrap;
}
.results-filter-pill:hover { color: var(--ink); border-color: var(--ink); }
.results-filter-pill.active { color: var(--ink); background: var(--bg2); border-color: var(--ink); font-weight: 500; }
.results-filter-pill .pill-count {
  background: var(--ink);
  color: var(--white);
  border-radius: 100px;
  font-size: 9px;
  padding: 1px 6px;
  font-weight: 500;
}
.results-clear {
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--muted);
  background: none;
  border: none;
  cursor: pointer;
  padding: 7px 0;
  transition: color 0.2s;
  margin-left: auto;
}
.results-clear:hover { color: var(--ink); }
.results-header {
  padding: 40px 40px 24px;
  max-width: 1200px;
  margin: 0 auto;
}
.results-count-label {
  font-family: 'Jost', sans-serif;
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.28em;
  text-transform: uppercase;
  color: #A55A4A;
  display: block;
  margin-bottom: 10px;
}
.results-count-title {
  font-family: 'Cormorant', serif;
  font-size: 36px;
  font-weight: 300;
  color: var(--ink);
  line-height: 1.1;
}
.results-count-title strong { font-weight: 500; }
.results-active-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 16px;
  min-height: 0;
}
.results-active-tags:empty { display: none; }
.results-tag {
  font-family: 'Jost', sans-serif;
  font-size: 10px;
  font-weight: 500;
  letter-spacing: 0.06em;
  color: var(--white);
  background: var(--ink);
  border: 1px solid var(--ink);
  border-radius: 100px;
  padding: 7px 14px 7px 12px;
  display: flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  transition: all 0.18s;
}
.results-tag:hover { background: #A55A4A; border-color: #A55A4A; }
.results-tag-x { color: rgba(255,255,255,0.6); font-size: 14px; line-height: 1; }
.results-filters-label {
  font-family: 'Jost', sans-serif;
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 10px;
  display: none;
}
.results-filters-label.visible { display: block; }
.results-grid-wrap {
  padding: 0 40px 80px;
  max-width: 1200px;
  margin: 0 auto;
}
.results-empty {
  text-align: center;
  padding: 80px 0;
}
.results-empty p {
  font-family: 'Cormorant', serif;
  font-size: 22px;
  font-weight: 300;
  color: var(--mid);
  margin-bottom: 20px;
}

/* Inline filter panels on results page */
.results-panel-wrap {
  position: relative;
}
.results-inline-panel {
  display: none;
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  background: var(--white);
  border: 1px solid var(--hairline);
  border-radius: 12px;
  padding: 20px;
  min-width: 280px;
  z-index: 600;
  box-shadow: 0 8px 32px rgba(28,28,28,0.1);
}
.results-inline-panel.open { display: block; }
.results-inline-panel .inline-panel-label {
  font-family: 'Jost', sans-serif;
  font-size: 8px;
  font-weight: 500;
  letter-spacing: 0.28em;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 12px;
  display: block;
}
.results-inline-panel .inline-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 7px;
}

@media (max-width: 680px) {
  .results-topbar { padding: 12px 20px; }
  .results-header { padding: 28px 20px 16px; }
  .results-grid-wrap { padding: 0 20px 60px; }
  .results-count-title { font-size: 28px; }
}




/* ─────────────────────────────────────
   SPOT DETAIL PAGE
───────────────────────────────────── */
.sdp-wrap { min-height: 100vh; background: var(--bg); }

.sdp-hero {
  position: relative;
  height: 72vh;
  min-height: 500px;
  overflow: hidden;
}
.sdp-hero-bg {
  position: absolute; inset: 0;
  background: var(--bg3) center/cover;
  transition: transform 8s ease;
  transform: scale(1.04);
}
.sdp-hero-bg.loaded { transform: scale(1); }
.sdp-hero-overlay {
  position: absolute; inset: 0;
  background: linear-gradient(to bottom,
    rgba(28,28,28,0.2) 0%,
    rgba(28,28,28,0) 35%,
    rgba(28,28,28,0.6) 100%);
}
.sdp-back {
  position: absolute;
  top: 100px; left: 40px;
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 400;
  letter-spacing: 0.12em; text-transform: uppercase;
  color: rgba(244,241,235,0.9);
  background: rgba(28,28,28,0.32);
  border: 1px solid rgba(244,241,235,0.2);
  border-radius: 100px;
  padding: 8px 18px 8px 14px;
  cursor: pointer;
  backdrop-filter: blur(10px);
  transition: background 0.2s;
  display: flex; align-items: center; gap: 7px;
}
.sdp-back:hover { background: rgba(28,28,28,0.55); }
.sdp-hero-badge {
  position: absolute;
  top: 100px; right: 40px;
  font-family: 'Jost', sans-serif;
  font-size: 9px; font-weight: 500;
  letter-spacing: 0.2em; text-transform: uppercase;
  color: var(--white); background: #A55A4A;
  border-radius: 100px; padding: 6px 14px;
}
.sdp-hero-bottom {
  position: absolute;
  bottom: 44px; left: 40px; right: 40px;
}
.sdp-hero-loc {
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 400;
  letter-spacing: 0.24em; text-transform: uppercase;
  color: rgba(244,241,235,0.7);
  display: block; margin-bottom: 12px;
}
.sdp-hero-name {
  font-family: 'Cormorant', serif;
  font-size: clamp(34px, 5vw, 58px);
  font-weight: 300; color: var(--white);
  line-height: 1.05; max-width: 680px;
}

/* Body */
.sdp-body {
  max-width: 1160px;
  margin: 0 auto;
  padding: 64px 40px 120px;
}
.sdp-cols {
  display: grid;
  grid-template-columns: 1fr 360px;
  gap: 48px;
  align-items: start;
  width: 100%;
}

/* Stats bar */
.sdp-stats {
  display: flex;
  border: 1px solid var(--hairline);
  border-radius: 12px;
  overflow: hidden;
  background: var(--white);
  margin-bottom: 52px;
}
.sdp-stat {
  flex: 1;
  padding: 18px 16px;
  border-right: 1px solid var(--hairline);
  text-align: center;
}
.sdp-stat:last-child { border-right: none; }
.sdp-stat-lbl {
  font-family: 'Jost', sans-serif;
  font-size: 8px; font-weight: 500;
  letter-spacing: 0.22em; text-transform: uppercase;
  color: var(--muted); display: block; margin-bottom: 6px;
}
.sdp-stat-val {
  font-family: 'Jost', sans-serif;
  font-size: 13px; font-weight: 400;
  color: var(--ink); letter-spacing: 0.02em;
}

/* Section label */
.sdp-lbl {
  font-family: 'Jost', sans-serif;
  font-size: 9px; font-weight: 500;
  letter-spacing: 0.28em; text-transform: uppercase;
  color: var(--muted); display: block; margin-bottom: 16px;
}

/* About */
.sdp-about { margin-bottom: 56px; }
.sdp-about-text {
  font-family: 'Cormorant', serif;
  font-size: 21px; font-weight: 300;
  color: var(--ink); line-height: 1.75;
}

/* Plan steps */
.sdp-plan { margin-bottom: 56px; }
.sdp-step {
  display: flex; gap: 22px;
  padding: 22px 0;
  border-bottom: 1px solid var(--divider);
}
.sdp-step:first-child { padding-top: 0; }
.sdp-step:last-child { border-bottom: none; padding-bottom: 0; }
.sdp-step-n {
  font-family: 'Cormorant', serif;
  font-size: 30px; font-weight: 300;
  color: var(--hairline); line-height: 1;
  flex-shrink: 0; width: 38px;
}
.sdp-step-txt {
  font-family: 'Jost', sans-serif;
  font-size: 13px; font-weight: 300;
  color: var(--ink2); line-height: 1.8;
  letter-spacing: 0.02em; padding-top: 4px;
}

/* Vibe tags */
.sdp-vibes { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 56px; }
.sdp-vibe-tag {
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 400;
  letter-spacing: 0.08em;
  color: var(--mid); background: var(--white);
  border: 1px solid var(--hairline);
  border-radius: 100px; padding: 7px 16px;
}

/* Sidebar */
.sdp-sidebar {
  min-width: 0;
  width: 100%;
}
.sdp-sidebar-card {
  background: var(--white);
  border: 1px solid var(--hairline);
  border-radius: 16px;
  padding: 28px;
  position: sticky;
  top: 88px;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  overflow: hidden;
}

/* Booking steps */
.sdp-booking-step {
  margin-bottom: 24px;
  padding-bottom: 24px;
  border-bottom: 1px solid var(--divider);
}
.sdp-booking-step:last-of-type { border-bottom: none; }
.sdp-step-header {
  display: flex;
  align-items: flex-start;
  gap: 14px;
  margin-bottom: 16px;
}
.sdp-step-num {
  font-family: 'Cormorant', serif;
  font-size: 28px; font-weight: 300;
  color: var(--hairline);
  line-height: 1;
  flex-shrink: 0;
}
.sdp-step-title {
  font-family: 'Jost', sans-serif;
  font-size: 11px; font-weight: 500;
  letter-spacing: 0.1em; text-transform: uppercase;
  color: var(--ink); display: block;
  margin-bottom: 3px;
}
.sdp-step-sub {
  font-family: 'Jost', sans-serif;
  font-size: 11px; font-weight: 300;
  color: var(--muted); display: block;
  letter-spacing: 0.02em;
}
.sdp-step-hint {
  font-family: 'Jost', sans-serif;
  font-size: 11px; font-weight: 300;
  color: var(--muted); letter-spacing: 0.02em;
  margin: 0; line-height: 1.6;
  font-style: italic;
}
.sdp-step-locked {
  opacity: 0.45;
  pointer-events: none;
  transition: opacity 0.3s;
}
.sdp-step-locked.unlocked {
  opacity: 1;
  pointer-events: all;
}
.sdp-nights-display {
  font-family: 'Jost', sans-serif;
  font-size: 11px; font-weight: 400;
  color: #A55A4A; letter-spacing: 0.06em;
  text-align: center;
  margin-top: 10px;
}
.sdp-proposal-dates {
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.sdp-proposal-night {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border: 1px solid var(--hairline);
  border-radius: 8px;
  cursor: pointer;
  transition: border-color 0.15s, background 0.15s;
  font-family: 'Jost', sans-serif;
  font-size: 12px; font-weight: 300;
  color: var(--ink); letter-spacing: 0.02em;
}
.sdp-proposal-night:hover { border-color: var(--ink); background: var(--bg); }
.sdp-proposal-night.selected { border-color: #A55A4A; background: rgba(165,90,74,0.05); color: #A55A4A; }
.sdp-proposal-night input[type="checkbox"] {
  accent-color: #A55A4A;
  width: 14px; height: 14px;
  flex-shrink: 0;
  cursor: pointer;
}
.sdp-pricing-block { margin-bottom: 20px; padding-top: 4px; }
.sdp-price-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 0;
}
.sdp-price-label {
  font-family: 'Jost', sans-serif;
  font-size: 11px; font-weight: 300;
  color: var(--mid); letter-spacing: 0.04em;
}
.sdp-price-val {
  font-family: 'Jost', sans-serif;
  font-size: 12px; font-weight: 400;
  color: var(--ink); letter-spacing: 0.02em;
}
.sdp-price-total .sdp-price-label { font-weight: 500; color: var(--ink); }
.sdp-price-total .sdp-price-val { font-weight: 500; color: #A55A4A; }
.sdp-hotel-lbl {
  font-family: 'Jost', sans-serif;
  font-size: 9px; font-weight: 500;
  letter-spacing: 0.22em; text-transform: uppercase;
  color: var(--muted); display: block; margin-bottom: 6px;
}
.sdp-hotel-name {
  font-family: 'Cormorant', serif;
  font-size: 22px; font-weight: 400;
  color: var(--ink); margin-bottom: 22px; line-height: 1.2;
}
.sdp-btn-primary {
  width: 100%; font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 500;
  letter-spacing: 0.18em; text-transform: uppercase;
  background: var(--ink); color: var(--bg);
  border: none; border-radius: 8px;
  padding: 16px; cursor: pointer;
  transition: background 0.2s; margin-bottom: 10px;
  display: block;
}
.sdp-btn-primary:hover { background: #A55A4A; }
.sdp-btn-secondary {
  width: 100%; font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 400;
  letter-spacing: 0.14em; text-transform: uppercase;
  background: none; color: var(--mid);
  border: 1px solid var(--hairline); border-radius: 8px;
  padding: 14px; cursor: pointer;
  transition: border-color 0.2s, color 0.2s;
  display: block; width: 100%;
}
.sdp-btn-secondary:hover { border-color: var(--ink); color: var(--ink); }
.sdp-sidebar-divider {
  border: none; border-top: 1px solid var(--divider);
  margin: 22px 0;
}
.sdp-access-txt {
  font-family: 'Jost', sans-serif;
  font-size: 12px; font-weight: 300;
  color: var(--mid); line-height: 1.75;
}
.sdp-photo-row {
  display: flex; align-items: center; gap: 10px;
}
.sdp-photo-icon { font-size: 15px; }
.sdp-photo-lbl {
  font-family: 'Jost', sans-serif;
  font-size: 9px; font-weight: 400;
  letter-spacing: 0.16em; text-transform: uppercase;
  color: var(--muted); display: block; margin-bottom: 2px;
}
.sdp-photo-name {
  font-family: 'Jost', sans-serif;
  font-size: 12px; font-weight: 400; color: var(--ink);
}

/* Heart button on hero */
.sdp-heart-btn {
  position: absolute;
  top: 100px; right: 40px;
  width: 44px; height: 44px;
  background: rgba(28,28,28,0.35);
  border: 1px solid rgba(244,241,235,0.25);
  border-radius: 50%;
  color: rgba(244,241,235,0.9);
  font-size: 18px; line-height: 1;
  cursor: pointer;
  backdrop-filter: blur(10px);
  transition: background 0.2s, color 0.2s;
  display: flex; align-items: center; justify-content: center;
  z-index: 2;
}
.sdp-heart-btn:hover { background: rgba(165,90,74,0.7); }
.sdp-heart-btn.saved { background: #A55A4A; border-color: #A55A4A; color: white; }

/* Line summary below title */
.sdp-line-summary {
  font-family: 'Cormorant', serif;
  font-size: clamp(15px, 1.8vw, 18px);
  font-weight: 300;
  font-style: italic;
  color: rgba(244,241,235,0.7);
  line-height: 1.5;
  margin-top: 10px;
  max-width: 600px;
}

/* ── Gallery — single photo with nav ── */
.sdp-gallery { margin-bottom: 52px; }
.sdp-gallery-viewer {
  position: relative;
  width: 100%;
  aspect-ratio: 16/10;
  border-radius: 16px;
  overflow: hidden;
  background: var(--ink);
  cursor: pointer;
}
.sdp-gallery-main-img {
  width: 100%; height: 100%;
  object-fit: cover;
  transition: opacity 0.35s ease;
}
.sdp-gallery-main-img.fading { opacity: 0; }
.sdp-gallery-arrow {
  position: absolute;
  top: 50%; transform: translateY(-50%);
  width: 44px; height: 44px;
  background: rgba(28,28,28,0.55);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 50%;
  color: rgba(244,241,235,0.9);
  font-size: 18px;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer;
  transition: background 0.15s, opacity 0.15s;
  z-index: 2;
  user-select: none;
}
.sdp-gallery-arrow:hover { background: rgba(28,28,28,0.8); }
.sdp-gallery-arrow.prev { left: 14px; }
.sdp-gallery-arrow.next { right: 14px; }
.sdp-gallery-dots {
  position: absolute;
  bottom: 14px; left: 50%; transform: translateX(-50%);
  display: flex; gap: 6px; z-index: 2;
}
.sdp-gallery-dot {
  width: 6px; height: 6px;
  border-radius: 50%;
  background: rgba(244,241,235,0.4);
  cursor: pointer;
  transition: background 0.2s, transform 0.2s;
}
.sdp-gallery-dot.active {
  background: rgba(244,241,235,0.95);
  transform: scale(1.3);
}
.sdp-gallery-count {
  position: absolute;
  top: 14px; right: 14px;
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 400;
  letter-spacing: 0.1em;
  color: rgba(244,241,235,0.7);
  background: rgba(28,28,28,0.5);
  backdrop-filter: blur(6px);
  padding: 4px 10px; border-radius: 100px;
  z-index: 2;
}

/* ── Season badge ── */
.sdp-season-badge {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
  border-radius: 8px;
  background: var(--bg);
  border: 1px solid var(--hairline);
  margin-bottom: 20px;
}
.sdp-season-dot {
  width: 8px; height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}
.sdp-season-label {
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 500;
  letter-spacing: 0.1em; text-transform: uppercase;
  color: var(--ink);
}
.sdp-season-hint {
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 300;
  color: var(--muted); margin-left: auto;
  letter-spacing: 0.02em;
}

/* ── Package tiers ── */
.sdp-packages { margin-bottom: 24px; }
.sdp-package {
  border: 1px solid var(--hairline);
  border-radius: 10px;
  padding: 14px;
  margin-bottom: 8px;
  cursor: pointer;
  transition: border-color 0.15s, background 0.15s;
  position: relative;
}
.sdp-package:hover { border-color: var(--mid); }
.sdp-package.selected {
  border-color: #A55A4A;
  background: rgba(165,90,74,0.04);
}
.sdp-pkg-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 10px;
}
.sdp-pkg-name {
  font-family: 'Jost', sans-serif;
  font-size: 12px; font-weight: 500;
  color: var(--ink); letter-spacing: 0.04em;
  display: block; margin-bottom: 3px;
}
.sdp-pkg-desc {
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 300;
  color: var(--muted); letter-spacing: 0.02em;
  display: block; line-height: 1.5;
}
.sdp-pkg-price {
  font-family: 'Cormorant', serif;
  font-size: 20px; font-weight: 400;
  color: var(--ink); white-space: nowrap;
  flex-shrink: 0;
}
.sdp-package.selected .sdp-pkg-price { color: #A55A4A; }
.sdp-pkg-popular {
  display: inline-block;
  font-family: 'Jost', sans-serif;
  font-size: 8px; font-weight: 500;
  letter-spacing: 0.16em; text-transform: uppercase;
  color: #A55A4A; background: rgba(165,90,74,0.1);
  border-radius: 100px; padding: 3px 8px;
  margin-top: 8px;
}
.sdp-pkg-note {
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 300;
  color: var(--muted); line-height: 1.65;
  letter-spacing: 0.02em;
  margin: 10px 0 0; font-style: italic;
}

/* Photographer add-on */
.sdp-addon {
  border: 1px dashed var(--hairline);
  border-radius: 10px;
  padding: 12px 14px;
  margin-bottom: 4px;
  transition: border-color 0.15s, background 0.15s;
}
.sdp-addon.active {
  border-color: #A55A4A;
  border-style: solid;
  background: rgba(165,90,74,0.04);
}
.sdp-addon-row {
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
}
.sdp-addon-check {
  width: 16px; height: 16px;
  border: 1.5px solid var(--hairline);
  border-radius: 4px;
  flex-shrink: 0;
  transition: background 0.15s, border-color 0.15s;
  position: relative;
}
.sdp-addon-check.checked {
  background: #A55A4A;
  border-color: #A55A4A;
}
.sdp-addon-check.checked::after {
  content: '';
  position: absolute;
  top: 2px; left: 4px;
  width: 5px; height: 9px;
  border: 2px solid white;
  border-top: none; border-left: none;
  transform: rotate(45deg);
}
.sdp-addon-text { flex: 1; }
.sdp-addon-name {
  font-family: 'Jost', sans-serif;
  font-size: 12px; font-weight: 400;
  color: var(--ink); display: block;
  margin-bottom: 2px; letter-spacing: 0.02em;
}
.sdp-addon-desc {
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 300;
  color: var(--muted); display: block;
  letter-spacing: 0.02em; line-height: 1.4;
}
.sdp-addon-price {
  font-family: 'Cormorant', serif;
  font-size: 17px; font-weight: 400;
  color: var(--mid); white-space: nowrap;
  flex-shrink: 0; transition: color 0.15s;
}
.sdp-addon.active .sdp-addon-price { color: #A55A4A; }
.sdp-price-total-val {
  font-family: 'Cormorant', serif;
  font-size: 22px; font-weight: 400;
  color: #A55A4A;
}

/* Gallery */
.sdp-gallery { margin-bottom: 52px; }
.sdp-gallery-scroll {
  display: flex;
  gap: 12px;
  overflow-x: auto;
  padding-bottom: 12px;
  scrollbar-width: thin;
  scrollbar-color: var(--hairline) transparent;
}
.sdp-gallery-scroll::-webkit-scrollbar { height: 4px; }
.sdp-gallery-scroll::-webkit-scrollbar-track { background: transparent; }
.sdp-gallery-scroll::-webkit-scrollbar-thumb { background: var(--hairline); border-radius: 2px; }
.sdp-gallery-img {
  width: 260px;
  height: 180px;
  flex-shrink: 0;
  object-fit: cover;
  border-radius: 10px;
  cursor: pointer;
  transition: transform 0.2s, opacity 0.2s;
}
.sdp-gallery-img:hover { transform: scale(1.02); opacity: 0.92; }
.sdp-gallery-img-wrap { display: inline-block; flex-shrink: 0; }

/* Lightbox */
.sdp-lightbox {
  display: none;
  position: fixed; inset: 0;
  background: rgba(10,8,6,0.94);
  z-index: 30000;
  align-items: center; justify-content: center;
  cursor: pointer;
}
.sdp-lightbox.open { display: flex; }
.sdp-lightbox img { max-width: 90vw; max-height: 88vh; object-fit: contain; border-radius: 6px; cursor: default; }
.sdp-lightbox-close {
  position: absolute; top: 24px; right: 28px;
  background: none; border: none;
  color: rgba(244,241,235,0.7);
  font-size: 28px; cursor: pointer; line-height: 1;
}

/* Date picker */
.sdp-dates-block { margin-bottom: 16px; }
.sdp-date-row { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
.sdp-date-field { display: flex; flex-direction: column; gap: 5px; }
.sdp-date-lbl {
  font-family: 'Jost', sans-serif;
  font-size: 8px; font-weight: 500;
  letter-spacing: 0.2em; text-transform: uppercase;
  color: var(--muted);
}
.sdp-date-input {
  font-family: 'Jost', sans-serif;
  font-size: 12px; font-weight: 300;
  color: var(--ink); background: var(--bg);
  border: 1px solid var(--hairline); border-radius: 8px;
  padding: 10px 12px; outline: none;
  width: 100%; box-sizing: border-box;
  transition: border-color 0.2s; cursor: pointer;
}
.sdp-date-input:focus { border-color: var(--ink); }

/* Save button */
.sdp-btn-save {
  width: 100%; font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 400;
  letter-spacing: 0.14em; text-transform: uppercase;
  background: none; color: var(--mid);
  border: 1px solid var(--hairline); border-radius: 8px;
  padding: 14px; cursor: pointer;
  transition: border-color 0.2s, color 0.2s, background 0.2s;
  display: block; width: 100%; margin-bottom: 10px;
}
.sdp-btn-save:hover { border-color: #A55A4A; color: #A55A4A; }
.sdp-btn-save.saved { background: #A55A4A; color: white; border-color: #A55A4A; }

/* Nav collection link */
.nav-collection-link.has-saves { background: #A55A4A; }

/* Collection page */
.pg-collection { background: var(--bg); min-height: 100vh; padding-top: 80px; }
.collection-header {
  text-align: center; padding: 72px 40px 48px;
  border-bottom: 1px solid var(--divider);
  max-width: 600px; margin: 0 auto;
}
.collection-title {
  font-family: 'Cormorant', serif;
  font-size: clamp(40px, 6vw, 72px);
  font-weight: 300; color: var(--ink);
  line-height: 1.05; letter-spacing: 0.01em;
}
.collection-title em { font-style: italic; }
.collection-sub {
  font-family: 'Jost', sans-serif;
  font-size: 13px; font-weight: 300;
  color: var(--mid); letter-spacing: 0.04em;
  line-height: 1.8; margin-top: 16px;
}
.collection-body { max-width: 1100px; margin: 0 auto; padding: 56px 40px 100px; }
.collection-empty { text-align: center; padding: 80px 40px 60px; }
.collection-empty-icon { font-size: 48px; color: var(--hairline); margin-bottom: 24px; }
.collection-empty-title {
  font-family: 'Cormorant', serif;
  font-size: 28px; font-weight: 300; color: var(--ink); margin-bottom: 10px;
}
.collection-empty-sub {
  font-family: 'Jost', sans-serif;
  font-size: 13px; font-weight: 300;
  color: var(--mid); letter-spacing: 0.04em; margin-bottom: 32px;
}

@media (max-width: 768px) {
  .sdp-cols { grid-template-columns: 1fr; gap: 40px; }
  .sdp-sidebar-card { position: static; }
  .sdp-back { top: 80px; left: 20px; }
  .sdp-heart-btn { top: 80px; right: 60px; }
  .sdp-hero-badge { display: none; }
  .sdp-hero-bottom { left: 20px; right: 20px; bottom: 28px; }
  .sdp-body { padding: 40px 20px 80px; }
  .sdp-stats { flex-wrap: wrap; }
  .sdp-stat { min-width: 50%; }
  .collection-body { padding: 40px 20px 80px; }
}

.spot-drawer-overlay {
  position: fixed; inset: 0;
  background: rgba(28,28,28,0.45);
  z-index: 19998;
  opacity: 0; pointer-events: none;
  transition: opacity 0.32s ease;
}
.spot-drawer-overlay.open { opacity: 1; pointer-events: all; }

.spot-drawer {
  position: fixed;
  top: 0; right: 0; bottom: 0;
  width: 100%;
  max-width: 560px;
  background: var(--white);
  z-index: 19999;
  transform: translateX(100%);
  transition: transform 0.38s cubic-bezier(0.4,0,0.2,1);
  overflow-y: auto;
  display: flex;
  flex-direction: column;
}
.spot-drawer.open { transform: translateX(0); }

/* Hero image */
.sd-hero {
  position: relative;
  height: 320px;
  flex-shrink: 0;
  overflow: hidden;
}
.sd-hero-bg {
  position: absolute; inset: 0;
  background-size: cover;
  background-position: center;
  transition: transform 0.6s ease;
}
.sd-hero:hover .sd-hero-bg { transform: scale(1.03); }
.sd-hero-overlay {
  position: absolute; inset: 0;
  background: linear-gradient(to top, rgba(28,28,28,0.6) 0%, transparent 50%);
}
.sd-hero-close {
  position: absolute; top: 20px; right: 20px;
  width: 36px; height: 36px;
  background: rgba(253,252,250,0.92);
  border: none; border-radius: 50%;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  font-size: 14px; color: var(--ink);
  backdrop-filter: blur(8px);
  transition: background 0.2s;
}
.sd-hero-close:hover { background: var(--white); }
.sd-hero-badge {
  position: absolute; top: 20px; left: 20px;
  font-family: 'Jost', sans-serif;
  font-size: 8px; font-weight: 500;
  letter-spacing: 0.22em; text-transform: uppercase;
  color: var(--white);
  background: rgba(28,28,28,0.55);
  padding: 5px 12px;
  border-radius: 100px;
  backdrop-filter: blur(8px);
}
.sd-hero-location {
  position: absolute; bottom: 20px; left: 24px;
  font-family: 'Jost', sans-serif;
  font-size: 11px; font-weight: 400;
  letter-spacing: 0.1em;
  color: rgba(253,252,250,0.85);
}

/* Body */
.sd-body {
  padding: 32px 32px 48px;
  flex: 1;
}
.sd-region {
  font-family: 'Jost', sans-serif;
  font-size: 9px; font-weight: 500;
  letter-spacing: 0.3em; text-transform: uppercase;
  color: #A55A4A;
  margin-bottom: 10px;
  display: block;
}
.sd-name {
  font-family: 'Cormorant', serif;
  font-size: 30px; font-weight: 400;
  color: var(--ink);
  line-height: 1.15;
  margin-bottom: 16px;
  letter-spacing: 0.01em;
}
.sd-summary {
  font-family: 'Jost', sans-serif;
  font-size: 13px; font-weight: 300;
  color: var(--mid);
  line-height: 1.8;
  letter-spacing: 0.02em;
  margin-bottom: 28px;
}

/* Quick stats row */
.sd-stats {
  display: flex;
  gap: 0;
  border: 1px solid var(--divider);
  border-radius: 4px;
  margin-bottom: 32px;
  overflow: hidden;
}
.sd-stat {
  flex: 1;
  padding: 14px 16px;
  border-right: 1px solid var(--divider);
  text-align: center;
}
.sd-stat:last-child { border-right: none; }
.sd-stat-label {
  font-family: 'Jost', sans-serif;
  font-size: 8px; font-weight: 400;
  letter-spacing: 0.22em; text-transform: uppercase;
  color: var(--muted);
  display: block;
  margin-bottom: 5px;
}
.sd-stat-val {
  font-family: 'Cormorant', serif;
  font-size: 17px; font-weight: 400;
  color: var(--ink);
}

/* Section blocks */
.sd-section {
  margin-bottom: 28px;
  padding-bottom: 28px;
  border-bottom: 1px solid var(--divider);
}
.sd-section:last-of-type { border-bottom: none; }
.sd-section-title {
  font-family: 'Jost', sans-serif;
  font-size: 8px; font-weight: 500;
  letter-spacing: 0.28em; text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 14px;
  display: block;
}
.sd-section p {
  font-family: 'Jost', sans-serif;
  font-size: 13px; font-weight: 300;
  color: var(--mid);
  line-height: 1.8;
}

/* Proposal plan steps */
.sd-steps {
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.sd-step {
  display: flex;
  gap: 14px;
  align-items: flex-start;
}
.sd-step-num {
  font-family: 'Cormorant', serif;
  font-size: 18px; font-weight: 400;
  color: var(--accent2);
  line-height: 1.4;
  flex-shrink: 0;
  width: 20px;
}
.sd-step-text {
  font-family: 'Jost', sans-serif;
  font-size: 13px; font-weight: 300;
  color: var(--mid);
  line-height: 1.7;
}

/* Tags row */
.sd-tags {
  display: flex; flex-wrap: wrap; gap: 7px;
}
.sd-tag {
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 400;
  letter-spacing: 0.08em;
  color: var(--ink2);
  background: var(--bg2);
  padding: 5px 12px;
  border-radius: 100px;
}

/* CTA */
.sd-cta-row {
  display: flex; gap: 12px;
  margin-top: 32px;
}
.sd-cta-primary {
  flex: 1;
  background: var(--ink);
  color: var(--white);
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 500;
  letter-spacing: 0.2em; text-transform: uppercase;
  border: none; border-radius: 100px;
  padding: 15px 24px;
  cursor: pointer;
  transition: background 0.2s;
}
.sd-cta-primary:hover { background: var(--accent); }
.sd-cta-secondary {
  background: none;
  color: var(--ink);
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 400;
  letter-spacing: 0.16em; text-transform: uppercase;
  border: 1px solid var(--hairline);
  border-radius: 100px;
  padding: 15px 20px;
  cursor: pointer;
  transition: border-color 0.2s;
}
.sd-cta-secondary:hover { border-color: var(--ink); }

/* Photographer chip */
.sd-photographer {
  display: flex;
  align-items: center;
  gap: 10px;
  background: var(--bg);
  border-radius: 4px;
  padding: 12px 16px;
}
.sd-photographer-icon {
  font-size: 16px;
  flex-shrink: 0;
}
.sd-photographer-info { flex: 1; }
.sd-photographer-label {
  font-family: 'Jost', sans-serif;
  font-size: 8px; font-weight: 400;
  letter-spacing: 0.22em; text-transform: uppercase;
  color: var(--muted);
  display: block;
  margin-bottom: 2px;
}
.sd-photographer-name {
  font-family: 'Jost', sans-serif;
  font-size: 12px; font-weight: 400;
  color: var(--ink);
}

/* Loading skeleton */
.sd-loading {
  padding: 48px 32px;
  text-align: center;
  font-family: 'Cormorant', serif;
  font-size: 18px;
  font-weight: 300;
  color: var(--muted);
  letter-spacing: 0.08em;
}

@media (max-width: 600px) {
  .spot-drawer { max-width: 100%; }
  .sd-hero { height: 260px; }
  .sd-body { padding: 24px 20px 40px; }
  .sd-name { font-size: 26px; }
}



/* ─────────────────────────────────────
   BOOKING SIDEBAR IMPROVEMENTS
───────────────────────────────────── */
.sdp-budget-badge {
  display: flex;
  flex-direction: column;
  margin-bottom: 20px;
  padding: 14px 16px;
  background: var(--bg2);
  border-radius: 10px;
}
.sdp-budget-from {
  font-family: 'Jost', sans-serif;
  font-size: 9px; font-weight: 500;
  letter-spacing: 0.2em; text-transform: uppercase;
  color: var(--muted); margin-bottom: 4px;
}
.sdp-budget-range {
  font-family: 'Cormorant', serif;
  font-size: 22px; font-weight: 400;
  color: var(--ink);
}
.sdp-pricing-inner {
  background: var(--bg2);
  border-radius: 10px;
  padding: 16px;
  margin-bottom: 20px;
}
.sdp-pricing-note {
  font-family: 'Jost', sans-serif;
  font-size: 11px; font-weight: 300;
  color: var(--muted);
  line-height: 1.6;
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid var(--divider);
}
.sdp-price-muted {
  color: var(--muted) !important;
  font-style: italic;
}
.sdp-trust-note {
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 300;
  color: var(--muted);
  line-height: 2;
  text-align: center;
  margin-top: 12px;
  letter-spacing: 0.03em;
}

/* ─────────────────────────────────────
   ENQUIRY MODAL
───────────────────────────────────── */
.enq-overlay {
  position: fixed; inset: 0;
  background: rgba(15,12,8,0.6);
  z-index: 1000;
  opacity: 0; pointer-events: none;
  transition: opacity 0.3s;
  backdrop-filter: blur(4px);
}
.enq-overlay.open { opacity: 1; pointer-events: all; }
.enq-modal {
  position: fixed;
  top: 50%; left: 50%;
  transform: translate(-50%, -48%);
  width: min(580px, 92vw);
  max-height: 88vh;
  overflow-y: auto;
  background: var(--bg);
  border: 1px solid var(--hairline);
  border-radius: 20px;
  padding: 40px;
  z-index: 1001;
  opacity: 0; pointer-events: none;
  transition: opacity 0.3s, transform 0.3s;
  box-shadow: 0 24px 80px rgba(0,0,0,0.18);
}
.enq-modal.open { 
  opacity: 1; pointer-events: all; 
  transform: translate(-50%, -50%);
}
.enq-close {
  position: absolute; top: 20px; right: 20px;
  background: none; border: none;
  font-size: 16px; color: var(--muted);
  cursor: pointer; line-height: 1;
  width: 32px; height: 32px;
  display: flex; align-items: center; justify-content: center;
  border-radius: 50%;
  transition: background 0.15s, color 0.15s;
}
.enq-close:hover { background: var(--bg2); color: var(--ink); }
.enq-eyebrow {
  font-family: 'Jost', sans-serif;
  font-size: 9px; font-weight: 500;
  letter-spacing: 0.28em; text-transform: uppercase;
  color: #A55A4A; display: block; margin-bottom: 10px;
}
.enq-title {
  font-family: 'Cormorant', serif;
  font-size: 26px; font-weight: 400;
  color: var(--ink); margin: 0 0 10px;
}
.enq-sub {
  font-family: 'Jost', sans-serif;
  font-size: 12px; font-weight: 300;
  color: var(--mid); line-height: 1.7;
  margin: 0 0 24px;
}
.enq-summary {
  background: var(--bg2);
  border-radius: 10px;
  padding: 14px 16px;
  margin-bottom: 24px;
}
.enq-summary-row {
  display: flex; justify-content: space-between; align-items: baseline;
  padding: 5px 0;
  border-bottom: 1px solid var(--divider);
}
.enq-summary-row:last-child { border-bottom: none; }
.enq-sum-lbl {
  font-family: 'Jost', sans-serif;
  font-size: 9px; font-weight: 500;
  letter-spacing: 0.18em; text-transform: uppercase;
  color: var(--muted);
}
.enq-sum-val {
  font-family: 'Jost', sans-serif;
  font-size: 12px; font-weight: 400;
  color: var(--ink);
}
.enq-form { }
.enq-form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.enq-form-field { margin-bottom: 14px; }
.enq-label {
  display: block;
  font-family: 'Jost', sans-serif;
  font-size: 9px; font-weight: 500;
  letter-spacing: 0.18em; text-transform: uppercase;
  color: var(--muted); margin-bottom: 6px;
}
.enq-input, .enq-textarea {
  width: 100%; box-sizing: border-box;
  font-family: 'Jost', sans-serif;
  font-size: 13px; font-weight: 300;
  color: var(--ink);
  background: var(--white);
  border: 1px solid var(--hairline);
  border-radius: 8px;
  padding: 11px 14px;
  outline: none;
  transition: border-color 0.2s;
}
.enq-input:focus, .enq-textarea:focus {
  border-color: #A55A4A;
}
.enq-textarea { resize: vertical; }
.enq-addons {
  margin: 20px 0;
  padding: 16px;
  background: var(--bg2);
  border-radius: 10px;
}
.enq-addons-label {
  display: block;
  font-family: 'Jost', sans-serif;
  font-size: 9px; font-weight: 500;
  letter-spacing: 0.2em; text-transform: uppercase;
  color: var(--muted); margin-bottom: 12px;
}
.enq-addon-check {
  display: flex; align-items: center; gap: 10px;
  font-family: 'Jost', sans-serif;
  font-size: 12px; font-weight: 300;
  color: var(--ink2);
  cursor: pointer; padding: 5px 0;
}
.enq-addon-check input[type="checkbox"] { width: 14px; height: 14px; cursor: pointer; accent-color: #A55A4A; }
.enq-submit-btn {
  width: 100%;
  background: var(--ink);
  color: var(--bg);
  font-family: 'Jost', sans-serif;
  font-size: 11px; font-weight: 500;
  letter-spacing: 0.18em; text-transform: uppercase;
  border: none; border-radius: 10px;
  padding: 16px 24px;
  cursor: pointer;
  transition: background 0.2s, transform 0.15s;
}
.enq-submit-btn:hover { background: #A55A4A; transform: translateY(-1px); }
.enq-submit-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
.enq-legal {
  font-family: 'Jost', sans-serif;
  font-size: 10px; font-weight: 300;
  color: var(--muted); text-align: center;
  margin-top: 12px; line-height: 1.6;
}
.enq-success { text-align: center; padding: 20px 0; }
.enq-success-icon {
  font-size: 32px; color: #A55A4A;
  display: block; margin-bottom: 16px;
}
.enq-success-title {
  font-family: 'Cormorant', serif;
  font-size: 28px; font-weight: 400;
  color: var(--ink); margin: 0 0 12px;
}
.enq-success-msg {
  font-family: 'Jost', sans-serif;
  font-size: 13px; font-weight: 300;
  color: var(--mid); line-height: 1.7; margin: 0;
}

</style>
</head>
<body>

<!-- NAV -->
<nav id="navbar">
  <a href="#" class="nav-logo" onclick="showPage('home'); return false;">Proposal Spots</a>
  <div class="nav-links">
    <div class="nav-destinations-wrap">
      <a href="#" class="nav-link-right nav-destinations-btn" onclick="toggleDestDropdown(); return false;">
        Destinations
        <svg width="10" height="10" viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 4l4 4 4-4"/></svg>
      </a>
      <div class="nav-dest-dropdown" id="nav-dest-dropdown">
        <div class="nav-dest-grid">
          <a onclick="goToDestination('Amalfi Coast'); return false;" href="#">Amalfi Coast <span>Italy</span></a>
          <a onclick="goToDestination('Santorini'); return false;" href="#">Santorini <span>Greece</span></a>
          <a onclick="goToDestination('Bali'); return false;" href="#">Bali <span>Indonesia</span></a>
          <a onclick="goToDestination('Tulum'); return false;" href="#">Tulum <span>Mexico</span></a>
          <a onclick="goToDestination('Maldives'); return false;" href="#">Maldives <span>Indian Ocean</span></a>
          <a onclick="goToDestination('Costa Rica'); return false;" href="#">Costa Rica <span>Central America</span></a>
          <a onclick="goToDestination('Nicaragua'); return false;" href="#">Nicaragua <span>Central America</span></a>
          <a onclick="goToDestination('Algarve'); return false;" href="#">Algarve <span>Portugal</span></a>
          <a onclick="goToDestination('South of France'); return false;" href="#">South of France <span>France</span></a>
          <a onclick="goToDestination('Switzerland'); return false;" href="#">Switzerland <span>Alps</span></a>
        </div>
        <div class="nav-dest-footer">
          <a onclick="showPage('destinations'); return false;" href="#" style="color:#A55A4A;font-weight:500">View all destinations →</a>
        </div>
      </div>
    </div>
    <a href="#" id="nav-how-it-works" onclick="showPage('how-it-works'); return false;" class="nav-link-right">How It Works</a>
    <a href="#" id="nav-inspiration" onclick="showPage('inspiration'); return false;" class="nav-link-right">Inspiration</a>
  </div>
  <div class="nav-right">
    <a href="#" id="nav-collection" onclick="openCollection(); return false;" class="nav-cta nav-collection-link">♡ My Collection</a>
  </div>
</nav>

<!-- ═══ HOME PAGE ═══ -->
<div id="page-home" class="page active">

<!-- HERO -->
<section class="hero">
  <div class="hero-rule"></div>
  <div class="hero-content">
    <span class="hero-eyebrow">A curated archive of proposal locations</span>
    <h1 class="hero-title">
      Find the perfect place<br>to <strong>propose.</strong>
    </h1>
    <p class="hero-sub">11 destinations &nbsp;·&nbsp; 140+ vetted spots &nbsp;·&nbsp; Expertly curated</p>

    <!-- INTENT TOGGLE -->
    <div class="intent-toggle">
      <button class="intent-opt active" id="intent-moment" onclick="setIntent('moment')">
        Just the Moment
      </button>
      <span class="intent-sep">·</span>
      <button class="intent-opt" id="intent-stay" onclick="setIntent('stay')">
        Moment + Hotel Stay
      </button>
    </div>

    <!-- SEARCH -->
    <div class="search-container">
      <div class="search-container-inner">
      <div class="search-bar-wrap">
        <div class="search-input-wrap">
          <div class="search-icon">
            <svg viewBox="0 0 20 20" fill="none" stroke="currentColor">
              <circle cx="9" cy="9" r="6"/><path d="M15 15l3 3" stroke-linecap="round"/>
            </svg>
          </div>
          <div class="search-input-inner">
            <label>Where do you want to propose?</label>
            <input
              type="text"
              id="search-main"
              placeholder="Country · Region · City"
              autocomplete="off"
              oninput="filterAC(this.value); showSearchDestDropdown(this.value)"
              onfocus="showSearchDestDropdown(this.value)"
            >
          </div>
          <div class="autocomplete" id="ac-main"></div>
          <div class="search-dest-dropdown" id="search-dest-dropdown">
            <div class="search-dest-heading">Browse all destinations</div>
            <div class="search-dest-chips">
              <div class="search-dest-chip" onclick="pickSearchDest('Amalfi Coast')">Amalfi Coast</div>
              <div class="search-dest-chip" onclick="pickSearchDest('Santorini')">Santorini</div>
              <div class="search-dest-chip" onclick="pickSearchDest('Bali')">Bali</div>
              <div class="search-dest-chip" onclick="pickSearchDest('Tulum')">Tulum</div>
              <div class="search-dest-chip" onclick="pickSearchDest('Maldives')">Maldives</div>
              <div class="search-dest-chip" onclick="pickSearchDest('Costa Rica')">Costa Rica</div>
              <div class="search-dest-chip" onclick="pickSearchDest('Nicaragua')">Nicaragua</div>
              <div class="search-dest-chip" onclick="pickSearchDest('Algarve')">Algarve</div>
              <div class="search-dest-chip" onclick="pickSearchDest('South of France')">South of France</div>
              <div class="search-dest-chip" onclick="pickSearchDest('Switzerland')">Switzerland</div>
            </div>
          </div>
        </div>
        <div class="search-divider"></div>
        <button class="search-btn" onclick="doSearch()">
          <svg viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.8">
            <circle cx="9" cy="9" r="6"/><path d="M15 15l3 3" stroke-linecap="round"/>
          </svg>
          Search
        </button>
      </div>

      <!-- FILTER PILLS -->
      <div class="filter-pills-row">

        <button class="pill-btn" id="pill-vibe" onclick="toggleInlinePanel('vibe-panel', 'pill-vibe')">
          Vibe
          <span class="pill-count" id="vibe-count" style="display:none">0</span>
          <svg class="pill-chevron" width="11" height="11" viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M2 4l4 4 4-4"/></svg>
        </button>

        <button class="pill-btn" id="pill-privacy" onclick="toggleInlinePanel('privacy-panel', 'pill-privacy')">
          Privacy
          <span class="pill-count" id="privacy-count" style="display:none">0</span>
          <svg class="pill-chevron" width="11" height="11" viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M2 4l4 4 4-4"/></svg>
        </button>

        <button class="pill-btn" id="pill-filters" onclick="openPanel()">
          <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="1.6">
            <line x1="1" y1="2.5" x2="11" y2="2.5"/>
            <line x1="1" y1="6"   x2="11" y2="6"/>
            <line x1="1" y1="9.5" x2="11" y2="9.5"/>
            <circle cx="4"  cy="2.5" r="1.2" fill="currentColor" stroke="none"/>
            <circle cx="8"  cy="6"   r="1.2" fill="currentColor" stroke="none"/>
            <circle cx="5"  cy="9.5" r="1.2" fill="currentColor" stroke="none"/>
          </svg>
          All Filters
          <span class="pill-count" id="filter-count" style="display:none">0</span>
        </button>

      </div>

      <!-- VIBE INLINE PANEL -->
      <div class="inline-panel" id="vibe-panel">
        <div class="inline-panel-label">Select all that apply</div>
        <div class="inline-tags">
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','Beach')">🏖 Beach</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','Mountain')">⛰ Mountain</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','Cliff')">🪨 Cliff</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','Lake')">🏞 Lake</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','Volcano')">🌋 Volcano</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','Ocean')">🌊 Ocean</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','City')">🏙 City</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','Jungle')">🌿 Jungle</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','Rural')">🌾 Rural</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'vibe','Boat')">⛵ Boat</div>
        </div>
      </div>

      <!-- PRIVACY INLINE PANEL -->
      <div class="inline-panel" id="privacy-panel">
        <div class="inline-panel-label">Select all that apply</div>
        <div class="inline-tags">
          <div class="filter-tag" onclick="toggleInlineTag(this,'privacy','Private')">🔒 Private — No crowds</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'privacy','Light Crowd')">👥 Light Crowd</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'privacy','Moderate Crowd')">👥👥 Moderate Crowd</div>
          <div class="filter-tag" onclick="toggleInlineTag(this,'privacy','Everyone Will See')">👥👥👥 Everyone Will See</div>
        </div>
      </div>

      <!-- ACTIVE TAGS -->
      <div class="active-tags-row" id="active-tags"></div>
      </div><!-- end search-container-inner -->
    </div><!-- end search-container -->
  </div>

  <!-- STATS -->
  <div class="hero-stats" id="hero-stats">
    <div class="hero-stat">
      <span class="hero-stat-num">11</span>
      <span class="hero-stat-label">Destinations</span>
    </div>
    <div class="hero-stat-div"></div>
    <div class="hero-stat">
      <span class="hero-stat-num">140+</span>
      <span class="hero-stat-label">Curated Spots</span>
    </div>
    <div class="hero-stat-div"></div>
    <div class="hero-stat">
      <span class="hero-stat-num">100%</span>
      <span class="hero-stat-label">Expert Vetted</span>
    </div>
  </div>
</section>

<!-- FEATURED MARKETS -->
<div class="section-wrap">
  <div class="section">
    <div class="section-header">
      <div class="section-meta">
        <span class="section-eyebrow">Browse by destination</span>
        <h2 class="section-title">Featured <strong>Markets</strong></h2>
      </div>
      <a href="#" class="section-link" style="color:#A55A4A;font-weight:500" onclick="showPage('destinations'); return false;">All destinations →</a>
    </div>
    <div class="markets-grid" style="cursor:pointer">
      <div class="market-card" onclick="goMarket('amalfi-coast')">
        <div class="market-card-bg mc-amalfi"></div>
        <div class="market-card-info">
          <span class="market-card-region">Italy</span>
          <span class="market-card-name">Amalfi Coast</span>
          <span class="market-card-count">12 proposal spots</span>
        </div>
      </div>
      <div class="market-card" onclick="goMarket('santorini')">
        <div class="market-card-bg mc-santorini"></div>
        <div class="market-card-info">
          <span class="market-card-region">Greece</span>
          <span class="market-card-name">Santorini</span>
          <span class="market-card-count">8 spots</span>
        </div>
      </div>
      <div class="market-card" onclick="goMarket('bali')">
        <div class="market-card-bg mc-bali"></div>
        <div class="market-card-info">
          <span class="market-card-region">Indonesia</span>
          <span class="market-card-name">Bali</span>
          <span class="market-card-count">10 spots</span>
        </div>
      </div>
      <div class="market-card" onclick="goMarket('tulum')">
        <div class="market-card-bg mc-tulum"></div>
        <div class="market-card-info">
          <span class="market-card-region">Mexico</span>
          <span class="market-card-name">Tulum</span>
          <span class="market-card-count">9 spots</span>
        </div>
      </div>
      <div class="market-card" onclick="goMarket('costa-rica')">
        <div class="market-card-bg mc-costarica"></div>
        <div class="market-card-info">
          <span class="market-card-region">Central America</span>
          <span class="market-card-name">Costa Rica</span>
          <span class="market-card-count">6 spots</span>
        </div>
      </div>
      <div class="market-card" onclick="goMarket('maldives')">
        <div class="market-card-bg mc-maldives"></div>
        <div class="market-card-info">
          <span class="market-card-region">Indian Ocean</span>
          <span class="market-card-name">Maldives</span>
          <span class="market-card-count">7 spots</span>
        </div>
      </div>
      <div class="market-card" onclick="goMarket('south-of-france')">
        <div class="market-card-bg mc-france"></div>
        <div class="market-card-info">
          <span class="market-card-region">France</span>
          <span class="market-card-name">South of France</span>
          <span class="market-card-count">11 spots</span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- COLLECTIONS -->
<div class="section-wrap alt">
  <div class="section">
    <div class="section-header">
      <div class="section-meta">
        <span class="section-eyebrow">Expertly curated</span>
        <h2 class="section-title">Browse by <strong>Collection</strong></h2>
      </div>
      <a href="#" class="section-link">All collections →</a>
    </div>
    <div class="collections-grid">
      <div class="collection-card">
        <span class="collection-num">01</span>
        <div class="collection-name">Most Private</div>
        <p class="collection-desc">Secluded spots where it will just be the two of you — no crowds, no interruptions.</p>
        <span class="collection-link">24 spots →</span>
      </div>
      <div class="collection-card">
        <span class="collection-num">02</span>
        <div class="collection-name">Best Sunset</div>
        <p class="collection-desc">Golden-hour locations chosen for their legendary light and atmosphere.</p>
        <span class="collection-link">18 spots →</span>
      </div>
      <div class="collection-card">
        <span class="collection-num">03</span>
        <div class="collection-name">Luxury Resorts</div>
        <p class="collection-desc">World-class properties where every detail of the moment can be arranged.</p>
        <span class="collection-link">31 spots →</span>
      </div>
      <div class="collection-card">
        <span class="collection-num">04</span>
        <div class="collection-name">Hidden Gems</div>
        <p class="collection-desc">Off-the-map locations only locals and our curators know about.</p>
        <span class="collection-link">15 spots →</span>
      </div>
    </div>
  </div>
</div>

<!-- EDITOR'S PICKS — rendered from data -->
<div class="section-wrap white">
  <div class="section">
    <div class="section-header">
      <div class="section-meta">
        <span class="section-eyebrow" id="spots-eyebrow">Hand-selected</span>
        <h2 class="section-title" id="spots-title">Editor's <strong>Picks</strong></h2>
      </div>
      <span class="section-results" id="spots-count" style="display:none"></span>
    </div>
    <div class="spots-grid" id="spots-grid"></div>
    <div id="spots-empty" style="display:none; text-align:center; padding: 48px 0;">
      <p style="font-family:'Cormorant',serif; font-size:20px; color:var(--mid); font-weight:300;">No spots match your filters.</p>
      <button onclick="clearAllFilters()" style="margin-top:16px; background:none; border:1px solid var(--hairline); font-family:'Jost',sans-serif; font-size:10px; letter-spacing:0.16em; text-transform:uppercase; color:var(--mid); padding:10px 20px; cursor:pointer;">Clear Filters</button>
    </div>
  </div>
</div>

<!-- SEO SECTION -->
<div class="section-wrap alt">
  <div class="section">
    <div class="seo-inner">
      <div class="seo-text">
        <span class="section-eyebrow">Why Proposal Spots</span>
        <h2>The most <strong>considered</strong> way<br>to find your moment</h2>
        <p>Every location has been personally reviewed for its quality — the light, the privacy, the feeling. We don't list everything. We list what's genuinely worth it.</p>
        <p>Whether you're planning a private villa dinner on the Amalfi Coast or a hidden cliff in Costa Rica, we've mapped the finest proposal locations in the world.</p>
        <div class="seo-links">
          <a href="#" class="seo-link">Italy</a>
          <a href="#" class="seo-link">Greece</a>
          <a href="#" class="seo-link">Mexico</a>
          <a href="#" class="seo-link">Beach</a>
          <a href="#" class="seo-link">Private</a>
          <a href="#" class="seo-link">Sunset</a>
          <a href="#" class="seo-link">Luxury</a>
          <a href="#" class="seo-link">Hidden Gems</a>
        </div>
      </div>
      <div class="seo-numbers">
        <div class="seo-num-card">
          <span class="seo-n">11</span>
          <span class="seo-l">Markets</span>
        </div>
        <div class="seo-num-card">
          <span class="seo-n">140+</span>
          <span class="seo-l">Spots</span>
        </div>
        <div class="seo-num-card">
          <span class="seo-n">5</span>
          <span class="seo-l">Filters</span>
        </div>
        <div class="seo-num-card">
          <span class="seo-n">4</span>
          <span class="seo-l">Collections</span>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- FAQ -->
<div class="section-wrap white">
  <div class="section">
    <div class="faq-wrap">
      <div class="faq-header">
        <span class="section-eyebrow">Common questions</span>
        <h2 class="faq-title">Everything you<br>need to <strong>know</strong></h2>
      </div>
      <div class="faq-list">

        <div class="faq-item">
          <button class="faq-q" onclick="toggleFaq(this)">
            <span>What exactly is Proposal Spots?</span>
            <div class="faq-icon">+</div>
          </button>
          <div class="faq-a">
            <p>Proposal Spots is the world's only curated platform dedicated entirely to proposal locations and experiences. We research, visit, and handpick the most beautiful, private, and emotionally powerful places to propose — across the world's most romantic destinations. Think of us as the definitive guide, built specifically for the moment that matters most.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-q" onclick="toggleFaq(this)">
            <span>How are spots selected? Can anyone submit a location?</span>
            <div class="faq-icon">+</div>
          </button>
          <div class="faq-a">
            <p>Every location is reviewed by our editorial team for quality, atmosphere, privacy, and emotional impact. We don't list everything — only what we'd genuinely consider worthy of a life-changing moment. Hotels and venues can apply to be listed, but inclusion is never guaranteed. Our curation is the product.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-q" onclick="toggleFaq(this)">
            <span>Is Proposal Spots free to use?</span>
            <div class="faq-icon">+</div>
          </button>
          <div class="faq-a">
            <p>Yes. Browsing, filtering, and exploring every proposal spot on the platform is completely free. When you choose to book through one of our partner properties, the hotel or venue handles the reservation directly. We may earn a referral fee from partners, but this never influences which spots are listed or how they are presented.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-q" onclick="toggleFaq(this)">
            <span>Do you help plan the actual proposal, or just the location?</span>
            <div class="faq-icon">+</div>
          </button>
          <div class="faq-a">
            <p>Each listing includes a step-by-step proposal plan, best timing recommendations, access details, and photographer suggestions — so you have everything you need to execute the moment confidently. For those who want full end-to-end planning, our partner properties offer dedicated proposal concierge services, which we'll connect you with directly.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-q" onclick="toggleFaq(this)">
            <span>How do I know the spots are accurate and up to date?</span>
            <div class="faq-icon">+</div>
          </button>
          <div class="faq-a">
            <p>We review and update listings regularly. Each spot includes access details, best time of year, and crowd information so you know exactly what to expect. Our partner properties are in active contact with our team. If you ever spot something outdated, you can flag it directly from any listing page.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-q" onclick="toggleFaq(this)">
            <span>Can I filter by budget?</span>
            <div class="faq-icon">+</div>
          </button>
          <div class="faq-a">
            <p>Yes. Every spot is tagged with a budget level — from free public locations to ultra-luxury private resort experiences. Use the budget filter on the homepage or Proposal Map to narrow results to what works for you. Some of our most romantic spots cost nothing to visit.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-q" onclick="toggleFaq(this)">
            <span>What if I want somewhere completely private — no crowds at all?</span>
            <div class="faq-icon">+</div>
          </button>
          <div class="faq-a">
            <p>Filter by 🔒 Private in the Privacy filter. These are spots where you will genuinely be alone — secluded villas, private sandbanks, exclusive resort experiences, and off-the-map natural locations. Many of our most requested listings are entirely private by design.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-q" onclick="toggleFaq(this)">
            <span>Do you cover proposals outside of the current destinations?</span>
            <div class="faq-icon">+</div>
          </button>
          <div class="faq-a">
            <p>We currently cover eleven destination markets — from Bali and the Maldives to the Amalfi Coast, Santorini, Tulum, Costa Rica, and more. We are actively expanding. If you have a destination in mind that we don't yet cover, reach out — we take all expansion suggestions seriously.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-q" onclick="toggleFaq(this)">
            <span>I'm a hotel. How do I get listed?</span>
            <div class="faq-icon">+</div>
          </button>
          <div class="faq-a">
            <p>Visit our <button onclick="showPage('for-hotels'); return false;" class="faq-inline-link">For Hotels</button> page and submit an application. We review every property personally. If your venue meets our standards for a life-changing proposal experience, we'll be in touch within five business days.</p>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer>
  <div class="footer-inner">
    <div class="footer-top">
      <div class="footer-brand">
        <span class="footer-wordmark">Proposal Spots</span>
        <p>A curated archive of the world's most considered proposal locations. Selective, editorial, trustworthy.</p>
      </div>
      <div class="footer-col">
        <h4>Destinations</h4>
        <a href="#" onclick="goToDestination('Amalfi Coast'); return false;">Amalfi Coast</a>
        <a href="#" onclick="goToDestination('Santorini'); return false;">Santorini</a>
        <a href="#" onclick="goToDestination('Bali'); return false;">Bali</a>
        <a href="#" onclick="goToDestination('Tulum'); return false;">Tulum</a>
        <a href="#" onclick="goToDestination('Maldives'); return false;">Maldives</a>
        <a href="#" onclick="showPage('destinations'); return false;">View all →</a>
      </div>
      <div class="footer-col">
        <h4>Resources</h4>
        <a href="#" onclick="showPage('budget-guide'); return false;">Proposal Budget Guide</a>
        <a href="#" onclick="showPage('checklist'); return false;">Proposal Checklist (Free)</a>
        <a href="#" onclick="showPage('inspiration'); return false;">Inspiration Stories</a>
        <a href="#" onclick="showPage('how-it-works'); return false;">How It Works</a>
      </div>
      <div class="footer-col">
        <h4>Company</h4>
        <a href="#" onclick="showPage('about'); return false;">About</a>
        <a href="#" onclick="showPage('for-hotels'); return false;">For Hotels</a>
        <a href="#">Submit a Spot</a>
        <a href="#">Privacy Policy</a>
      </div>
    </div>
    <div class="footer-bottom">
      <span>© 2025 Proposal Spots. All rights reserved.</span>
      <span>Intentional. Selective. Timeless.</span>
    </div>
  </div>
</footer>

</div><!-- end page-home -->

<!-- ═══ DESTINATIONS PAGE ═══ -->
<div id="page-destinations" class="page" style="display:none">
  <div class="pg-destinations">
    <div class="dest-hero">
      <span class="pg-eyebrow" style="display:block;text-align:center;margin-bottom:16px">Where do you want to ask?</span>
      <h1 class="dest-hero-title">Our <em>Destinations</em></h1>
      <p class="dest-hero-sub">Every market we cover was chosen because that's where the most discerning travellers propose. These are the places people plan around, save for, and remember forever.</p>
    </div>

    <!-- Destination Cards Grid -->
    <div class="dest-grid" id="dest-page-grid">
      <div class="dest-card" onclick="goToDestination('Amalfi Coast')">
        <div class="dest-card-img" style="background-image:url('https://images.unsplash.com/photo-1516483638261-f4dbaf036963?w=900&q=80&fit=crop');background-size:cover;background-position:center"></div>
        <div class="dest-card-info">
          <span class="dest-card-country">Italy</span>
          <h3 class="dest-card-name">Amalfi Coast</h3>
          <p class="dest-card-line">Clifftop terraces, lemon groves, and ocean views that make everything feel inevitable.</p>
          <span class="dest-card-cta">Explore spots →</span>
        </div>
      </div>
      <div class="dest-card" onclick="goToDestination('Santorini')">
        <div class="dest-card-img" style="background-image:url('https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?w=900&q=80&fit=crop');background-size:cover;background-position:center"></div>
        <div class="dest-card-info">
          <span class="dest-card-country">Greece</span>
          <h3 class="dest-card-name">Santorini</h3>
          <p class="dest-card-line">The caldera at sunset. Blue domes. The Aegean turning gold. Nothing more needs to be said.</p>
          <span class="dest-card-cta">Explore spots →</span>
        </div>
      </div>
      <div class="dest-card" onclick="goToDestination('Bali')">
        <div class="dest-card-img" style="background-image:url('https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=900&q=80&fit=crop');background-size:cover;background-position:center"></div>
        <div class="dest-card-info">
          <span class="dest-card-country">Indonesia</span>
          <h3 class="dest-card-name">Bali</h3>
          <p class="dest-card-line">Rice terraces at sunrise, hidden temples, and waterfalls that feel like the edge of the world.</p>
          <span class="dest-card-cta">Explore spots →</span>
        </div>
      </div>
      <div class="dest-card" onclick="goToDestination('Tulum')">
        <div class="dest-card-img" style="background-image:url('https://images.unsplash.com/photo-1682687220742-aba13b6e50ba?w=900&q=80&fit=crop');background-size:cover;background-position:center"></div>
        <div class="dest-card-info">
          <span class="dest-card-country">Mexico</span>
          <h3 class="dest-card-name">Tulum</h3>
          <p class="dest-card-line">Cenotes, jungle-wrapped ruins, and Caribbean water the colour of gemstones.</p>
          <span class="dest-card-cta">Explore spots →</span>
        </div>
      </div>
      <div class="dest-card" onclick="goToDestination('Maldives')">
        <div class="dest-card-img" style="background-image:url('https://images.unsplash.com/photo-1514282401047-d79a71a590e8?w=900&q=80&fit=crop');background-size:cover;background-position:center"></div>
        <div class="dest-card-info">
          <span class="dest-card-country">Indian Ocean</span>
          <h3 class="dest-card-name">Maldives</h3>
          <p class="dest-card-line">Private sandbanks that disappear at high tide. Overwater villas. Absolute, total privacy.</p>
          <span class="dest-card-cta">Explore spots →</span>
        </div>
      </div>
      <div class="dest-card" onclick="goToDestination('Costa Rica')">
        <div class="dest-card-img" style="background-image:url('https://images.unsplash.com/photo-1544735716-392fe2489ffa?w=900&q=80&fit=crop');background-size:cover;background-position:center 60%"></div>
        <div class="dest-card-info">
          <span class="dest-card-country">Central America</span>
          <h3 class="dest-card-name">Costa Rica</h3>
          <p class="dest-card-line">Cloud forests, hanging bridges, and a country where the jungle feels like a living thing.</p>
          <span class="dest-card-cta">Explore spots →</span>
        </div>
      </div>
      <div class="dest-card" onclick="goToDestination('Nicaragua')">
        <div class="dest-card-img" style="background-image:url('https://images.unsplash.com/photo-1605649487212-47bdab064df7?w=900&q=80&fit=crop');background-size:cover;background-position:center"></div>
        <div class="dest-card-info">
          <span class="dest-card-country">Central America</span>
          <h3 class="dest-card-name">Nicaragua</h3>
          <p class="dest-card-line">Twin volcanos, black sand coves, and an island that almost nobody has found yet.</p>
          <span class="dest-card-cta">Explore spots →</span>
        </div>
      </div>
      <div class="dest-card" onclick="goToDestination('Algarve')">
        <div class="dest-card-img" style="background-image:url('https://images.unsplash.com/photo-1555881400-74d7acaacd8b?w=900&q=80&fit=crop');background-size:cover;background-position:center"></div>
        <div class="dest-card-info">
          <span class="dest-card-country">Portugal</span>
          <h3 class="dest-card-name">Algarve</h3>
          <p class="dest-card-line">Sea caves, sandstone arches, and Atlantic cliffs that glow amber at sunset.</p>
          <span class="dest-card-cta">Explore spots →</span>
        </div>
      </div>
      <div class="dest-card" onclick="goToDestination('South of France')">
        <div class="dest-card-img" style="background-image:url('https://images.unsplash.com/photo-1499856871958-5b9357976b82?w=900&q=80&fit=crop');background-size:cover;background-position:center"></div>
        <div class="dest-card-info">
          <span class="dest-card-country">France</span>
          <h3 class="dest-card-name">South of France</h3>
          <p class="dest-card-line">Lavender fields, Côte d'Azur coastline, and the kind of light painters have chased for centuries.</p>
          <span class="dest-card-cta">Explore spots →</span>
        </div>
      </div>
      <div class="dest-card" onclick="goToDestination('Switzerland')">
        <div class="dest-card-img" style="background-image:url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=900&q=80&fit=crop');background-size:cover;background-position:center"></div>
        <div class="dest-card-info">
          <span class="dest-card-country">Alps</span>
          <h3 class="dest-card-name">Switzerland</h3>
          <p class="dest-card-line">Cable cars at dusk, Jungfrau at golden hour, and a silence that costs nothing but feels priceless.</p>
          <span class="dest-card-cta">Explore spots →</span>
        </div>
      </div>
    </div>

    <!-- Budget Guides Section -->
    <div class="dest-budget-section">
      <div class="dest-budget-header">
        <span class="pg-eyebrow" style="display:block;text-align:center;margin-bottom:12px">Plan with clarity</span>
        <h2 class="dest-budget-title">Proposal Budget Guides</h2>
        <p class="dest-budget-sub">What does a proposal actually cost in each destination? We break it down honestly — from the moment itself to the hotel, the photographer, and the extras nobody tells you about.</p>
      </div>
      <div class="dest-budget-grid">
        <div class="dest-budget-card" onclick="showPage('budget-guide')">
          <div class="dest-budget-card-dest">Santorini, Greece</div>
          <div class="dest-budget-card-range">$800 – $8,000+</div>
          <div class="dest-budget-card-line">From a clifftop moment to a full villa proposal package</div>
          <span class="dest-budget-cta">View breakdown →</span>
        </div>
        <div class="dest-budget-card" onclick="showPage('budget-guide')">
          <div class="dest-budget-card-dest">Bali, Indonesia</div>
          <div class="dest-budget-card-range">$400 – $4,000+</div>
          <div class="dest-budget-card-line">One of the most affordable luxury proposal destinations on earth</div>
          <span class="dest-budget-cta">View breakdown →</span>
        </div>
        <div class="dest-budget-card" onclick="showPage('budget-guide')">
          <div class="dest-budget-card-dest">Maldives</div>
          <div class="dest-budget-card-range">$2,000 – $15,000+</div>
          <div class="dest-budget-card-line">When only total privacy and total luxury will do</div>
          <span class="dest-budget-cta">View breakdown →</span>
        </div>
        <div class="dest-budget-card" onclick="showPage('budget-guide')">
          <div class="dest-budget-card-dest">Tulum, Mexico</div>
          <div class="dest-budget-card-range">$500 – $5,000+</div>
          <div class="dest-budget-card-line">Cenotes, jungle eco-lodges, and a booming proposal scene</div>
          <span class="dest-budget-cta">View breakdown →</span>
        </div>
        <div class="dest-budget-card" onclick="showPage('budget-guide')">
          <div class="dest-budget-card-dest">Amalfi Coast, Italy</div>
          <div class="dest-budget-card-range">$1,000 – $10,000+</div>
          <div class="dest-budget-card-line">The most cinematic coastline in Europe — with prices to match</div>
          <span class="dest-budget-cta">View breakdown →</span>
        </div>
        <div class="dest-budget-card" onclick="showPage('budget-guide')">
          <div class="dest-budget-card-dest">Algarve, Portugal</div>
          <div class="dest-budget-card-range">$300 – $3,000+</div>
          <div class="dest-budget-card-line">Europe's best-value luxury proposal destination</div>
          <span class="dest-budget-cta">View breakdown →</span>
        </div>
      </div>
      <div style="text-align:center;margin-top:32px">
        <button class="pg-cta-btn" onclick="showPage('budget-guide')">View Full Budget Guide →</button>
      </div>
    </div>

  </div>
</div>

<!-- ═══ DESTINATION LANDING PAGE ═══ -->
<div id="page-dest-landing" class="page" style="display:none">
  <div class="pg-dest-landing">

    <!-- Hero -->
    <div class="dest-landing-hero" id="dest-landing-hero">
      <button class="story-back-btn" style="position:absolute;top:100px;left:40px;z-index:10;color:rgba(244,241,235,0.7);border-color:rgba(244,241,235,0.2);" onclick="showPage('destinations')">← All Destinations</button>
      <div class="dest-landing-hero-content">
        <span class="pg-eyebrow" style="color:rgba(165,90,74,0.85)" id="dest-landing-country"></span>
        <h1 class="dest-landing-title" id="dest-landing-title"></h1>
        <p class="dest-landing-sub" id="dest-landing-sub"></p>
      </div>
    </div>

    <!-- Filters + Spots -->
    <div class="dest-landing-body">
      <div class="results-topbar dest-landing-filter-bar" id="dest-landing-filter-bar">
        <div class="results-topbar-left">

          <!-- Vibe pill -->
          <div class="results-panel-wrap">
            <button class="results-filter-pill" id="dlpill-vibe" onclick="toggleDLPanel('dl-vibe-panel','dlpill-vibe')">
              Vibe
              <span class="pill-count" id="dlvibe-count" style="display:none"></span>
            </button>
            <div class="results-inline-panel" id="dl-vibe-panel">
              <span class="inline-panel-label">Select all that apply</span>
              <div class="inline-tags">
                <div class="filter-tag" onclick="toggleDLTag(this,'vibe','Beach')">🏖 Beach</div>
                <div class="filter-tag" onclick="toggleDLTag(this,'vibe','Mountain')">⛰ Mountain</div>
                <div class="filter-tag" onclick="toggleDLTag(this,'vibe','Cliff')">🪨 Cliff</div>
                <div class="filter-tag" onclick="toggleDLTag(this,'vibe','Lake')">🏞 Lake</div>
                <div class="filter-tag" onclick="toggleDLTag(this,'vibe','Volcano')">🌋 Volcano</div>
                <div class="filter-tag" onclick="toggleDLTag(this,'vibe','Ocean')">🌊 Ocean</div>
                <div class="filter-tag" onclick="toggleDLTag(this,'vibe','City')">🏙 City</div>
                <div class="filter-tag" onclick="toggleDLTag(this,'vibe','Jungle')">🌿 Jungle</div>
                <div class="filter-tag" onclick="toggleDLTag(this,'vibe','Rural')">🌾 Rural</div>
                <div class="filter-tag" onclick="toggleDLTag(this,'vibe','Boat')">⛵ Boat</div>
              </div>
            </div>
          </div>

          <!-- Privacy pill -->
          <div class="results-panel-wrap">
            <button class="results-filter-pill" id="dlpill-privacy" onclick="toggleDLPanel('dl-privacy-panel','dlpill-privacy')">
              Privacy
              <span class="pill-count" id="dlprivacy-count" style="display:none"></span>
            </button>
            <div class="results-inline-panel" id="dl-privacy-panel">
              <span class="inline-panel-label">Select all that apply</span>
              <div class="inline-tags">
                <div class="filter-tag" onclick="toggleDLTag(this,'privacy','Private')">🔒 Private</div>
                <div class="filter-tag" onclick="toggleDLTag(this,'privacy','Light Crowd')">👥 Light Crowd</div>
                <div class="filter-tag" onclick="toggleDLTag(this,'privacy','Moderate Crowd')">👥👥 Moderate</div>
                <div class="filter-tag" onclick="toggleDLTag(this,'privacy','Everyone Will See')">👥👥👥 Public</div>
              </div>
            </div>
          </div>

          <!-- Budget pill -->
          <div class="results-panel-wrap">
            <button class="results-filter-pill" id="dlpill-budget" onclick="toggleDLPanel('dl-budget-panel','dlpill-budget')">
              Budget
              <span class="pill-count" id="dlbudget-count" style="display:none"></span>
            </button>
            <div class="results-inline-panel" id="dl-budget-panel">
              <span class="inline-panel-label">Select all that apply</span>
              <div class="inline-tags">
                <div class="filter-tag" onclick="toggleDLTag(this,'budget','$')">$ Free / Low</div>
                <div class="filter-tag" onclick="toggleDLTag(this,'budget','$$')">$$ Moderate</div>
                <div class="filter-tag" onclick="toggleDLTag(this,'budget','$$$')">$$$ Expensive</div>
                <div class="filter-tag" onclick="toggleDLTag(this,'budget','$$$$')">$$$$ Luxury</div>
              </div>
            </div>
          </div>

          <!-- All Filters pill -->
          <button class="results-filter-pill" id="dlpill-all" onclick="openPanel()">
            ⚙ All Filters
          </button>

        </div>
        <button class="results-clear" onclick="clearDLFilters()">Clear all</button>
      </div>

      <div class="dest-landing-spots-wrap">
        <div class="spots-grid" id="dest-landing-grid"></div>
        <div class="results-empty" id="dest-landing-empty" style="display:none">
          <p>No spots match your filters.</p>
          <button onclick="clearDLFilters()" style="background:none;border:1px solid var(--hairline);font-family:'Jost',sans-serif;font-size:10px;letter-spacing:0.16em;text-transform:uppercase;color:var(--mid);padding:10px 20px;cursor:pointer;margin-top:16px;">Clear Filters</button>
        </div>
      </div>
    </div>

    <!-- Budget Guide for this destination -->
    <div class="dest-landing-budget" id="dest-landing-budget">
      <div class="dest-landing-budget-header">
        <span class="pg-eyebrow" style="display:block;text-align:center;margin-bottom:12px">Plan with clarity</span>
        <h2 class="dest-landing-budget-title" id="dest-landing-budget-title">Proposal Budget Guide</h2>
        <p class="dest-landing-budget-sub">What a proposal actually costs here — broken down honestly, category by category. No surprises.</p>
      </div>
      <div class="dest-landing-budget-content" id="dest-landing-budget-content"></div>
      <div style="text-align:center;margin-top:32px">
        <button class="pg-cta-btn" onclick="showPage('budget-guide')">See All Destination Budgets →</button>
      </div>
    </div>

  </div>
</div>

<!-- ═══ BUDGET GUIDE PAGE ═══ -->
<div id="page-budget-guide" class="page" style="display:none">
  <div class="pg-budget">
    <div class="budget-hero">
      <span class="pg-eyebrow" style="display:block;text-align:center;margin-bottom:16px">No surprises</span>
      <h1 class="budget-hero-title">What Does a Proposal <em>Actually</em> Cost?</h1>
      <p class="budget-hero-sub">The most common question we get — answered honestly, destination by destination. We break down every cost category: the spot itself, photography, accommodation, setup, and the extras nobody mentions until it's too late.</p>
    </div>

    <div class="budget-content">

      <div class="budget-intro-note">
        <strong>How to use this guide:</strong> Every proposal is different. These ranges reflect real-world costs for each destination based on what couples actually spend. We separate "Just the Moment" costs (minimal) from "Hotel &amp; Stay" costs (full experience). Always budget 15–20% above your target — destination proposals have a way of finding optional upgrades you'll want to say yes to.
      </div>

      <!-- SANTORINI -->
      <div class="budget-dest-block">
        <div class="budget-dest-header">
          <div>
            <span class="budget-dest-country">Greece</span>
            <h2 class="budget-dest-name">Santorini</h2>
            <p class="budget-dest-tagline">The most photographed proposal backdrop on earth. Premium views command premium prices — but there are ways to do it beautifully without the most expensive options.</p>
          </div>
          <div class="budget-dest-range-badge">$800 – $8,000+</div>
        </div>
        <div class="budget-table">
          <div class="budget-row budget-row-head"><span>Category</span><span>Just the Moment</span><span>Hotel &amp; Stay</span></div>
          <div class="budget-row"><span>Proposal spot access</span><span>Free – $150</span><span>Included</span></div>
          <div class="budget-row"><span>Photographer (2–3 hrs)</span><span>$300 – $800</span><span>$300 – $800</span></div>
          <div class="budget-row"><span>Hotel (3 nights, cave suite)</span><span>—</span><span>$900 – $3,000</span></div>
          <div class="budget-row"><span>Private sunset dinner</span><span>$150 – $400</span><span>$200 – $500</span></div>
          <div class="budget-row"><span>Flowers &amp; champagne setup</span><span>$80 – $200</span><span>Often included</span></div>
          <div class="budget-row budget-row-total"><span>Estimated total</span><span>$530 – $1,550</span><span>$1,400 – $4,300+</span></div>
        </div>
        <p class="budget-tip"><strong>Proposal Spots tip:</strong> The most overcrowded spot for proposals in Santorini is the Oia castle at sunset — thousands of tourists, no privacy. Our vetted spots include private terraces and villa access that cost the same or less, with none of the crowds. <button class="budget-tip-link" onclick="goToDestination('Santorini')">Browse Santorini spots →</button></p>
      </div>

      <!-- BALI -->
      <div class="budget-dest-block">
        <div class="budget-dest-header">
          <div>
            <span class="budget-dest-country">Indonesia</span>
            <h2 class="budget-dest-name">Bali</h2>
            <p class="budget-dest-tagline">The most value-for-money luxury proposal destination in the world. Private villa setups that would cost $5,000 in Europe can be arranged in Bali for under $1,000.</p>
          </div>
          <div class="budget-dest-range-badge">$400 – $4,000+</div>
        </div>
        <div class="budget-table">
          <div class="budget-row budget-row-head"><span>Category</span><span>Just the Moment</span><span>Hotel &amp; Stay</span></div>
          <div class="budget-row"><span>Private access / guide</span><span>$30 – $100</span><span>Included</span></div>
          <div class="budget-row"><span>Photographer (2–3 hrs)</span><span>$150 – $450</span><span>$150 – $450</span></div>
          <div class="budget-row"><span>Hotel (3 nights, private villa)</span><span>—</span><span>$400 – $1,800</span></div>
          <div class="budget-row"><span>Private dinner setup</span><span>$80 – $200</span><span>$100 – $300</span></div>
          <div class="budget-row"><span>Flowers &amp; décor</span><span>$30 – $120</span><span>Often included</span></div>
          <div class="budget-row budget-row-total"><span>Estimated total</span><span>$290 – $870</span><span>$650 – $2,550+</span></div>
        </div>
        <p class="budget-tip"><strong>Proposal Spots tip:</strong> Bali photographers are among the best in the world for proposal work and cost a fraction of European equivalents. Don't skip this. The rice terrace light at sunrise is unrepeatable — you want it captured. <button class="budget-tip-link" onclick="goToDestination('Bali')">Browse Bali spots →</button></p>
      </div>

      <!-- MALDIVES -->
      <div class="budget-dest-block">
        <div class="budget-dest-header">
          <div>
            <span class="budget-dest-country">Indian Ocean</span>
            <h2 class="budget-dest-name">Maldives</h2>
            <p class="budget-dest-tagline">The highest-cost destination on our list — and the one where every penny of it is visible. If your budget allows, this is the proposal that requires the least effort and delivers the most impact.</p>
          </div>
          <div class="budget-dest-range-badge">$2,000 – $15,000+</div>
        </div>
        <div class="budget-table">
          <div class="budget-row budget-row-head"><span>Category</span><span>Just the Moment</span><span>Hotel &amp; Stay</span></div>
          <div class="budget-row"><span>Private beach / sandbank access</span><span>$200 – $600</span><span>Included</span></div>
          <div class="budget-row"><span>Photographer (2–3 hrs)</span><span>$400 – $900</span><span>$400 – $900</span></div>
          <div class="budget-row"><span>Hotel (3 nights, water villa)</span><span>—</span><span>$1,500 – $8,000</span></div>
          <div class="budget-row"><span>Champagne &amp; setup</span><span>$150 – $400</span><span>Often included</span></div>
          <div class="budget-row"><span>Seaplane transfer</span><span>—</span><span>$400 – $800</span></div>
          <div class="budget-row budget-row-total"><span>Estimated total</span><span>$750 – $1,900</span><span>$2,300 – $9,700+</span></div>
        </div>
        <p class="budget-tip"><strong>Proposal Spots tip:</strong> The sandbank proposals are spectacular but time-sensitive — the best ones are accessible only 2–3 hours per day. Book through a resort concierge briefed in advance. We've vetted the properties that handle this best. <button class="budget-tip-link" onclick="goToDestination('Maldives')">Browse Maldives spots →</button></p>
      </div>

      <!-- TULUM -->
      <div class="budget-dest-block">
        <div class="budget-dest-header">
          <div>
            <span class="budget-dest-country">Mexico</span>
            <h2 class="budget-dest-name">Tulum</h2>
            <p class="budget-dest-tagline">A destination that has transformed from a backpacker stop into one of the most sophisticated proposal markets in the Americas. Private cenote access and jungle eco-lodge proposals are Tulum's signatures.</p>
          </div>
          <div class="budget-dest-range-badge">$500 – $5,000+</div>
        </div>
        <div class="budget-table">
          <div class="budget-row budget-row-head"><span>Category</span><span>Just the Moment</span><span>Hotel &amp; Stay</span></div>
          <div class="budget-row"><span>Private cenote / guide</span><span>$60 – $200</span><span>Included</span></div>
          <div class="budget-row"><span>Photographer (2–3 hrs)</span><span>$200 – $600</span><span>$200 – $600</span></div>
          <div class="budget-row"><span>Hotel (3 nights, eco-lodge)</span><span>—</span><span>$600 – $2,400</span></div>
          <div class="budget-row"><span>Private dinner setup</span><span>$100 – $350</span><span>$150 – $400</span></div>
          <div class="budget-row"><span>Flowers &amp; décor</span><span>$50 – $150</span><span>Often included</span></div>
          <div class="budget-row budget-row-total"><span>Estimated total</span><span>$410 – $1,300</span><span>$950 – $3,400+</span></div>
        </div>
        <p class="budget-tip"><strong>Proposal Spots tip:</strong> Tulum cenotes are magical but crowded by 9am. Private early-morning access (before 7am) costs a small premium and is entirely worth it. Several of our vetted spots include this as standard. <button class="budget-tip-link" onclick="goToDestination('Tulum')">Browse Tulum spots →</button></p>
      </div>

      <!-- ALGARVE -->
      <div class="budget-dest-block">
        <div class="budget-dest-header">
          <div>
            <span class="budget-dest-country">Portugal</span>
            <h2 class="budget-dest-name">Algarve</h2>
            <p class="budget-dest-tagline">Europe's best-value luxury proposal destination. The Atlantic coastline, sea caves, and sandstone cliffs of the Algarve rival anything on the Amalfi Coast — at roughly half the price.</p>
          </div>
          <div class="budget-dest-range-badge">$300 – $3,000+</div>
        </div>
        <div class="budget-table">
          <div class="budget-row budget-row-head"><span>Category</span><span>Just the Moment</span><span>Hotel &amp; Stay</span></div>
          <div class="budget-row"><span>Kayak / boat rental</span><span>$40 – $120</span><span>Included</span></div>
          <div class="budget-row"><span>Photographer (2–3 hrs)</span><span>$200 – $500</span><span>$200 – $500</span></div>
          <div class="budget-row"><span>Hotel (3 nights, clifftop)</span><span>—</span><span>$400 – $1,500</span></div>
          <div class="budget-row"><span>Private dinner</span><span>$80 – $250</span><span>$100 – $300</span></div>
          <div class="budget-row"><span>Flowers &amp; champagne</span><span>$40 – $100</span><span>Often included</span></div>
          <div class="budget-row budget-row-total"><span>Estimated total</span><span>$360 – $970</span><span>$700 – $2,300+</span></div>
        </div>
        <p class="budget-tip"><strong>Proposal Spots tip:</strong> The Benagil Cave is the most famous spot in the Algarve but requires timing. Golden hour kayak access is the move — tour boats are gone, the light is extraordinary, and it costs almost nothing. <button class="budget-tip-link" onclick="goToDestination('Algarve')">Browse Algarve spots →</button></p>
      </div>

    </div>

    <div class="pg-cta-strip" style="margin-top:0">
      <h2 class="pg-cta-strip-title">Ready to start planning?</h2>
      <p class="pg-cta-strip-sub">Browse our curated spots by destination, or save your favourites to your collection.</p>
      <button class="pg-cta-btn" onclick="showPage('destinations')">Explore All Destinations →</button>
    </div>
  </div>
</div>

<!-- ═══ PROPOSAL CHECKLIST PAGE ═══ -->
<div id="page-checklist" class="page" style="display:none">
  <div class="pg-checklist">
    <div class="checklist-hero">
      <span class="pg-eyebrow" style="display:block;text-align:center;margin-bottom:16px">Free download</span>
      <h1 class="checklist-hero-title">The Complete <em>Proposal Checklist</em></h1>
      <p class="checklist-hero-sub">Everything you need to plan a proposal — from three months out to the moment itself. Used by thousands of couples planning destination proposals worldwide.</p>
    </div>

    <div class="checklist-preview">
      <div class="checklist-phase">
        <div class="checklist-phase-header">
          <span class="checklist-phase-num">3 Months Out</span>
          <span class="checklist-phase-title">The Big Decisions</span>
        </div>
        <div class="checklist-items">
          <div class="checklist-item"><span class="ci-check">✦</span><span>Choose your destination and lock in dates</span></div>
          <div class="checklist-item"><span class="ci-check">✦</span><span>Set your total budget (include 15% buffer)</span></div>
          <div class="checklist-item"><span class="ci-check">✦</span><span>Research and select your proposal spot</span></div>
          <div class="checklist-item checklist-item-blur"><span class="ci-check">✦</span><span>Book your photographer — the best ones fill up fast</span></div>
          <div class="checklist-item checklist-item-blur"><span class="ci-check">✦</span><span>Book accommodation (if Hotel &amp; Stay)</span></div>
        </div>
      </div>
      <div class="checklist-phase">
        <div class="checklist-phase-header">
          <span class="checklist-phase-num">1 Month Out</span>
          <span class="checklist-phase-title">The Details</span>
        </div>
        <div class="checklist-items">
          <div class="checklist-item checklist-item-blur"><span class="ci-check">✦</span><span>Confirm all bookings and share proposal plan with photographer</span></div>
          <div class="checklist-item checklist-item-blur"><span class="ci-check">✦</span><span>Order the ring (allow 3–4 weeks for resizing)</span></div>
          <div class="checklist-item checklist-item-blur"><span class="ci-check">✦</span><span>Plan your cover story — make it believable</span></div>
          <div class="checklist-item checklist-item-blur"><span class="ci-check">✦</span><span>Arrange any setup: flowers, champagne, dinner</span></div>
        </div>
      </div>
      <div class="checklist-phase">
        <div class="checklist-phase-header">
          <span class="checklist-phase-num">1 Week Out</span>
          <span class="checklist-phase-title">Final Preparations</span>
        </div>
        <div class="checklist-items">
          <div class="checklist-item checklist-item-blur"><span class="ci-check">✦</span><span>Check weather &amp; have a backup plan</span></div>
          <div class="checklist-item checklist-item-blur"><span class="ci-check">✦</span><span>Confirm with photographer: exact location, time, your signal</span></div>
          <div class="checklist-item checklist-item-blur"><span class="ci-check">✦</span><span>Write what you want to say — don't improvise entirely</span></div>
          <div class="checklist-item checklist-item-blur"><span class="ci-check">✦</span><span>Charge your phone and have a backup camera</span></div>
        </div>
      </div>

      <!-- CTA Gate -->
      <div class="checklist-gate">
        <div class="checklist-gate-inner">
          <div class="checklist-gate-icon">📋</div>
          <h3 class="checklist-gate-title">Get the full 47-point checklist</h3>
          <p class="checklist-gate-sub">Completely free. Includes the day-of checklist, what to say, post-proposal next steps, and destination-specific tips for every market we cover.</p>
          <button class="checklist-gate-btn" id="checklist-download-btn" onclick="handleChecklistDownload()">Download Free PDF →</button>
          <p class="checklist-gate-note">No spam. We only email if you want updates on new spots.</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ═══ STORY DETAIL PAGES ═══ -->
<div id="page-story" class="page" style="display:none">
  <div class="pg-story">
    <button class="story-back-btn" onclick="showPage('inspiration')">← Back to Stories</button>
    <div class="story-hero">
      <div class="story-hero-bg" id="story-hero-bg"></div>
      <div class="story-hero-content">
        <span class="pg-eyebrow" id="story-eyebrow" style="color:rgba(165,90,74,0.9)"></span>
        <h1 class="story-hero-title" id="story-title"></h1>
        <div class="story-meta" id="story-meta"></div>
      </div>
    </div>
    <div class="story-body" id="story-body"></div>
    <div class="story-footer">
      <p class="story-footer-label">Find a spot like this</p>
      <button class="pg-cta-btn" id="story-explore-btn">Explore spots →</button>
    </div>
  </div>
</div>

<!-- FILTER OVERLAY + PANEL -->
<div class="filter-overlay" id="filter-overlay" onclick="closePanel()"></div>
<div class="filter-panel" id="filter-panel">
  <div class="panel-head">
    <h2>All Filters</h2>
    <button class="panel-close" onclick="closePanel()">✕</button>
  </div>
  <div class="panel-body">

    <div class="filter-group">
      <div class="filter-group-title">Food &amp; Drinks</div>
      <div class="filter-tags" id="fg-food">
        <div class="filter-tag" onclick="togglePanelTag(this,'food','Not available')">Not available</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'food','Drinks only')">Drinks only</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'food','Picnic possible')">Picnic possible</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'food','Private meal')">Private meal</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'food','On-site restaurant')">On-site restaurant</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'food','By request')">Can be arranged</div>
      </div>
    </div>

    <div class="filter-group">
      <div class="filter-group-title">Best Time</div>
      <div class="filter-tags" id="fg-time">
        <div class="filter-tag" onclick="togglePanelTag(this,'time','Sunrise')">Sunrise</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'time','Sunset')">Sunset</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'time','Mid-day')">Mid-day</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'time','Any time')">Any time</div>
      </div>
    </div>

    <div class="filter-group">
      <div class="filter-group-title">Access &amp; Effort</div>
      <div class="filter-tags" id="fg-effort">
        <div class="filter-tag" onclick="togglePanelTag(this,'effort','Easy')">Easy</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'effort','Moderate')">Moderate</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'effort','Adventurous')">Adventurous</div>
      </div>
    </div>

    <div class="filter-group">
      <div class="filter-group-title">Budget</div>
      <div class="filter-tags" id="fg-budget">
        <div class="filter-tag" onclick="togglePanelTag(this,'budget','Free')">Free</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'budget','Moderate')">$$ Moderate</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'budget','Expensive')">$$$ Expensive</div>
        <div class="filter-tag" onclick="togglePanelTag(this,'budget','Luxury')">$$$$ Luxury</div>
      </div>
    </div>

    <div class="filter-group">
      <div class="toggle-row">
        <span class="toggle-label">Heels / Dress Friendly</span>
        <div class="toggle" id="toggle-heels" onclick="toggleSwitch('heels')"></div>
      </div>
    </div>

  </div>
  <div class="panel-footer">
    <button class="btn-clear" onclick="clearAllFilters()">Clear all</button>
    <button class="btn-apply" onclick="applyFilters()">Show results</button>
  </div>
</div>

<!-- ═══ RESULTS PAGE ═══ -->
<div id="page-results" class="page" style="display:none">
  <div class="results-page">

    <!-- Sticky filter bar -->
    <div class="results-topbar">
      <div class="results-topbar-left">

        <button class="results-back" onclick="showPage('home')">
          ← Back
        </button>
        <div class="results-divider-v"></div>

        <!-- Vibe pill -->
        <div class="results-panel-wrap">
          <button class="results-filter-pill" id="rpill-vibe" onclick="toggleResultsPanel('rvibe-panel','rpill-vibe')">
            Vibe
            <span class="pill-count" id="rvibe-count" style="display:none"></span>
          </button>
          <div class="results-inline-panel" id="rvibe-panel">
            <span class="inline-panel-label">Select all that apply</span>
            <div class="inline-tags">
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','Beach')">🏖 Beach</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','Mountain')">⛰ Mountain</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','Cliff')">🪨 Cliff</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','Lake')">🏞 Lake</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','Volcano')">🌋 Volcano</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','Ocean')">🌊 Ocean</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','City')">🏙 City</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','Jungle')">🌿 Jungle</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','Rural')">🌾 Rural</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'vibe','Boat')">⛵ Boat</div>
            </div>
          </div>
        </div>

        <!-- Privacy pill -->
        <div class="results-panel-wrap">
          <button class="results-filter-pill" id="rpill-privacy" onclick="toggleResultsPanel('rprivacy-panel','rpill-privacy')">
            Privacy
            <span class="pill-count" id="rprivacy-count" style="display:none"></span>
          </button>
          <div class="results-inline-panel" id="rprivacy-panel">
            <span class="inline-panel-label">Select all that apply</span>
            <div class="inline-tags">
              <div class="filter-tag" onclick="toggleResultsFilter(this,'privacy','Private')">🔒 Private</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'privacy','Light Crowd')">👥 Light Crowd</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'privacy','Moderate Crowd')">👥👥 Moderate</div>
              <div class="filter-tag" onclick="toggleResultsFilter(this,'privacy','Everyone Will See')">👥👥👥 Public</div>
            </div>
          </div>
        </div>

        <!-- Country pill -->
        <div class="results-panel-wrap">
          <button class="results-filter-pill" id="rpill-country" onclick="toggleResultsPanel('rcountry-panel','rpill-country')">
            Country
            <span class="pill-count" id="rcountry-count" style="display:none"></span>
          </button>
          <div class="results-inline-panel" id="rcountry-panel">
            <span class="inline-panel-label">Select destination</span>
            <div class="inline-tags">
              <div class="filter-tag" onclick="toggleCountryFilter(this,'Nicaragua')">Nicaragua</div>
              <div class="filter-tag" onclick="toggleCountryFilter(this,'Costa Rica')">Costa Rica</div>
              <div class="filter-tag" onclick="toggleCountryFilter(this,'Mexico')">Mexico</div>
              <div class="filter-tag" onclick="toggleCountryFilter(this,'Italy')">Italy</div>
              <div class="filter-tag" onclick="toggleCountryFilter(this,'Greece')">Greece</div>
              <div class="filter-tag" onclick="toggleCountryFilter(this,'Indonesia')">Indonesia</div>
              <div class="filter-tag" onclick="toggleCountryFilter(this,'Maldives')">Maldives</div>
              <div class="filter-tag" onclick="toggleCountryFilter(this,'France')">France</div>
              <div class="filter-tag" onclick="toggleCountryFilter(this,'Portugal')">Portugal</div>
              <div class="filter-tag" onclick="toggleCountryFilter(this,'Switzerland')">Switzerland</div>
            </div>
          </div>
        </div>

        <!-- All Filters pill -->
        <button class="results-filter-pill" id="rpill-all" onclick="openPanel()">
          ⚙ All Filters
          <span class="pill-count" id="rfilter-count" style="display:none"></span>
        </button>

      </div>
      <button class="results-clear" onclick="clearAllFilters(); renderResultsPage()">Clear all</button>
    </div>

    <!-- Results header -->
    <div class="results-header">
      <div class="results-active-tags" id="results-active-tags"></div>
      <span class="results-count-label" id="results-count-label" style="display:none">Matching proposal spots</span>
      <div class="results-count-title" id="results-count-title">Finding spots...</div>
    </div>

    <!-- Results grid -->
    <div class="results-grid-wrap">
      <div class="spots-grid" id="results-grid"></div>
      <div class="results-empty" id="results-empty" style="display:none">
        <p>No spots match your filters.</p>
        <button onclick="clearAllFilters(); renderResultsPage()" style="background:none; border:1px solid var(--hairline); font-family:'Jost',sans-serif; font-size:10px; letter-spacing:0.16em; text-transform:uppercase; color:var(--mid); padding:10px 20px; cursor:pointer;">Clear Filters</button>
      </div>
    </div>

  </div>
</div>

<!-- ═══ PROPOSAL MAP PAGE ═══ -->
<div id="page-map" class="page" style="display:none">
  <div class="pg-map-wrap">
    <div class="pg-map-header">
      <span class="pg-eyebrow">Explore the world</span>
      <h1 class="pg-map-header-title">Find the perfect place to <em>ask.</em></h1>
    </div>
    <div class="pg-map-body">
      <!-- Canvas -->
      <div class="map-canvas">
        <div class="map-canvas-bg"></div>
        <div class="map-canvas-label">Proposal Spots — World Map</div>
        <div class="map-canvas-note">Mapbox integration · Clusters expand on zoom · Click a pin to preview</div>
        <!-- Pins -->
        <div class="map-pins">
          <div class="mpin" style="top:40%;left:49%" onclick="openMapSpot('Amalfi Coast','Italy','Belvedere di Villa Rufolo','Cliff · Private · $$$$','linear-gradient(160deg,#28342c,#1e2835)')">
            <div class="mpin-dot"></div><div class="mpin-label">Amalfi</div>
          </div>
          <div class="mpin" style="top:43%;left:54%" onclick="openMapSpot('Santorini','Greece','Oia Sunset Terrace','Cliff · Moderate Crowd · $$$$','linear-gradient(160deg,#1e2835,#162430)')">
            <div class="mpin-dot"></div><div class="mpin-label">Santorini</div>
          </div>
          <div class="mpin mpin-cluster" style="top:56%;left:74%" onclick="openMapSpot('Bali','Indonesia','Mount Batur Sunrise Point','Volcano · Light Crowd · $$','linear-gradient(160deg,#2c2018,#1e1610)')">
            <div class="mpin-dot"><span class="mpin-cluster-num">4</span></div><div class="mpin-label">Bali</div>
          </div>
          <div class="mpin" style="top:50%;left:26%" onclick="openMapSpot('Tulum','Mexico','Cenote Dos Ojos at Sunset','Jungle · Light Crowd · $$$','linear-gradient(160deg,#2a321e,#28342c)')">
            <div class="mpin-dot"></div><div class="mpin-label">Tulum</div>
          </div>
          <div class="mpin" style="top:53%;left:22%" onclick="openMapSpot('Costa Rica','Central America','Cloud Forest Bridge','Jungle · Private · $$','linear-gradient(160deg,#1e2818,#2a3420)')">
            <div class="mpin-dot"></div><div class="mpin-label">Costa Rica</div>
          </div>
          <div class="mpin" style="top:58%;left:64%" onclick="openMapSpot('Maldives','Indian Ocean','Overwater Villa at Sunset','Ocean · Private · $$$$','linear-gradient(160deg,#162430,#0e1c28)')">
            <div class="mpin-dot"></div><div class="mpin-label">Maldives</div>
          </div>
          <div class="mpin" style="top:37%;left:47%" onclick="openMapSpot('South of France','France','Lac de Gaube Lookout','Lake · Private · $$','linear-gradient(160deg,#1e2c38,#162030)')">
            <div class="mpin-dot"></div><div class="mpin-label">Côte d'Azur</div>
          </div>
          <div class="mpin mpin-cluster" style="top:34%;left:50%" onclick="openMapSpot('Swiss Alps','Switzerland','Grindelwald First Cliff Walk','Mountain · Light Crowd · $$$','linear-gradient(160deg,#1c2430,#141c28)')">
            <div class="mpin-dot"><span class="mpin-cluster-num">3</span></div><div class="mpin-label">Swiss Alps</div>
          </div>
          <div class="mpin" style="top:45%;left:21%" onclick="openMapSpot('Nicaragua','Central America','Laguna de Apoyo Crater Lake','Lake · Private · $$','linear-gradient(160deg,#28341e,#1e2818)')">
            <div class="mpin-dot"></div><div class="mpin-label">Nicaragua</div>
          </div>
          <div class="mpin" style="top:41%;left:46%" onclick="openMapSpot('Algarve','Portugal','Ponta da Piedade Sea Arches','Cliff · Light Crowd · $$$','linear-gradient(160deg,#2a2010,#1e1808)')">
            <div class="mpin-dot"></div><div class="mpin-label">Algarve</div>
          </div>
        </div>
        <!-- Spot preview card -->
        <div class="map-spot-preview" id="map-preview" style="display:none">
          <div class="msp-img">
            <div class="msp-img-bg" id="msp-bg"></div>
            <div class="msp-img-overlay"></div>
            <div class="msp-img-loc" id="msp-loc"></div>
            <button class="msp-close" onclick="document.getElementById('map-preview').style.display='none'">✕</button>
          </div>
          <div class="msp-body">
            <span class="msp-region" id="msp-region"></span>
            <div class="msp-name" id="msp-name"></div>
            <div class="msp-tags" id="msp-tags"></div>
            <a href="#" class="msp-cta">View Spot →</a>
          </div>
        </div>
      </div>
      <!-- Filters -->
      <div class="map-filters">
        <div class="mf-head">
          <div class="mf-head-title">Refine</div>
          <div class="mf-head-count" id="mf-count">140+ proposal spots</div>
        </div>
        <div class="mf-body">
          <div class="mf-group">
            <div class="mf-label">Vibe</div>
            <div class="mf-tags">
              <div class="mf-tag" onclick="this.classList.toggle('on')">🏖 Beach</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">⛰ Mountain</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">🪨 Cliff</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">🏞 Lake</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">🌋 Volcano</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">🌊 Ocean</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">🏙 City</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">🌿 Jungle</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">🌾 Rural</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">⛵ Boat</div>
            </div>
          </div>
          <div class="mf-group">
            <div class="mf-label">Privacy</div>
            <div class="mf-tags">
              <div class="mf-tag" onclick="this.classList.toggle('on')">🔒 Private</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">👥 Light Crowd</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">👥👥 Moderate</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">👥👥👥 Public</div>
            </div>
          </div>
          <div class="mf-group">
            <div class="mf-label">Budget</div>
            <div class="mf-tags">
              <div class="mf-tag" onclick="this.classList.toggle('on')">Free</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">$$ Moderate</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">$$$ Expensive</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">$$$$ Luxury</div>
            </div>
          </div>
          <div class="mf-group">
            <div class="mf-label">Destination</div>
            <div class="mf-tags">
              <div class="mf-tag" onclick="this.classList.toggle('on')">Amalfi</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">Santorini</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">Bali</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">Tulum</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">Maldives</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">France</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">Costa Rica</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">Switzerland</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">Portugal</div>
              <div class="mf-tag" onclick="this.classList.toggle('on')">Nicaragua</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ═══ INSPIRATION PAGE ═══ -->
<div id="page-inspiration" class="page" style="display:none">
  <div class="pg-inspiration">
    <!-- Hero -->
    <div class="pg-dark-hero">
      <div class="pg-dark-hero-bg insp-hero-bg"></div>
      <div class="pg-dark-hero-content">
        <span class="pg-eyebrow" style="color:rgba(165,90,74,0.8)">Real proposals. Real moments.</span>
        <h1 class="pg-dark-hero-title">The stories that<br>started with <em>yes.</em></h1>
      </div>
    </div>
    <!-- Intro -->
    <div class="insp-intro">
      <p class="insp-intro-text">"The best proposals are not performances. They are moments of perfect honesty — the right place, the right person, the right words. These are five of them."</p>
    </div>
    <!-- Stories -->
    <div class="insp-stories">

      <article class="insp-story" id="story-amalfi">
        <div class="insp-story-img">
          <div class="insp-story-img-bg" style="background:linear-gradient(rgba(0,0,0,0.35),rgba(0,0,0,0.55)),url('https://images.unsplash.com/photo-1516483638261-f4dbaf036963?w=800&q=75&fit=crop') center/cover"></div>
          <div class="insp-story-loc">Positano, Amalfi Coast · Italy</div>
        </div>
        <div class="insp-story-body">
          <span class="insp-story-eyebrow">Amalfi Coast · June 2024</span>
          <h2 class="insp-story-title">He told her it was just lunch. She had no idea about the lemon grove.</h2>
          <p class="insp-story-text">James spent four months planning a proposal on the Amalfi Coast. He'd been researching the best places to propose in Positano since February, quietly eliminating one idea after another. Too public. Too obvious. Not quite right. Then a local hotel owner told him about a private terrace above the cliffside — carved into the rock face, draped in lemon trees, invisible from the path below. He booked it. Told Sarah it was just a long lunch. When the guitarist started playing as they sat down, she thought it was a coincidence. When she turned to ask why he was so quiet, he was already on one knee.</p>
          <div class="insp-story-meta">
            <span>🪨 Cliff</span><span>🔒 Private</span><span>$$$$</span><span>Amalfi Coast</span>
          </div>
          <button class="insp-read-more" onclick="openStoryPage('amalfi')">Read the full story →</button>
        </div>
      </article>

      <article class="insp-story rev" id="story-bali-rice">
        <div class="insp-story-img">
          <div class="insp-story-img-bg" style="background:linear-gradient(rgba(0,0,0,0.3),rgba(0,0,0,0.55)),url('https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&q=75&fit=crop') center/cover"></div>
          <div class="insp-story-loc">Tegallalang, Ubud · Bali</div>
        </div>
        <div class="insp-story-body">
          <span class="insp-story-eyebrow">Bali · February 2024</span>
          <h2 class="insp-story-title">He woke her at 4:30am. She was furious. Then she saw the rice terraces.</h2>
          <p class="insp-story-text">Emma made her feelings clear at 4:30am when Marcus shook her awake and said they needed to leave immediately. She did not use kind words. But he had arranged a private sunrise access to the Tegallalang rice terraces before the tourist crowds arrived — just them, a blanket, and a breakfast he'd organised with the guesthouse the night before while she slept. The man they passed on the path and assumed was a local photographer was actually the photographer Marcus had hired for the occasion. He'd been in position for forty minutes. Emma still doesn't entirely forgive the early start. She says the photos are worth it.</p>
          <div class="insp-story-meta">
            <span>🌿 Jungle</span><span>🔒 Private</span><span>$$$</span><span>Bali</span>
          </div>
          <button class="insp-read-more" onclick="openStoryPage('bali-rice')">Read the full story →</button>
        </div>
      </article>

      <article class="insp-story" id="story-maldives">
        <div class="insp-story-img">
          <div class="insp-story-img-bg" style="background:linear-gradient(rgba(0,0,0,0.25),rgba(0,0,0,0.5)),url('https://images.unsplash.com/photo-1514282401047-d79a71a590e8?w=800&q=75&fit=crop') center/cover"></div>
          <div class="insp-story-loc">North Malé Atoll · Maldives</div>
        </div>
        <div class="insp-story-body">
          <span class="insp-story-eyebrow">Maldives · December 2023</span>
          <h2 class="insp-story-title">The sandbank disappears at high tide. They had twenty minutes.</h2>
          <p class="insp-story-text">Daniel and Camille were staying at a resort in the North Malé Atoll when a concierge — who had been quietly briefed two weeks earlier — arranged a private seaplane transfer to a sandbank that exists for only a few hours each day before the Indian Ocean reclaims it. Daniel had the champagne chilling in a bucket at the water's edge, rose petals arranged in a circle, and the exact time of sunset calculated to within a minute. He dropped to one knee as the horizon turned gold. The water was already at their ankles when they finally broke the embrace. They made it back with three minutes to spare. Camille says she would have stayed anyway.</p>
          <div class="insp-story-meta">
            <span>🌊 Ocean</span><span>🔒 Private</span><span>$$$$</span><span>Maldives</span>
          </div>
          <button class="insp-read-more" onclick="openStoryPage('maldives')">Read the full story →</button>
        </div>
      </article>

      <article class="insp-story rev" id="story-santorini">
        <div class="insp-story-img">
          <div class="insp-story-img-bg" style="background:linear-gradient(rgba(0,0,0,0.3),rgba(0,0,0,0.55)),url('https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?w=800&q=75&fit=crop') center/cover"></div>
          <div class="insp-story-loc">Oia, Santorini · Greece</div>
        </div>
        <div class="insp-story-body">
          <span class="insp-story-eyebrow">Santorini · August 2024</span>
          <h2 class="insp-story-title">She bought the dress that morning. He'd already planned everything around it.</h2>
          <p class="insp-story-text">On the morning of what Lexi thought was their anniversary dinner, she spotted a black and gold dress in a small boutique in Oia — handmade on the island, unlike anything she'd seen. She bought it on a whim. What she didn't know was that her partner had already arranged a private clifftop dinner overlooking the caldera, timed to sunset, with a local photographer posing as a tourist on the terrace below. He had booked it months earlier, with no way of knowing she would wear the perfect dress. Sometimes the details arrange themselves. He read her a letter. Eight minutes later, he got down on one knee. The Aegean turned pink behind them. She said yes before he finished the sentence.</p>
          <div class="insp-story-meta">
            <span>🏙 Clifftop</span><span>🔒 Private</span><span>$$$$</span><span>Santorini</span>
          </div>
          <button class="insp-read-more" onclick="openStoryPage('santorini')">Read the full story →</button>
        </div>
      </article>

      <article class="insp-story" id="story-costa-rica">
        <div class="insp-story-img">
          <div class="insp-story-img-bg" style="background:linear-gradient(rgba(0,0,0,0.35),rgba(0,0,0,0.6)),url('https://images.unsplash.com/photo-1544735716-392fe2489ffa?w=800&q=75&fit=crop') center/cover"></div>
          <div class="insp-story-loc">Monteverde Cloud Forest · Costa Rica</div>
        </div>
        <div class="insp-story-body">
          <span class="insp-story-eyebrow">Costa Rica · March 2024</span>
          <h2 class="insp-story-title">Suspended in the mist, 150 metres above the jungle floor.</h2>
          <p class="insp-story-text">Luca arranged an early-access private hanging bridge tour in Monteverde — just the two of them and a guide who had been instructed to quietly disappear at the right moment. Standing on a bridge suspended in the mist above the cloud forest canopy, howler monkeys audible in the canopy below, the entire world out of reach, he asked. Sofia laughed first. Then cried. Then said yes eleven times on the walk back down, slightly louder each time. She insists she only said it four times. The guide — who was not quite as far away as instructed — heard eleven.</p>
          <div class="insp-story-meta">
            <span>🌿 Jungle</span><span>👥 Light Crowd</span><span>$$</span><span>Costa Rica</span>
          </div>
          <button class="insp-read-more" onclick="openStoryPage('costa-rica')">Read the full story →</button>
        </div>
      </article>

      <article class="insp-story rev" id="story-tulum">
        <div class="insp-story-img">
          <div class="insp-story-img-bg" style="background:linear-gradient(rgba(0,0,0,0.3),rgba(0,0,0,0.55)),url('https://images.unsplash.com/photo-1682687220742-aba13b6e50ba?w=800&q=75&fit=crop') center/cover"></div>
          <div class="insp-story-loc">Cenote Dos Ojos · Tulum, Mexico</div>
        </div>
        <div class="insp-story-body">
          <span class="insp-story-eyebrow">Tulum · April 2024</span>
          <h2 class="insp-story-title">The cenote was empty at sunrise. He had arranged that too.</h2>
          <p class="insp-story-text">Getting private access to a cenote near Tulum at 6am requires knowing the right person. Jake had been corresponding with a local guide for six weeks. No tourists, no crowds — just the two of them standing at the edge of a naturally lit underground pool, turquoise water glowing in the early light. He had wrapped the ring in a handwritten note and placed it inside a small woven bag from the market, which he handed her as if it was a gift from the trip. She thought it was a bracelet. When she unfolded the note and read it, her hands started shaking before she even opened the box. She says the cenote proposal was the most beautiful thing she has ever seen. She means the ring. He thinks she means the cenote.</p>
          <div class="insp-story-meta">
            <span>💧 Cenote</span><span>🔒 Private</span><span>$$$</span><span>Tulum</span>
          </div>
          <button class="insp-read-more" onclick="openStoryPage('tulum')">Read the full story →</button>
        </div>
      </article>

      <article class="insp-story" id="story-algarve">
        <div class="insp-story-img">
          <div class="insp-story-img-bg" style="background:linear-gradient(rgba(0,0,0,0.25),rgba(0,0,0,0.5)),url('https://images.unsplash.com/photo-1555881400-74d7acaacd8b?w=800&q=75&fit=crop') center/cover"></div>
          <div class="insp-story-loc">Benagil Sea Cave · Algarve, Portugal</div>
        </div>
        <div class="insp-story-body">
          <span class="insp-story-eyebrow">Algarve · September 2024</span>
          <h2 class="insp-story-title">He kayaked into a hidden sea cave with a ring in a dry bag.</h2>
          <p class="insp-story-text">Most visitors to the Benagil Cave in the Algarve arrive by boat with thirty other tourists. Ben arranged a private kayak at golden hour, when the tour boats are gone and the cave fills with horizontal evening light. He had the ring in a waterproof dry bag strapped to the bow. They paddled through the narrow entrance and emerged inside the cave as the light poured through the natural skylight in the ceiling, turning the water gold. He stopped paddling, reached for the dry bag, and asked. The cave acoustics, she later noted, made the yes sound magnificent. He proposes she exaggerated. She maintains she did not.</p>
          <div class="insp-story-meta">
            <span>🌊 Ocean</span><span>🔒 Private</span><span>$$</span><span>Algarve, Portugal</span>
          </div>
          <button class="insp-read-more" onclick="openStoryPage('algarve')">Read the full story →</button>
        </div>
      </article>

      <article class="insp-story rev" id="story-provence">
        <div class="insp-story-img">
          <div class="insp-story-img-bg" style="background:linear-gradient(rgba(0,0,0,0.3),rgba(0,0,0,0.5)),url('https://images.unsplash.com/photo-1499856871958-5b9357976b82?w=800&q=75&fit=crop') center/cover"></div>
          <div class="insp-story-loc">Valensole Lavender Fields · Provence, France</div>
        </div>
        <div class="insp-story-body">
          <span class="insp-story-eyebrow">South of France · July 2024</span>
          <h2 class="insp-story-title">He had written her letters for three years. She didn't know until the lavender field.</h2>
          <p class="insp-story-text">Marc had been writing letters to Isabelle for three years — not sending them, just writing them, folding them, and placing them inside a small leather-bound book he kept in his desk drawer. The morning of the proposal, he arranged a private sunset access to a lavender farm near Valensole, just as the fields were at peak bloom. He told her a photographer friend wanted to do a portrait session. She wore a white dress, which she later said was entirely a coincidence, though no one believes her. When they reached the far edge of the field, he handed her the book. She read three letters before she understood what was happening. She didn't need to read the fourth.</p>
          <div class="insp-story-meta">
            <span>🌾 Rural</span><span>🔒 Private</span><span>$$$</span><span>South of France</span>
          </div>
          <button class="insp-read-more" onclick="openStoryPage('provence')">Read the full story →</button>
        </div>
      </article>

      <article class="insp-story" id="story-switzerland">
        <div class="insp-story-img">
          <div class="insp-story-img-bg" style="background:linear-gradient(rgba(0,0,0,0.25),rgba(0,0,0,0.5)),url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&q=75&fit=crop') center/cover"></div>
          <div class="insp-story-loc">Bernese Oberland · Switzerland</div>
        </div>
        <div class="insp-story-body">
          <span class="insp-story-eyebrow">Switzerland · October 2024</span>
          <h2 class="insp-story-title">A private cable car. Dusk. The Jungfrau. He had the date engraved inside.</h2>
          <p class="insp-story-text">Oliver arranged a private cable car access in the Bernese Oberland at dusk — a spot known to locals but almost never found by visitors, with an unobstructed view of the Jungfrau as the last light hit the snowfields. He had the date they first met engraved on the inside of the band, which Claire only discovered the following morning. She spent the entire gondola ride convinced they were just going for dinner. When they stepped out onto the platform above the valley, the sun was setting behind the Eiger and there was nobody else anywhere. She describes the silence as the loudest thing she has ever experienced. He says she cried before he said a word.</p>
          <div class="insp-story-meta">
            <span>⛰ Mountain</span><span>🔒 Private</span><span>$$$$</span><span>Switzerland</span>
          </div>
          <button class="insp-read-more" onclick="openStoryPage('switzerland')">Read the full story →</button>
        </div>
      </article>

      <article class="insp-story rev" id="story-nicaragua">
        <div class="insp-story-img">
          <div class="insp-story-img-bg" style="background:linear-gradient(rgba(0,0,0,0.35),rgba(0,0,0,0.6)),url('https://images.unsplash.com/photo-1605649487212-47bdab064df7?w=800&q=75&fit=crop') center/cover"></div>
          <div class="insp-story-loc">Isla de Ometepe · Nicaragua</div>
        </div>
        <div class="insp-story-body">
          <span class="insp-story-eyebrow">Nicaragua · January 2024</span>
          <h2 class="insp-story-title">No roads. No other tourists. Two volcanos. She had no idea.</h2>
          <p class="insp-story-text">Ryan spent three days on Ometepe before Natalie arrived — meeting locals, learning the island, and eventually finding a boatman willing to take them to a black sand cove accessible only by water, on the far side of the island where the two volcanos meet the lake. No roads reach it. No tour boats stop there. He told Natalie they were exploring. When the boat rounded the headland and they saw the cove — obsidian sand, a wall of jungle, two perfect volcanic peaks reflected in the water — she said it was the most beautiful place she had ever seen. He said he agreed. Then he reached into his bag. She later said she suspected nothing, which everyone who knows Ryan considers the most unbelievable part of the story.</p>
          <div class="insp-story-meta">
            <span>🌋 Volcano</span><span>🔒 Private</span><span>$$</span><span>Nicaragua</span>
          </div>
          <button class="insp-read-more" onclick="openStoryPage('nicaragua')">Read the full story →</button>
        </div>
      </article>

    </div>
    <!-- CTA -->
    <div class="pg-cta-strip">
      <p class="pg-eyebrow" style="text-align:center">Your story starts here</p>
      <h2 class="pg-cta-strip-title">Find the place that<br>becomes your story.</h2>
      <p class="pg-cta-strip-sub">Explore our curated collection of the world's finest proposal locations.</p>
      <button class="pg-cta-btn" onclick="showPage('home')">Explore Proposal Spots →</button>
    </div>
  </div>
</div>

<!-- ═══ HOW IT WORKS PAGE ═══ -->
<div id="page-how-it-works" class="page" style="display:none">
  <div class="pg-hiw">
    <div class="hiw-header">
      <span class="pg-eyebrow" style="text-align:center;display:block">Simple by design</span>
      <h1 class="hiw-title">From idea to<br><strong>unforgettable.</strong></h1>
      <p class="hiw-sub">We are the only curated global platform for the world's finest proposal experiences. Every spot is hand-selected. Every detail has been considered. All you have to do is show up.</p>
    </div>

    <div class="hiw-flow">
      <div class="hiw-step">
        <div class="hiw-step-num">01</div>
        <div class="hiw-step-track"></div>
        <div class="hiw-step-content">
          <div class="hiw-step-icon">✦</div>
          <h3 class="hiw-step-title">Explore the Collection</h3>
          <p class="hiw-step-body">Browse our curated archive of the world's most extraordinary proposal locations. Search by destination, vibe, privacy, and budget. Every listing has been personally vetted — we only add places we would genuinely propose at ourselves. No padding, no compromises.</p>
        </div>
      </div>
      <div class="hiw-step">
        <div class="hiw-step-num">02</div>
        <div class="hiw-step-track"></div>
        <div class="hiw-step-content">
          <div class="hiw-step-icon">◈</div>
          <h3 class="hiw-step-title">Choose Your Spot</h3>
          <p class="hiw-step-body">Each proposal spot comes with a full description, a step-by-step proposal plan, recommended photographers, hotel pairings, and everything you need to understand the experience before you commit. We give you all the information, so the moment can be entirely yours.</p>
        </div>
      </div>
      <div class="hiw-step">
        <div class="hiw-step-num">03</div>
        <div class="hiw-step-track"></div>
        <div class="hiw-step-content">
          <div class="hiw-step-icon">⬡</div>
          <h3 class="hiw-step-title">Book Your Experience</h3>
          <p class="hiw-step-body">Connect directly with our partner hotels and venues through Proposal Spots. Every partner has been briefed on what a proposal requires: discretion, attention to detail, and the ability to make everything feel seamless. They are expecting you, and they are ready.</p>
        </div>
      </div>
      <div class="hiw-step">
        <div class="hiw-step-num">04</div>
        <div class="hiw-step-track"></div>
        <div class="hiw-step-content">
          <div class="hiw-step-icon">✦</div>
          <h3 class="hiw-step-title">Create the Memory</h3>
          <p class="hiw-step-body">The rest is yours. We have done the curation, the research, the vetting. You bring the love. The result is a moment neither of you will ever forget — and a story worth telling for the rest of your lives together.</p>
        </div>
      </div>
    </div>

    <div class="hiw-trust">
      <div class="hiw-trust-inner">
        <div class="hiw-trust-stat">
          <span class="hiw-trust-num">11</span>
          <div class="hiw-trust-label">Destination Markets</div>
        </div>
        <div class="hiw-trust-div"></div>
        <div class="hiw-trust-stat">
          <span class="hiw-trust-num">140+</span>
          <div class="hiw-trust-label">Curated Spots</div>
        </div>
        <div class="hiw-trust-div"></div>
        <div class="hiw-trust-stat">
          <span class="hiw-trust-num">100%</span>
          <div class="hiw-trust-label">Hand-Vetted</div>
        </div>
        <div class="hiw-trust-div"></div>
        <div class="hiw-trust-stat">
          <span class="hiw-trust-num">0</span>
          <div class="hiw-trust-label">Random Listings</div>
        </div>
      </div>
    </div>

    <!-- TWO EXPERIENCES EXPLAINER -->
    <div class="hiw-experiences">
      <div class="hiw-exp-header">
        <span class="pg-eyebrow" style="text-align:center;display:block;margin-bottom:12px">Two ways to use Proposal Spots</span>
        <h2 class="hiw-exp-title">Not sure which is right for you?</h2>
        <p class="hiw-exp-sub">Every spot on Proposal Spots falls into one of two categories. Here is the difference — in plain terms.</p>
      </div>
      <div class="hiw-exp-grid">
        <div class="hiw-exp-card">
          <div class="hiw-exp-badge">Just the Moment</div>
          <h3 class="hiw-exp-card-title">You're already going.<br>We find you the spot.</h3>
          <p class="hiw-exp-card-body">You have a trip booked — or you're already travelling — and you want to find the right place to propose. You don't need a hotel recommendation. You don't need a full package. You need the exact right location: private, beautiful, and perfectly timed.</p>
          <p class="hiw-exp-card-body">This is where Proposal Spots excels. We map every proposal-worthy location in a destination — cliff paths, secret beaches, viewpoints, courtyards — so you can browse, compare, and choose the one that feels like yours.</p>
          <ul class="hiw-exp-list">
            <li>✦ Curated spot with exact location details</li>
            <li>✦ Best time of day guidance</li>
            <li>✦ Privacy rating &amp; crowd info</li>
            <li>✦ Photographer recommendations</li>
            <li>✦ No booking required</li>
          </ul>
          <div class="hiw-exp-ideal">Ideal if: You're planning a trip around the proposal, or you want flexibility.</div>
          <button class="hiw-exp-btn" onclick="setIntent('moment'); showPage('home')">Browse Moments →</button>
        </div>
        <div class="hiw-exp-card hiw-exp-card-dark">
          <div class="hiw-exp-badge hiw-exp-badge-light">Hotel &amp; Stay</div>
          <h3 class="hiw-exp-card-title" style="color:var(--bg)">The whole experience,<br>from arrival to yes.</h3>
          <p class="hiw-exp-card-body" style="color:rgba(244,241,235,0.75)">You want the proposal to be the centrepiece of something bigger. A property where she falls in love with the room before you even ask. A dinner that sets the scene. A location where every detail — the view from the bed, the terrace at sunset, the staff who already know — is part of the plan.</p>
          <p class="hiw-exp-card-body" style="color:rgba(244,241,235,0.75)">These are hotels and eco-lodges we've selected specifically for their proposal potential. They understand discretion. They're briefed on what a proposal requires. You arrive, and everything is already working in your favour.</p>
          <ul class="hiw-exp-list hiw-exp-list-light">
            <li>✦ Curated hotel with proposal-ready staff</li>
            <li>✦ Room &amp; suite recommendations</li>
            <li>✦ Private dining options</li>
            <li>✦ Proposal setup coordination</li>
            <li>✦ Direct booking via Proposal Spots</li>
          </ul>
          <div class="hiw-exp-ideal" style="color:rgba(244,241,235,0.5); border-color:rgba(244,241,235,0.15)">Ideal if: You want the entire trip to feel like the proposal.</div>
          <button class="hiw-exp-btn hiw-exp-btn-light" onclick="setIntent('stay'); showPage('home')">Browse Hotel Stays →</button>
        </div>
      </div>
    </div>

    <div class="pg-cta-strip">
      <h2 class="pg-cta-strip-title">The world's best proposal<br>experiences, curated for you.</h2>
      <p class="pg-cta-strip-sub">Start with a destination, or let the map guide you.</p>
      <button class="pg-cta-btn" onclick="showPage('home')">Start Exploring →</button>
    </div>
  </div>
</div>

<!-- ═══ ABOUT PAGE ═══ -->
<div id="page-about" class="page" style="display:none">
  <div class="pg-about">

    <!-- HERO -->
    <div class="about-hero">
      <div class="about-hero-bg"></div>
      <div class="about-hero-content">
        <span class="pg-eyebrow" style="color:rgba(165,90,74,0.85); margin-bottom:20px; display:block">About Proposal Spots</span>
        <h1 class="about-hero-title">There is one question<br>that changes <em>everything.</em></h1>
        <p class="about-hero-sub">It deserves more than a last-minute plan.<br>It deserves intention. Beauty. A setting worthy of the moment.</p>
      </div>
    </div>

    <!-- OPENING STATEMENT -->
    <div class="about-opening">
      <div class="about-opening-inner">
        <p class="about-opening-text">A marriage proposal is not an event. It is the beginning of a story — the first sentence of a chapter that will be told for the rest of a lifetime. The location is not a backdrop. It is part of the memory. The light, the silence, the feeling of being somewhere that made everything feel possible — these details are not decorative. They are the difference between a moment and an unforgettable one.</p>
        <p class="about-opening-text">Proposal Spots was built on a single belief: that the most important question of your life deserves the most considered setting in the world.</p>
      </div>
    </div>

    <!-- PHILOSOPHY -->
    <div class="about-section about-section-alt">
      <div class="about-section-inner">
        <div class="about-section-label">Our Philosophy</div>
        <h2 class="about-section-title">Curation is<br>an act of <em>care.</em></h2>
        <div class="about-philosophy-grid">
          <div class="about-phil-item">
            <div class="about-phil-num">—</div>
            <h3 class="about-phil-title">Atmosphere matters</h3>
            <p class="about-phil-body">The right setting creates an emotional state that no amount of planning can manufacture. We search for places that already carry weight — locations where the air feels different, where the light arrives perfectly, where the world seems to slow down.</p>
          </div>
          <div class="about-phil-item">
            <div class="about-phil-num">—</div>
            <h3 class="about-phil-title">Privacy is non-negotiable</h3>
            <p class="about-phil-body">A proposal is one of the most vulnerable moments a person will ever experience. It should never happen in a crowd. We prioritise locations and experiences that offer genuine seclusion — where the only witness is the person you love.</p>
          </div>
          <div class="about-phil-item">
            <div class="about-phil-num">—</div>
            <h3 class="about-phil-title">Details are the experience</h3>
            <p class="about-phil-body">The timing of arrival, the position of the sun, the distance to the nearest hotel — every detail changes the outcome. We document each one. Because we believe the person planning this moment deserves to feel completely prepared, and completely calm.</p>
          </div>
          <div class="about-phil-item">
            <div class="about-phil-num">—</div>
            <h3 class="about-phil-title">Curation over volume</h3>
            <p class="about-phil-body">We do not list everything. We list what we would genuinely recommend. Every spot on this platform has been reviewed for its emotional quality — not just its photography. If it does not move us, it does not make the list.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- WHAT MAKES US DIFFERENT -->
    <div class="about-section">
      <div class="about-section-inner">
        <div class="about-section-label">What Makes Us Different</div>
        <h2 class="about-section-title">Two ways to<br>experience a <em>proposal.</em></h2>
        <p class="about-diff-intro">We design for two distinct intentions. Both are curated. Both are extraordinary.</p>
        <div class="about-diff-grid">
          <div class="about-diff-card">
            <div class="about-diff-num">01</div>
            <h3 class="about-diff-title">The Proposal Moment</h3>
            <p class="about-diff-body">For those who already have the destination. We provide the exact location — a private cliff, a hidden terrace, a secluded beach — along with a step-by-step proposal plan, photographer recommendations, and every practical detail needed to execute the moment with complete confidence.</p>
            <div class="about-diff-tag">Location · Planning · Photography</div>
          </div>
          <div class="about-diff-card about-diff-card-dark">
            <div class="about-diff-num" style="color:rgba(165,90,74,0.7)">02</div>
            <h3 class="about-diff-title" style="color:rgba(253,252,250,0.95)">The Full Destination Experience</h3>
            <p class="about-diff-body" style="color:rgba(244,241,235,0.6)">For those building the entire trip around the proposal. We combine a curated proposal location with a hand-selected hotel or eco-lodge — properties that understand what this moment requires, and are prepared to make it seamless from arrival to the morning after.</p>
            <div class="about-diff-tag" style="color:rgba(165,90,74,0.8); border-color:rgba(165,90,74,0.3)">Location · Hotel · Full Experience</div>
          </div>
        </div>
      </div>
    </div>

    <!-- OUR PROCESS -->
    <div class="about-section about-section-alt">
      <div class="about-section-inner">
        <div class="about-section-label">Our Process</div>
        <h2 class="about-section-title">From discovery<br>to the <em>moment.</em></h2>
        <div class="about-process-steps">
          <div class="about-process-step">
            <div class="about-process-n">01</div>
            <div class="about-process-content">
              <h3 class="about-process-title">Discover the location</h3>
              <p class="about-process-body">Browse our curated archive by destination, vibe, privacy, and budget. Every listing includes a full description, photo documentation, access details, and an honest assessment of what the experience actually feels like.</p>
            </div>
          </div>
          <div class="about-process-step">
            <div class="about-process-n">02</div>
            <div class="about-process-content">
              <h3 class="about-process-title">Choose your experience</h3>
              <p class="about-process-body">Select the proposal moment that matches your vision — whether that is a private jungle deck at sunset, a cliffside terrace above the sea, or an overwater villa at the end of the world. Then decide how much of the surrounding experience you want us to curate.</p>
            </div>
          </div>
          <div class="about-process-step">
            <div class="about-process-n">03</div>
            <div class="about-process-content">
              <h3 class="about-process-title">We coordinate with the venue</h3>
              <p class="about-process-body">Our partner hotels and venues have been briefed on what a proposal requires. Discretion. Timing. The ability to make everything feel effortless. We handle the communication, the setup confirmation, and any special arrangements — so you arrive with nothing left to worry about.</p>
            </div>
          </div>
          <div class="about-process-step">
            <div class="about-process-n">04</div>
            <div class="about-process-content">
              <h3 class="about-process-title">The moment happens</h3>
              <p class="about-process-body">Everything is in place. The location has been chosen with care, the details have been considered, and the people around you know their role. All that remains is the question — and the answer that begins the rest of your life together.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- GLOBAL VISION -->
    <div class="about-vision">
      <div class="about-vision-inner">
        <span class="pg-eyebrow" style="color:rgba(165,90,74,0.8); margin-bottom:20px; display:block; text-align:center">Our Vision</span>
        <h2 class="about-vision-title">Love is universal.<br>The setting should <em>be too.</em></h2>
        <p class="about-vision-body">We are building the world's most comprehensive archive of proposal locations — from volcanic islands in Central America to the clifftops of the Amalfi Coast, from overwater villas in the Maldives to hidden mountain lakes in the Swiss Alps. Every culture, every continent, every kind of love.</p>
        <p class="about-vision-body">Our belief is simple: the way proposals are planned needs to change. The information exists — the extraordinary places, the experienced photographers, the hotels that do this beautifully. It has just never been gathered, curated, and presented in one place. Until now.</p>
        <div class="about-vision-stats">
          <div class="about-vision-stat">
            <span class="about-vision-num">11</span>
            <span class="about-vision-label">Destination Markets</span>
          </div>
          <div class="about-vision-div"></div>
          <div class="about-vision-stat">
            <span class="about-vision-num">140+</span>
            <span class="about-vision-label">Curated Spots</span>
          </div>
          <div class="about-vision-div"></div>
          <div class="about-vision-stat">
            <span class="about-vision-num">100%</span>
            <span class="about-vision-label">Hand-Selected</span>
          </div>
        </div>
      </div>
    </div>

    <!-- CLOSING -->
    <div class="pg-cta-strip" style="background:var(--ink)">
      <p class="pg-eyebrow" style="color:rgba(165,90,74,0.8); text-align:center; margin-bottom:20px">The beginning</p>
      <h2 class="pg-cta-strip-title" style="color:rgba(253,252,250,0.95)">One question.<br>A lifetime of <em style="font-family:'Cormorant',serif">yes.</em></h2>
      <p class="pg-cta-strip-sub" style="color:rgba(244,241,235,0.5)">Find the place where you want to ask it.</p>
      <button class="pg-cta-btn" onclick="showPage('home')" style="background:rgba(244,241,235,0.95); color:var(--ink);">Explore the Collection →</button>
    </div>

  </div>
</div>

<!-- ═══ FOR HOTELS PAGE ═══ -->
<div id="page-for-hotels" class="page" style="display:none">
  <div class="pg-hotels">
    <!-- Hero -->
    <div class="pg-dark-hero">
      <div class="pg-dark-hero-bg hotels-hero-bg"></div>
      <div class="pg-dark-hero-content">
        <span class="pg-eyebrow" style="color:rgba(165,90,74,0.8)">Partner with us</span>
        <h1 class="pg-dark-hero-title">Be the place<br>they say <em>yes.</em></h1>
        <p class="pg-dark-hero-sub">We bring the world's most intentional travellers to the world's most remarkable properties.</p>
      </div>
    </div>

    <div class="hotels-body">
      <!-- Pitch -->
      <div class="hotels-pitch">
        <div class="hotels-pitch-text">
          <span class="pg-eyebrow">Why Proposal Spots</span>
          <h2 class="hotels-pitch-title">We don't list hotels.<br>We <strong>position</strong> them.</h2>
          <p>The couple planning a proposal is among the most valuable guests in luxury travel. They are emotionally committed to the experience. They spend more. They stay longer. They return on anniversaries. They refer. And they remember — forever — where they were when it happened.</p>
          <p>We place your property in front of this exact audience. Not through broad advertising. Through curated, editorial trust — built deliberately, for the guest who has already decided they want the very best.</p>
          <p>We are selective. We do not list every hotel. We list the properties we believe are genuinely worthy of a life-changing moment. That selectivity is precisely what makes a placement here meaningful — and commercially powerful.</p>
        </div>
        <div class="hotels-aside">
          <div class="hotels-aside-card">
            <span class="hotels-aside-num">140+</span>
            <div class="hotels-aside-label">Curated proposal experiences</div>
          </div>
          <div class="hotels-aside-card">
            <span class="hotels-aside-num">11</span>
            <div class="hotels-aside-label">Destination markets</div>
          </div>
          <div class="hotels-aside-card">
            <span class="hotels-aside-num">100%</span>
            <div class="hotels-aside-label">Intent-driven audience</div>
          </div>
        </div>
      </div>

      <!-- Pillars -->
      <div class="hotels-pillars">
        <div class="hotels-pillar">
          <div class="hotels-pillar-icon">◈</div>
          <h3>Editorial Positioning</h3>
          <p>Your property is presented as a destination for life's most meaningful moments — not as one listing among thousands. We write your story, not just your address.</p>
        </div>
        <div class="hotels-pillar">
          <div class="hotels-pillar-icon">✦</div>
          <h3>Highest Purchase Intent</h3>
          <p>Every visitor to Proposal Spots is actively planning a proposal. The emotional commitment — and spend — is unlike any other travel audience. They are ready to book.</p>
        </div>
        <div class="hotels-pillar">
          <div class="hotels-pillar-icon">⬡</div>
          <h3>Global Qualified Reach</h3>
          <p>Our audience spans the US, UK, Canada, Australia, Germany and Switzerland — the world's highest-spending proposal markets. Real buyers. Real intent.</p>
        </div>
      </div>

      <!-- Form -->
      <div class="hotels-form-section">
        <span class="pg-eyebrow">Join the collection</span>
        <h2 class="hotels-form-title">Apply to Join</h2>
        <p class="hotels-form-sub">We review every application personally. If your property meets our standards, we'll be in touch within 5 business days.</p>
        <form class="hf-form" id="hf-form" onsubmit="submitHotelForm(event)">
          <div class="hf-row">
            <div class="hf-field">
              <label>Hotel Name</label>
              <input type="text" placeholder="The Grand Positano" required>
            </div>
            <div class="hf-field">
              <label>Contact Name</label>
              <input type="text" placeholder="Your full name" required>
            </div>
          </div>
          <div class="hf-row">
            <div class="hf-field">
              <label>Contact Email</label>
              <input type="email" placeholder="you@hotel.com" required>
            </div>
            <div class="hf-field">
              <label>Phone / WhatsApp</label>
              <input type="tel" placeholder="+1 000 000 0000">
            </div>
          </div>
          <div class="hf-field">
            <label>Property Location</label>
            <input type="text" placeholder="City, Country" required>
          </div>
          <button type="submit" class="hf-submit">Submit Application</button>
        </form>
        <div class="hf-confirm" id="hf-confirm" style="display:none">
          <div class="hf-confirm-icon">✦</div>
          <h3 class="hf-confirm-title">Thank you for applying.</h3>
          <p class="hf-confirm-text">We will review your submission carefully and reach out shortly. We're genuinely excited about the possibility of creating unforgettable moments together.</p>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
// ═══════════════════════════════════════════════════════════
//  STATE — must be declared first
// ═══════════════════════════════════════════════════════════
const state = {
  vibe: new Set(),
  privacy: new Set(),
  food: new Set(),
  time: new Set(),
  effort: new Set(),
  budget: new Set(),
  country: new Set(),
  toggles: { heels: false }
};

// ═══════════════════════════════════════════════════════════
//  AIRTABLE CONFIGURATION
//  ─────────────────────────────────────────────────────────
//  When you have your credentials, replace the three values
//  below and set AIRTABLE_LIVE = true.
//  That's the only change needed to go fully live.
// ═══════════════════════════════════════════════════════════
const AIRTABLE_LIVE  = true;
const AIRTABLE_BASE  = 'appN5GFcdPJvU1qff';
const AIRTABLE_TABLE = 'tblgpEUkpph612Hw5';
const AIRTABLE_TOKEN = 'AIRTABLE_TOKEN_PLACEHOLDER';

// ─────────────────────────────────────────────────────────
//  LIVE FETCH FROM AIRTABLE (direct — no backend needed for
//  read-only public data, but token is visible in source.
//  For production, proxy through Vercel — see comments.)
// ─────────────────────────────────────────────────────────
async function fetchFromAirtable() {
  try {
    // Call our secure Vercel proxy — token never exposed in browser
    const response = await fetch('/api/spots');

    if (!response.ok) {
      console.error('API error:', response.status);
      console.warn('→ Falling back to mock data.');
      return MOCK_SPOTS;
    }

    const data = await response.json();

    if (!data.records?.length) {
      console.warn('API returned 0 records. Check Status field is set to "Published" in Airtable.');
      return MOCK_SPOTS;
    }

    console.log(`✓ Airtable: loaded ${data.records.length} spots`);

    return data.records.map(r => {
      const f = r.fields;

      const rawPrivacy = f['Privacy'] || '';
      const privacy = rawPrivacy.includes('Private') ? 'Private'
        : rawPrivacy.includes('Light') ? 'Light Crowd'
        : rawPrivacy.includes('Moderate') ? 'Moderate Crowd'
        : rawPrivacy.includes('Everyone') ? 'Everyone Will See'
        : rawPrivacy;

      const rawBudget = f['Budget'] || '';
      const budget = rawBudget === 'Free' ? 'Free'
        : rawBudget === 'Moderate' ? '$$'
        : rawBudget === 'Expensive' ? '$$$'
        : rawBudget === 'Luxury' ? '$$$$'
        : rawBudget;

      // Vibe Secondary — multi-select, filter out non-vibe values like "Luxury"
      const vibeOptions = new Set(['Beach','Mountain','Cliff','Lake','Volcano','Ocean','City','Jungle','Rural','Boat']);
      const vibeSecondaryArr = Array.isArray(f['Vibe Secondary'])
        ? f['Vibe Secondary'].filter(v => vibeOptions.has(v))
        : (f['Vibe Secondary'] ? [f['Vibe Secondary']] : []);

      const otherVibeArr = Array.isArray(f['Other Vibe'])
        ? f['Other Vibe']
        : (f['Other Vibe'] ? [f['Other Vibe']] : []);

      // Best Time — can be string or array
      const bestTime = Array.isArray(f['Best Time'])
        ? f['Best Time']
        : (f['Best Time'] ? [f['Best Time']] : []);

      // Heel / Dress Friendly — note the double space in the actual field name
      const heelFriendly = f['Heel / Dress  Friendly'] === 'Yes' 
        || f['Heel / Dress Friendly'] === 'Yes'
        || f['Heel / Dress  Friendly'] === true
        || f['Heal / Dress Friendly'] === true
        || false;

      return {
        id:                      r.id,
        Name:                    f['Spot Name']               || f['Name'] || '',
        Country:                 f['Country']                 || '',
        Region:                  f['Region / Town']           || f['Region'] || '',
        Vibe:                    f['Vibe']                    || '',
        'Vibe Secondary':        vibeSecondaryArr[0]          || '',
        'Vibe Secondary All':    vibeSecondaryArr,
        'Other Vibe':            otherVibeArr,
        Privacy:                 privacy,
        Budget:                  budget,
        'Best Time':             bestTime,
        'Food & Drinks':         f['Food & Drinks']           || '',
        'Access & Effort':       f['Access & Effort']         || '',
        'Access Details':        f['Access Details']          || '',
        'Heal / Dress Friendly': heelFriendly,
        'Line Summary':          f['Line Summary']            || '',
        'Full Summary':          f['Full Summary']            || '',
        'Proposal Plan Steps':   f['Proposal Plan Steps']     || '',
        'Cover Photo':           f['Cover Photo']?.[0]?.url   || null,
        'Gallery Photos':        (f['Gallery Photos'] || []),
        'Recommended Photographer': f['Recommended Photographer'] || '',
        'Google Maps Link':      f['Google Maps Link']        || '',
        'Linked Hotel / Venue':  f['Linked Hotel / Venue']    || '',
        Published:               true,
        badge:                   f['Badge']                   || null,
        coverGradient:           f['Cover Gradient']          || 'linear-gradient(160deg,#28342c,#1e2835)',
        'Price Moment':           f['Price Moment']            || null,
        'Price Hotel Per Night':  f['Price Hotel Per Night']   || null,
        'Price Photographer':     f['Price Photographer']      || null,
        'Photographer Note':     f['Photographer Note']       || '',
        'Peak Months':           f['Peak Months']             || '',
        'Low Months':            f['Low Months']              || '',
        'Peak Multiplier':       f['Peak Multiplier']         || 1.3,
        'Low Multiplier':        f['Low Multiplier']          || 0.85,
      };
    });
  } catch (err) {
    console.error('API fetch failed:', err);
    return MOCK_SPOTS;
  }
}

// ─────────────────────────────────────────────────────────
//  MOCK DATA (used when AIRTABLE_LIVE = false)
// ─────────────────────────────────────────────────────────
const MOCK_SPOTS = [
  {
    id: 'recJrPfNWsskQYBxP',
    Name: 'Ometepe Volcano View',
    Country: 'Nicaragua',
    Region: 'Ometepe Island',
    Vibe: 'Volcano',
    'Vibe Secondary': 'Mountain',
    'Vibe Secondary All': ['Mountain', 'Lake', 'Jungle'],
    'Other Vibe': [],
    Privacy: 'Private',
    Budget: '$$',
    'Best Time': ['Sunset'],
    'Food & Drinks': '',
    'Access & Effort': 'Easy',
    'Access Details': 'Very accessible by car and parking at the hotel',
    'Heal / Dress Friendly': true,
    'Line Summary': 'Private luxury meditation deck overlooking Concepción Volcano and Lake Nicaragua, located at Totoco Eco-Lodge.',
    'Full Summary': 'An elevated jungle meditation viewpoint at Totoco Eco-Lodge on Ometepe Island, offering uninterrupted sunset views of Concepción Volcano and Lake Nicaragua.',
    'Proposal Plan Steps': '1. Coordinate in advance with the Totoco Eco-Lodge owner to reserve the private meditation deck.\n2. Stage the experience as a casual sunset photo session. Plan to arrive around 4:00 PM for cocktails on the deck.\n3. A hidden photographer can position discreetly in advance.\n4. The ideal proposal window is around 5:00 PM as the light softens and Concepción Volcano glows.\n5. After the proposal, celebrate with champagne — Totoco can arrange a dramatic machete bottle opening.\n6. Transition into a fully private dinner on the same deck from 5:15–6:00 PM.',
    'Cover Photo': 'https://images.unsplash.com/photo-1605649487212-47bdab064df7?w=1200&q=80&fit=crop',
    'Gallery Photos': [
      { url: 'https://images.unsplash.com/photo-1605649487212-47bdab064df7?w=900&q=80&fit=crop' },
      { url: 'https://images.unsplash.com/photo-1544735716-392fe2489ffa?w=900&q=80&fit=crop' },
      { url: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=900&q=80&fit=crop' },
      { url: 'https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?w=900&q=80&fit=crop' },
    ],
    'Recommended Photographer': 'Local Ometepe Co.',
    'Google Maps Link': 'https://maps.app.goo.gl/hJyoWPFnHUb837b5A',
    'Linked Hotel / Venue': 'Totoco Eco-Lodge',
    Published: true,
    badge: 'Staff Pick',
    coverGradient: 'linear-gradient(160deg,#28342c,#1e2835)',
    'Price Moment': 297,
    'Price Hotel Per Night': 110,
    'Price Photographer': 380,
    'Photographer Note': '2hr coverage · 60 edited photos · delivered in 7 days',
    'Peak Months': '1,2,3',
    'Low Months': '9,10',
    'Peak Multiplier': 1.25,
    'Low Multiplier': 0.82
  }
];

// ─────────────────────────────────────────────────────────
//  MASTER FETCH — switches between live and mock
// ─────────────────────────────────────────────────────────
async function fetchSpots() {
  if (AIRTABLE_LIVE) {
    return await fetchFromAirtable();
  }
  return MOCK_SPOTS.filter(s => s.Published === true);
}

let allSpots = [];

// ─────────────────────────────────────────────────────────
//  RENDER SPOT CARDS
// ─────────────────────────────────────────────────────────
function renderSpots(spots) {
  const grid  = document.getElementById('spots-grid');
  const empty = document.getElementById('spots-empty');
  const countEl = document.getElementById('spots-count');
  const eyebrow = document.getElementById('spots-eyebrow');
  const title   = document.getElementById('spots-title');

  // Detect if any filters are active
  const filtersActive = state.vibe.size > 0 || state.privacy.size > 0 ||
    state.budget.size > 0 || state.food.size > 0 || state.time.size > 0 ||
    state.effort.size > 0 || state.toggles.heels ||
    (document.getElementById('search-main')?.value || '').trim().length > 0;

  // Update section header
  if (filtersActive) {
    if (eyebrow) eyebrow.textContent = 'Filtered results';
    if (title) title.innerHTML = `<strong>${spots.length}</strong> spot${spots.length !== 1 ? 's' : ''} found`;
    if (countEl) countEl.style.display = 'none';
  } else {
    if (eyebrow) eyebrow.textContent = 'Hand-selected';
    if (title) title.innerHTML = `Editor's <strong>Picks</strong>`;
    if (countEl) {
      countEl.innerHTML = `<strong>${spots.length}</strong> spots`;
      countEl.style.display = '';
    }
  }

  if (!spots.length) {
    grid.innerHTML = '';
    empty.style.display = 'block';
    return;
  }
  empty.style.display = 'none';

  const privacyEmoji = {
    'Private': '🔒', 'Light Crowd': '👥',
    'Moderate Crowd': '👥👥', 'Everyone Will See': '👥👥👥'
  };

  grid.innerHTML = spots.map(s => {
    const imgStyle = s['Cover Photo']
      ? `background-image:url('${s['Cover Photo']}');background-size:cover;background-position:center;`
      : `background:${s.coverGradient || 'var(--bg3)'};`;
    const badge = s.badge ? `<span class="spot-card-badge">${s.badge}</span>` : '';
    const vibes = [s.Vibe, s['Vibe Secondary']].filter(Boolean);
    const vibeTags = vibes.map(v => `<span class="spot-card-tag">${v}</span>`).join('');
    const privacy = s.Privacy || '';
    const privLabel = `${privacyEmoji[privacy] || ''} ${privacy}`.trim();

    return `
      <div class="spot-card" onclick="openSpotDrawer('${s.id}')" style="cursor:pointer">
        <div class="spot-card-img">
          <div class="img-bg" style="${imgStyle}"></div>
          ${badge}
          <div class="spot-save" data-spot-id="${s.id}" onclick="toggleSaveSpot(event,'${s.id}')">♡</div>
        </div>
        <div class="spot-card-body">
          <span class="spot-card-market">${s.Region} · ${s.Country}</span>
          <div class="spot-card-name">${s.Name}</div>
          <p class="spot-card-summary">${s['Line Summary'] || ''}</p>
          <div class="spot-card-tags">${vibeTags}</div>
          <div class="spot-card-footer">
            <span class="spot-card-budget">${s.Budget || ''}</span>
            <span class="spot-card-privacy">${privLabel}</span>
          </div>
        </div>
      </div>`;
  }).join('');
}

// ─────────────────────────────────────────────────────────
//  SPOT DETAIL DRAWER
// ─────────────────────────────────────────────────────────
// Track where user came from so back button works correctly
let spotReturnPage = 'home';

function openSpotDrawer(id) {
  const s = allSpots.find(x => x.id === id);
  if (!s) return;

  // Remember which page we came from
  const activePage = document.querySelector('.page.active');
  spotReturnPage = activePage ? activePage.id.replace('page-', '') : 'home';

  const privacyEmoji = { 'Private':'🔒','Light Crowd':'👥','Moderate Crowd':'👥👥','Everyone Will See':'👥👥👥' };

  // Hero
  const bg = document.getElementById('sdp-hero-bg');
  if (s['Cover Photo']) {
    bg.style.backgroundImage = `url('${s['Cover Photo']}')`;
    bg.style.backgroundSize = 'cover';
    bg.style.backgroundPosition = 'center';
    setTimeout(() => bg.classList.add('loaded'), 100);
  } else {
    bg.style.background = s.coverGradient || 'var(--bg3)';
    bg.classList.add('loaded');
  }

  const badge = document.getElementById('sdp-badge');
  if (s.badge) { badge.textContent = s.badge; badge.style.display = ''; }
  else { badge.style.display = 'none'; }

  currentSpotId = id;
  document.getElementById('sdp-loc').textContent  = `${s.Region || ''} · ${s.Country || ''}`;
  document.getElementById('sdp-name').textContent = s.Name;


  // Stats
  document.getElementById('sdp-budget').textContent  = s.Budget || '—';
  document.getElementById('sdp-privacy').textContent = `${privacyEmoji[s.Privacy] || ''} ${s.Privacy || '—'}`.trim();
  document.getElementById('sdp-effort').textContent  = s['Access & Effort'] || '—';
  const times = Array.isArray(s['Best Time']) ? s['Best Time'].join(', ') : (s['Best Time'] || '—');
  document.getElementById('sdp-time').textContent   = times;

  // About
  document.getElementById('sdp-full-summary').textContent = s['Full Summary'] || s['Line Summary'] || '';

  // Proposal plan
  const planSection = document.getElementById('sdp-plan-section');
  const stepsEl = document.getElementById('sdp-steps');
  if (s['Proposal Plan Steps']) {
    const steps = s['Proposal Plan Steps'].split('\n').filter(l => l.trim());
    stepsEl.innerHTML = steps.map((step, i) => {
      const text = step.replace(/^\d+\.\s*/, '');
      return `<div class="sdp-step">
        <div class="sdp-step-n">${String(i + 1).padStart(2,'0')}</div>
        <div class="sdp-step-txt">${text}</div>
      </div>`;
    }).join('');
    planSection.style.display = '';
  } else {
    planSection.style.display = 'none';
  }

  // Vibe tags
  const vibes = [s.Vibe, s['Vibe Secondary'],
    ...(Array.isArray(s['Vibe Secondary All']) ? s['Vibe Secondary All'] : []),
    ...(Array.isArray(s['Other Vibe']) ? s['Other Vibe'] : [])
  ].filter((v, i, arr) => v && arr.indexOf(v) === i);
  const heelTag = s['Heal / Dress Friendly'] ? ['👠 Heels Friendly'] : [];
  document.getElementById('sdp-vibes').innerHTML = [...vibes, ...heelTag]
    .map(v => `<span class="sdp-vibe-tag">${v}</span>`).join('');

  // Hotel / Venue
  const hotelBlock = document.getElementById('sdp-hotel-block');
  if (s['Linked Hotel / Venue']) {
    document.getElementById('sdp-hotel-name').textContent = s['Linked Hotel / Venue'];
    hotelBlock.style.display = '';
  } else {
    hotelBlock.style.display = 'none';
  }

  // Buttons — open enquiry modal (form submits directly to Airtable)
  const bookBtn = document.getElementById('sdp-book-btn');
  bookBtn.textContent = 'Request This Proposal →';
  bookBtn.onclick = () => openEnquiryModal();

  // Maps hidden — exact location revealed post-booking only
  const mapsBtn = document.getElementById('sdp-maps-btn');
  if (mapsBtn) mapsBtn.style.display = 'none';

  // Access
  const accessBlock = document.getElementById('sdp-access-block');
  if (s['Access Details']) {
    document.getElementById('sdp-access').textContent = s['Access Details'];
    accessBlock.style.display = '';
  } else { accessBlock.style.display = 'none'; }

  // Photographer
  const photoBlock = document.getElementById('sdp-photo-block');
  if (s['Recommended Photographer']) {
    document.getElementById('sdp-photographer').textContent = s['Recommended Photographer'];
    photoBlock.style.display = '';
  } else { photoBlock.style.display = 'none'; }

  // Line summary
  const lineSummaryEl = document.getElementById('sdp-line-summary');
  if (lineSummaryEl) lineSummaryEl.textContent = s['Line Summary'] || '';

  // Load pricing + packages
  loadSpotPricing(s);

  // Gallery photos
  renderGallery(s['Gallery Photos'] || []);

  // Reset booking steps
  const today = new Date().toISOString().split('T')[0];
  const ci = document.getElementById('sdp-checkin');
  const co = document.getElementById('sdp-checkout');
  if (ci) { ci.value = ''; ci.min = today; }
  if (co) { co.value = ''; co.min = today; }
  // Reset step 2
  const step2 = document.getElementById('sdp-step-2');
  if (step2) { step2.classList.remove('unlocked'); step2.classList.add('sdp-step-locked'); }
  const propDates = document.getElementById('sdp-proposal-dates');
  if (propDates) propDates.innerHTML = '<p class="sdp-step-hint">Select your stay above to see available nights</p>';
  const nightsDisplay = document.getElementById('sdp-nights-display');
  if (nightsDisplay) nightsDisplay.style.display = 'none';
  const pricingBlock = document.getElementById('sdp-pricing-block');
  if (pricingBlock) pricingBlock.style.display = 'none';
  // Show hotel block for all spots (the booking flow is universal)
  const hotelBlock2 = document.getElementById('sdp-hotel-block');
  if (hotelBlock2) hotelBlock2.style.display = s['Linked Hotel / Venue'] ? '' : 'none';

  // Budget badge
  const budgetBadge = document.getElementById('sdp-budget-badge');
  const budgetRange = document.getElementById('sdp-budget-range');
  if (budgetBadge && budgetRange && s.Budget) {
    budgetRange.textContent = s.Budget;
    budgetBadge.style.display = '';
  } else if (budgetBadge) {
    budgetBadge.style.display = 'none';
  }

  // Track current spot and update save UI
  currentSpotId = s.id;
  updateSaveUI(s.id);

  // Navigate to spot page
  showPage('spot');
}

function goBackFromSpot() {
  showPage(spotReturnPage);
}

function closeSpotDrawer() {
  goBackFromSpot();
}

// ─────────────────────────────────────────────────────────
//  GALLERY & LIGHTBOX
// ─────────────────────────────────────────────────────────
// ─────────────────────────────────────────────────────────
//  BOOKING FLOW — two-step date selection
// ─────────────────────────────────────────────────────────
// ─── PRICING STATE ───────────────────────────────────────────
let currentSpotPricing = { moment: 297, hotel: 1400, full: 1850, peakMonths: [], lowMonths: [], peakMult: 1.3, lowMult: 0.85 };
let selectedPackage = 'moment';

function getSeasonForMonth(month) {
  if (currentSpotPricing.peakMonths.includes(month)) return 'peak';
  if (currentSpotPricing.lowMonths.includes(month)) return 'low';
  return 'mid';
}

function getMultiplierForSeason(season) {
  if (season === 'peak') return currentSpotPricing.peakMult;
  if (season === 'low') return currentSpotPricing.lowMult;
  return 1;
}

function formatPrice(n) {
  return '$' + Math.round(n).toLocaleString();
}

function parsePriceForSeason(base, season) {
  if (!base) return null;
  return Math.round(base * getMultiplierForSeason(season));
}

let photographerAddonActive = false;

function loadSpotPricing(spot) {
  const parseMths = s => (s || '').split(',').map(x => parseInt(x.trim())).filter(n => !isNaN(n));
  currentSpotPricing = {
    moment:       spot['Price Moment']          || null,
    hotelPerNight:spot['Price Hotel Per Night'] || null,
    photographer: spot['Price Photographer']    || null,
    photoNote:    spot['Photographer Note']     || '2hr coverage · edited photos included',
    peakMonths:   parseMths(spot['Peak Months']),
    lowMonths:    parseMths(spot['Low Months']),
    peakMult:     spot['Peak Multiplier']       || 1.3,
    lowMult:      spot['Low Multiplier']        || 0.85,
    hasPricing:   !!(spot['Price Moment'] || spot['Price Hotel Per Night'])
  };
  selectedPackage = 'hotel'; // default to most popular
  photographerAddonActive = false;

  // Show/hide photographer add-on block
  const addonBlock = document.getElementById('sdp-addon-photo');
  if (addonBlock) {
    addonBlock.style.display = currentSpotPricing.photographer ? '' : 'none';
    addonBlock.classList.remove('active');
    const check = document.getElementById('sdp-addon-check');
    if (check) check.classList.remove('checked');
    // Set note text
    const desc = document.getElementById('sdp-addon-desc');
    if (desc) desc.textContent = currentSpotPricing.photoNote;
    // Set price text
    const priceEl = document.getElementById('sdp-addon-price');
    if (priceEl && currentSpotPricing.photographer) priceEl.textContent = '+ ' + formatPrice(currentSpotPricing.photographer);
  }

  renderPackages(null);
  const pkgBlock = document.getElementById('sdp-packages');
  if (pkgBlock) pkgBlock.style.display = currentSpotPricing.hasPricing ? '' : 'none';
  const seasonBadge = document.getElementById('sdp-season-badge');
  if (seasonBadge) seasonBadge.style.display = 'none';
}

function togglePhotographerAddon() {
  photographerAddonActive = !photographerAddonActive;
  const block  = document.getElementById('sdp-addon-photo');
  const check  = document.getElementById('sdp-addon-check');
  if (block) block.classList.toggle('active', photographerAddonActive);
  if (check) check.classList.toggle('checked', photographerAddonActive);
  // Recalculate live total if pricing block is visible
  const ci = document.getElementById('sdp-checkin');
  const season = ci?.value ? getSeasonForMonth(new Date(ci.value + 'T00:00:00').getMonth() + 1) : null;
  updateLivePricing(season);
}

function getNights() {
  const ci = document.getElementById('sdp-checkin')?.value;
  const co = document.getElementById('sdp-checkout')?.value;
  if (!ci || !co) return 0;
  return Math.max(0, Math.round((new Date(co + 'T00:00:00') - new Date(ci + 'T00:00:00')) / 86400000));
}

function renderPackages(season) {
  const mult   = season ? getMultiplierForSeason(season) : 1;
  const p      = currentSpotPricing;
  const nights = getNights();

  const momentPrice = p.moment       ? Math.round(p.moment * mult) : null;
  const nightlyAdj  = p.hotelPerNight ? Math.round(p.hotelPerNight * mult) : null;
  const hotelTotal  = nightlyAdj && nights > 0 ? (momentPrice || 0) + (nightlyAdj * nights) : null;

  const el = (id, val) => { const e = document.getElementById(id); if (e) e.textContent = val; };

  // Moment only
  el('pkg-moment-price', momentPrice ? formatPrice(momentPrice) : 'Enquire');

  // Hotel + Moment — shows per-night × nights OR "from $X/night" before dates
  if (nightlyAdj) {
    if (nights > 0) {
      el('pkg-hotel-price', formatPrice(hotelTotal));
      el('pkg-hotel-nights', nights + ' nights · ' + formatPrice(nightlyAdj) + '/night');
    } else {
      el('pkg-hotel-price', 'From ' + formatPrice(nightlyAdj) + '/night');
      el('pkg-hotel-nights', 'Select dates to see total');
    }
  } else {
    el('pkg-hotel-price', 'Enquire');
    el('pkg-hotel-nights', '');
  }

  // Highlight selected — only moment and hotel now (full story removed per change 3)
  ['moment','hotel'].forEach(k => {
    const el = document.getElementById('pkg-' + k);
    if (el) el.classList.toggle('selected', k === selectedPackage);
  });

  updateLivePricing(season);
}



function updateSeasonBadge(season, monthName) {
  const badge = document.getElementById('sdp-season-badge');
  const dot   = document.getElementById('sdp-season-dot');
  const label = document.getElementById('sdp-season-label');
  const hint  = document.getElementById('sdp-season-hint');
  const inline = document.getElementById('sdp-season-inline');
  if (!badge) return;

  const config = {
    peak: { color: '#C0392B', text: 'Peak Season',     hint: 'Higher rates apply',   inline: 'peak' },
    low:  { color: '#27AE60', text: 'Low Season',       hint: 'Best value rates',     inline: 'low'  },
    mid:  { color: '#F39C12', text: 'Standard Season',  hint: 'Standard rates apply', inline: 'standard' }
  };
  const c = config[season] || config.mid;
  dot.style.background   = c.color;
  label.textContent      = c.text;
  hint.textContent       = c.hint;
  if (inline) inline.textContent = c.inline;
  badge.style.display    = 'flex';
}

function updateLivePricing(season) {
  const block   = document.getElementById('sdp-pricing-block');
  const totalEl = document.getElementById('sdp-live-total');
  const nameEl  = document.getElementById('sdp-selected-pkg-name');
  if (!block || !totalEl) return;

  const mult   = season ? getMultiplierForSeason(season) : 1;
  const p      = currentSpotPricing;
  const nights = getNights();
  const names  = { moment: 'The Moment', hotel: 'Hotel & Moment' };

  let baseTotal = null;
  if (selectedPackage === 'moment' && p.moment) {
    baseTotal = Math.round(p.moment * mult);
  } else if (selectedPackage === 'hotel') {
    const momentPart = p.moment ? Math.round(p.moment * mult) : 0;
    const hotelPart  = p.hotelPerNight && nights > 0 ? Math.round(p.hotelPerNight * mult) * nights : null;
    if (hotelPart !== null) baseTotal = momentPart + hotelPart;
  }

  // Photographer add-on
  const photoRow   = document.getElementById('sdp-photo-price-row');
  const photoLine  = document.getElementById('sdp-photo-price-line');
  const photoPrice = p.photographer && photographerAddonActive ? p.photographer : 0;
  if (photoRow)  photoRow.style.display = (p.photographer && photographerAddonActive) ? '' : 'none';
  if (photoLine) photoLine.textContent  = photoPrice ? formatPrice(photoPrice) : '';

  const grandTotal = baseTotal !== null ? baseTotal + photoPrice : null;

  if (nameEl)  nameEl.textContent  = names[selectedPackage] || '';
  if (totalEl) totalEl.textContent = grandTotal ? formatPrice(grandTotal) : 'Select dates to see total';
}

function selectPackage(key) {
  selectedPackage = key;
  const ci = document.getElementById('sdp-checkin');
  const season = ci?.value ? getSeasonForMonth(new Date(ci.value + 'T00:00:00').getMonth() + 1) : null;
  renderPackages(season);
  // If a night is already selected, keep pricing block visible
  const anySelected = document.querySelectorAll('#sdp-proposal-dates input:checked').length > 0;
  const pricingBlock = document.getElementById('sdp-pricing-block');
  if (pricingBlock && anySelected) pricingBlock.style.display = '';
}

function onCheckinChange() {
  const ci = document.getElementById('sdp-checkin');
  const co = document.getElementById('sdp-checkout');
  if (!ci || !co || !ci.value) return;

  // Set checkout minimum to checkin date
  co.min = ci.value;
  // If checkout is before new checkin, reset it
  if (co.value && co.value <= ci.value) co.value = '';

  // Auto-open checkout by focusing it
  co.focus();

  // If both dates set, run the full change handler
  if (co.value) onHotelDatesChange();
}

function onHotelDatesChange() {
  const ci = document.getElementById('sdp-checkin');
  const co = document.getElementById('sdp-checkout');
  if (!ci || !co || !ci.value || !co.value) return;

  const checkIn  = new Date(ci.value + 'T00:00:00');
  const checkOut = new Date(co.value + 'T00:00:00');
  if (checkOut <= checkIn) {
    ci.style.borderColor = '#A55A4A';
    co.style.borderColor = '#A55A4A';
    return;
  }
  ci.style.borderColor = '';
  co.style.borderColor = '';

  // Calculate nights
  const nights = Math.round((checkOut - checkIn) / (1000 * 60 * 60 * 24));
  const nightsDisplay = document.getElementById('sdp-nights-display');
  if (nightsDisplay) {
    nightsDisplay.textContent = nights + ' night' + (nights !== 1 ? 's' : '') + ' selected';
    nightsDisplay.style.display = 'block';
  }

  // Detect season from check-in month
  const month = checkIn.getMonth() + 1;
  const season = getSeasonForMonth(month);
  const monthNames2 = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
  updateSeasonBadge(season, monthNames2[checkIn.getMonth()]);
  renderPackages(season);

  // Unlock step 2
  const step2 = document.getElementById('sdp-step-2');
  if (step2) { step2.classList.remove('sdp-step-locked'); step2.classList.add('unlocked'); }

  // Build the night-by-night selector
  const propDates = document.getElementById('sdp-proposal-dates');
  if (!propDates) return;

  const dayNames = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
  const monthNames = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];

  let html = '';
  let cursor = new Date(checkIn);
  for (let i = 0; i < nights; i++) {
    const dateStr = cursor.toISOString().split('T')[0];
    const label = `${dayNames[cursor.getDay()]}, ${monthNames[cursor.getMonth()]} ${cursor.getDate()}`;
    const isLast = i === nights - 1;
    html += `<label class="sdp-proposal-night" onclick="toggleProposalNight(this)">
      <input type="checkbox" value="${dateStr}" style="pointer-events:none">
      <span>${label}</span>
      ${i === 0 ? '<span style="font-size:9px;color:var(--muted);margin-left:auto;letter-spacing:0.06em">ARRIVAL</span>' : ''}
      ${isLast ? '<span style="font-size:9px;color:var(--muted);margin-left:auto;letter-spacing:0.06em">LAST NIGHT</span>' : ''}
    </label>`;
    cursor.setDate(cursor.getDate() + 1);
  }
  propDates.innerHTML = html;
}

function toggleProposalNight(label) {
  const cb = label.querySelector('input[type="checkbox"]');
  cb.checked = !cb.checked;
  label.classList.toggle('selected', cb.checked);
  // Show pricing block once at least one night selected
  const anySelected = document.querySelectorAll('#sdp-proposal-dates input:checked').length > 0;
  const pricingBlock = document.getElementById('sdp-pricing-block');
  if (pricingBlock) pricingBlock.style.display = anySelected ? '' : 'none';
  // Update live pricing with current season
  if (anySelected) {
    const ci = document.getElementById('sdp-checkin');
    const season = ci?.value ? getSeasonForMonth(new Date(ci.value + 'T00:00:00').getMonth() + 1) : null;
    updateLivePricing(season);
  }
  updateEnquireButton();
}

function updateEnquireButton() {
  const ci = document.getElementById('sdp-checkin');
  const co = document.getElementById('sdp-checkout');
  const selected = [...document.querySelectorAll('#sdp-proposal-dates input:checked')].map(cb => cb.value);
  const bookBtn = document.getElementById('sdp-book-btn');
  if (!bookBtn) return;
  if (ci?.value && co?.value && selected.length > 0) {
    bookBtn.style.background = '#A55A4A';
    bookBtn.textContent = 'Enquire & Book →';
  }
}

// ─────────────────────────────────────────────────────────
//  ENQUIRY MODAL
// ─────────────────────────────────────────────────────────
let _currentEnquirySpot = null;

function openEnquiryModal() {
  // Populate summary from current booking selections
  const spotName = document.getElementById('sdp-name')?.textContent || '';
  const hotelName = document.getElementById('sdp-hotel-name')?.textContent || '';
  const ci = document.getElementById('sdp-checkin')?.value;
  const co = document.getElementById('sdp-checkout')?.value;
  const selectedNights = [...document.querySelectorAll('#sdp-proposal-dates input:checked')].map(cb => cb.value);

  // Set title
  document.getElementById('enq-spot-name').textContent = spotName || 'Request your proposal';

  // Build summary
  const sumEl = document.getElementById('enq-summary');
  const sumHotel = document.getElementById('enq-sum-hotel');
  const sumDates = document.getElementById('enq-sum-dates');
  const sumNights = document.getElementById('enq-sum-nights');

  if (hotelName) {
    document.getElementById('enq-sum-hotel-name').textContent = hotelName;
    sumHotel.style.display = '';
    sumEl.style.display = '';
  } else {
    sumHotel.style.display = 'none';
  }
  if (ci && co) {
    const fmt = d => new Date(d + 'T00:00:00').toLocaleDateString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' });
    document.getElementById('enq-sum-dates-val').textContent = fmt(ci) + ' → ' + fmt(co);
    sumDates.style.display = '';
    sumEl.style.display = '';
  } else {
    sumDates.style.display = 'none';
  }
  if (selectedNights.length > 0) {
    const fmt = d => new Date(d + 'T00:00:00').toLocaleDateString('en-GB', { weekday: 'short', day: 'numeric', month: 'short' });
    document.getElementById('enq-sum-nights-val').textContent = selectedNights.map(fmt).join(', ');
    sumNights.style.display = '';
    sumEl.style.display = '';
  } else {
    sumNights.style.display = 'none';
  }
  if (!hotelName && !ci && selectedNights.length === 0) sumEl.style.display = 'none';

  // Package + estimated total in summary
  const pkgNames = { moment: 'Moment Only', hotel: 'Hotel + Moment', full: 'Full Story' };
  const pkgRow   = document.getElementById('enq-sum-package');
  const pkgVal   = document.getElementById('enq-sum-package-val');
  const totRow   = document.getElementById('enq-sum-total');
  const totVal   = document.getElementById('enq-sum-total-val');
  if (pkgRow && pkgVal) {
    pkgVal.textContent = pkgNames[selectedPackage] || 'Hotel + Moment';
    if (photographerAddonActive) pkgVal.textContent += ' + Photographer';
    pkgRow.style.display = '';
    sumEl.style.display = '';
  }
  const liveTotal = document.getElementById('sdp-live-total')?.textContent;
  if (totRow && totVal && liveTotal && liveTotal !== '—') {
    totVal.textContent = liveTotal;
    totRow.style.display = '';
    sumEl.style.display = '';
  } else if (totRow) {
    totRow.style.display = 'none';
  }

  // Pre-fill if we have saved email
  if (savedEmail) document.getElementById('enq-email').value = savedEmail;

  // Show form, hide success
  document.getElementById('enq-success').style.display = 'none';
  document.querySelector('.enq-form').style.display = '';

  document.getElementById('enq-overlay').classList.add('open');
  document.getElementById('enq-modal').classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeEnquiryModal() {
  document.getElementById('enq-overlay').classList.remove('open');
  document.getElementById('enq-modal').classList.remove('open');
  document.body.style.overflow = '';
}

// ─── AIRTABLE CONFIG ──────────────────────────────────────────
const AT_TOKEN  = 'patjYry6UVfqnF9en';
const AT_BASE   = 'appN5GFcdPJvU1qff';
const AT_TABLE  = 'Bookings';

async function submitEnquiry() {
  const first   = document.getElementById('enq-first').value.trim();
  const last    = document.getElementById('enq-last').value.trim();
  const email   = document.getElementById('enq-email').value.trim();
  const phone   = document.getElementById('enq-phone').value.trim();
  const partner = document.getElementById('enq-partner').value.trim();
  const notes   = document.getElementById('enq-notes').value.trim();

  // Validation
  if (!first || !email) {
    document.getElementById('enq-first').style.borderColor = first ? '' : '#A55A4A';
    document.getElementById('enq-email').style.borderColor = email ? '' : '#A55A4A';
    return;
  }

  const btn = document.getElementById('enq-submit');
  btn.disabled = true;
  btn.textContent = 'Sending...';

  // Gather sidebar selections
  const spotName       = document.getElementById('sdp-name')?.textContent || '';
  const hotelName      = document.getElementById('sdp-hotel-name')?.textContent || '';
  const ci             = document.getElementById('sdp-checkin')?.value || '';
  const co             = document.getElementById('sdp-checkout')?.value || '';
  const proposalNights = [...document.querySelectorAll('#sdp-proposal-dates input:checked')].map(cb => cb.value);
  const pkgNames       = { moment: 'Moment Only', hotel: 'Hotel + Moment', full: 'Full Story' };
  const packageChosen  = pkgNames[selectedPackage] || 'Hotel + Moment';
  const photoAddon     = photographerAddonActive;

  // Additional add-ons from form checkboxes
  const addons = [];
  if (document.getElementById('enq-flowers')?.checked)   addons.push('Flowers & décor');
  if (document.getElementById('enq-dinner')?.checked)    addons.push('Private dinner');
  if (document.getElementById('enq-champagne')?.checked) addons.push('Champagne on arrival');

  // Calculate nights
  const nightCount = ci && co
    ? Math.round((new Date(co + 'T00:00:00') - new Date(ci + 'T00:00:00')) / 86400000)
    : 0;

  // Build Airtable record — field names must match your Bookings table exactly
  const fields = {
    'Customer First Name': first,
    'Customer Last Name':  last,
    'Customer Email':      email,
    'Customer Phone':      phone,
    'Partner Name':        partner,
    'Status':              'New',
    'Source':              'Website',
    'Package':             packageChosen,
    'Photographer Add-on': photoAddon,
    'Special Requests':    [
      notes,
      addons.length ? 'Add-ons: ' + addons.join(', ') : '',
      'Spot: ' + spotName,
      hotelName ? 'Hotel: ' + hotelName : '',
    ].filter(Boolean).join('\n'),
    'Internal Notes':      'Submitted via website enquiry form',
  };

  // Dates — only add if filled
  if (ci)                       fields['Check In']        = ci;
  if (co)                       fields['Check Out']       = co;
  if (proposalNights.length)    fields['Proposal Night']  = proposalNights[0];

  try {
    const res = await fetch(`https://api.airtable.com/v0/${AT_BASE}/${encodeURIComponent(AT_TABLE)}`, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${AT_TOKEN}`,
        'Content-Type':  'application/json',
      },
      body: JSON.stringify({ fields }),
    });

    const data = await res.json();

    if (!res.ok) {
      console.error('Airtable error:', data);
      // Still show success to user — don't block them on API errors
    }

    savedEmail = email;
    try { localStorage.setItem('ps_email', email); } catch(e) {}

  } catch(e) {
    console.error('Submission error:', e);
    // Still show success — email fallback can catch missed ones
  }

  // Show success state
  document.querySelector('.enq-form').style.display = 'none';
  document.getElementById('enq-success').style.display = '';
  btn.disabled = false;
  btn.textContent = 'Send Enquiry →';
}

// ─── Gallery state ────────────────────────────────────────────
let galleryPhotos = [];
let galleryIndex  = 0;

function resolvePhotoUrl(urlOrObj) {
  if (typeof urlOrObj === 'string') return urlOrObj;
  if (urlOrObj?.thumbnails?.large?.url) return urlOrObj.thumbnails.large.url;
  return urlOrObj?.url || '';
}

function renderGallery(photos) {
  const section = document.getElementById('sdp-gallery-section');
  if (!photos || photos.length === 0) { section.style.display = 'none'; return; }

  // Build valid URL list
  galleryPhotos = photos.map(resolvePhotoUrl).filter(Boolean);
  if (!galleryPhotos.length) { section.style.display = 'none'; return; }

  galleryIndex = 0;
  section.style.display = '';
  renderGalleryFrame();
}

function renderGalleryFrame() {
  const img    = document.getElementById('sdp-gallery-main');
  const dots   = document.getElementById('sdp-gallery-dots');
  const count  = document.getElementById('sdp-gallery-count');
  const viewer = document.getElementById('sdp-gallery-viewer');
  if (!img) return;

  // Fade transition
  img.classList.add('fading');
  setTimeout(() => {
    img.src = galleryPhotos[galleryIndex];
    img.onerror = () => {
      galleryPhotos.splice(galleryIndex, 1);
      if (!galleryPhotos.length) { document.getElementById('sdp-gallery-section').style.display = 'none'; return; }
      galleryIndex = Math.min(galleryIndex, galleryPhotos.length - 1);
      renderGalleryFrame();
    };
    img.classList.remove('fading');
  }, 180);

  // Dots
  if (dots) {
    dots.innerHTML = galleryPhotos.length > 1
      ? galleryPhotos.map((_, i) => `<div class="sdp-gallery-dot ${i === galleryIndex ? 'active' : ''}" onclick="event.stopPropagation(); galleryGoTo(${i})"></div>`).join('')
      : '';
  }

  // Count
  if (count) count.textContent = galleryPhotos.length > 1 ? `${galleryIndex + 1} / ${galleryPhotos.length}` : '';

  // Show/hide arrows
  const arrows = document.querySelectorAll('.sdp-gallery-arrow');
  arrows.forEach(a => a.style.display = galleryPhotos.length > 1 ? '' : 'none');

  // Lightbox on click still works
  if (viewer) viewer.onclick = (e) => {
    if (e.target.classList.contains('sdp-gallery-arrow') || e.target.classList.contains('sdp-gallery-dot')) return;
    openLightbox(galleryPhotos[galleryIndex]);
  };
}

function galleryNext() {
  if (!galleryPhotos.length) return;
  galleryIndex = (galleryIndex + 1) % galleryPhotos.length;
  renderGalleryFrame();
}

function galleryPrev() {
  if (!galleryPhotos.length) return;
  galleryIndex = (galleryIndex - 1 + galleryPhotos.length) % galleryPhotos.length;
  renderGalleryFrame();
}

function galleryGoTo(i) {
  galleryIndex = i;
  renderGalleryFrame();
}

function checkGalleryEmpty(scroll) {
  const visible = scroll.querySelectorAll('img:not([style*="display:none"])');
  if (visible.length === 0) {
    document.getElementById('sdp-gallery-section').style.display = 'none';
  }
}

function openLightbox(url) {
  const lb = document.getElementById('sdp-lightbox');
  document.getElementById('sdp-lightbox-img').src = url;
  lb.classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeLightbox() {
  document.getElementById('sdp-lightbox').classList.remove('open');
  document.body.style.overflow = '';
}

document.addEventListener('keydown', e => {
  if (e.key === 'Escape') {
    closeLightbox();
    closeJoinModal();
    closeSaveModal();
  }
});

// ─────────────────────────────────────────────────────────
//  SAVE SPOTS — lightweight email-based collection
// ─────────────────────────────────────────────────────────
let savedEmail   = localStorage.getItem('ps_email') || null;
let savedSpotIds = JSON.parse(localStorage.getItem('ps_saved') || '[]');
let pendingSaveId = null;

function isSpotSaved(id) {
  return savedSpotIds.includes(id);
}

function updateSaveUI(id) {
  const saved = isSpotSaved(id);
  // Hero heart
  const heroHeart = document.getElementById('sdp-heart-btn');
  if (heroHeart) {
    heroHeart.textContent = saved ? '♥' : '♡';
    heroHeart.classList.toggle('saved', saved);
  }
  // Sidebar save button
  const saveBtn = document.getElementById('sdp-save-btn');
  if (saveBtn) {
    const icon = document.getElementById('sdp-save-icon');
    if (icon) icon.textContent = saved ? '♥' : '♡';
    saveBtn.querySelector ? null : null;
    saveBtn.classList.toggle('saved', saved);
    saveBtn.childNodes.forEach(n => {
      if (n.nodeType === 3) n.textContent = saved ? ' Saved' : ' Save this Spot';
    });
  }
  // Card hearts (home + results grids)
  document.querySelectorAll(`.spot-save[data-spot-id="${id}"]`).forEach(el => {
    el.textContent = saved ? '♥' : '♡';
    el.classList.toggle('saved', saved);
  });
  // Nav link
  const navLink = document.getElementById('nav-collection');
  if (navLink) navLink.classList.toggle('has-saves', savedSpotIds.length > 0);
}

function toggleSaveSpot(e, passedId) {
  if (e) e.stopPropagation();
  const id   = passedId || currentSpotId;
  const spot = allSpots.find(s => s.id === id);
  if (!spot) return;

  if (isSpotSaved(spot.id)) {
    // Unsave
    savedSpotIds = savedSpotIds.filter(sid => sid !== spot.id);
    localStorage.setItem('ps_saved', JSON.stringify(savedSpotIds));
    updateSaveUI(spot.id);
    return;
  }

  if (savedEmail) {
    // Already have email — save immediately
    doSaveSpot(spot.id, savedEmail);
  } else {
    // Need email first
    pendingSaveId = spot.id;
    openSaveModal();
  }
}

function doSaveSpot(spotId, email) {
  if (!savedSpotIds.includes(spotId)) {
    savedSpotIds.push(spotId);
    localStorage.setItem('ps_saved', JSON.stringify(savedSpotIds));
    localStorage.setItem('ps_email', email);
    savedEmail = email;
  }
  updateSaveUI(spotId);
}

// Save modal
function openSaveModal() {
  const overlay = document.getElementById('save-overlay');
  const modal   = document.getElementById('save-modal');
  overlay.style.display = 'block';
  modal.style.display   = 'block';
  document.body.style.overflow = 'hidden';
  requestAnimationFrame(() => {
    overlay.style.opacity = '1';
    modal.style.opacity   = '1';
    modal.style.transform = 'translate(-50%,-50%)';
  });
}

function closeSaveModal() {
  const overlay = document.getElementById('save-overlay');
  const modal   = document.getElementById('save-modal');
  overlay.style.opacity = '0';
  modal.style.opacity   = '0';
  modal.style.transform = 'translate(-50%,-48%)';
  setTimeout(() => {
    overlay.style.display = 'none';
    modal.style.display   = 'none';
    document.body.style.overflow = '';
    ['save-first','save-last','save-email','save-phone'].forEach(id => {
      const el = document.getElementById(id); if (el) el.value = '';
    });
    document.getElementById('save-error').style.display  = 'none';
    document.getElementById('save-form').style.display    = 'flex';
    document.getElementById('save-confirm').style.display = 'none';
    const btn = document.getElementById('save-btn');
    if (btn) { btn.textContent = 'Save Spot'; btn.disabled = false; }
  }, 300);
}

function confirmSaveSpot() {
  const first = document.getElementById('save-first')?.value.trim() || '';
  const last  = document.getElementById('save-last')?.value.trim()  || '';
  const email = document.getElementById('save-email').value.trim();
  const phone = document.getElementById('save-phone')?.value.trim() || '';
  const errEl = document.getElementById('save-error');

  const emailOk = email.includes('@') && email.includes('.');
  if (!first || !last || !phone || !emailOk) {
    errEl.style.display = 'block';
    if (!emailOk) document.getElementById('save-email').style.borderColor = '#A55A4A';
    if (!phone) document.getElementById('save-phone').style.borderColor = '#A55A4A';
    return;
  }
  errEl.style.display = 'none';

  const btn = document.getElementById('save-btn');
  btn.textContent = 'Saving...';
  btn.disabled = true;

  savedEmail = email;
  localStorage.setItem('ps_email', email);

  // Write to Email List in Airtable (reuses join API)
  fetch('/api/join', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ first, last, email, phone })
  }).catch(() => {});

  // Save the spot (if one is pending)
  if (pendingSaveId) doSaveSpot(pendingSaveId, email);
  document.getElementById('save-form').style.display    = 'none';
  // Update confirm message based on context
  const confirmMsg = document.querySelector('#save-confirm p:first-of-type');
  let msg = pendingSaveId ? 'Spot saved.' : "You're on the list.";
  if (window._checklistPending) msg = 'Checklist sent to your email.';
  if (confirmMsg) confirmMsg.textContent = msg;
  document.getElementById('save-confirm').style.display = 'block';
  setTimeout(() => {
    closeSaveModal();
    pendingSaveId = null;
    window._checklistPending = false;
    // Update checklist button if that flow
    const btn = document.getElementById('checklist-download-btn');
    if (btn && msg.includes('Checklist')) {
      btn.textContent = '✓ Sent to your email';
      btn.style.background = '#6a8a5a';
    }
  }, 2500);
}

// ─────────────────────────────────────────────────────────
//  MY COLLECTION PAGE
// ─────────────────────────────────────────────────────────
let currentSpotId = null;

// ─── NAV DESTINATIONS DROPDOWN ───
function toggleDestDropdown() {
  const dd = document.getElementById('nav-dest-dropdown');
  dd.classList.toggle('open');
}
document.addEventListener('click', (e) => {
  const wrap = document.querySelector('.nav-destinations-wrap');
  if (wrap && !wrap.contains(e.target)) {
    document.getElementById('nav-dest-dropdown')?.classList.remove('open');
  }
});

// ─────────────────────────────────────────────────────────
//  DESTINATION LANDING DATA
// ─────────────────────────────────────────────────────────
const DEST_DATA = {
  'Amalfi Coast': {
    country: 'Italy', bg: 'linear-gradient(160deg,#1a1208,#2a1e10)', photo: 'https://images.unsplash.com/photo-1516483638261-f4dbaf036963?w=900&q=80&fit=crop',
    sub: 'Clifftop terraces carved into limestone cliffs, private lemon grove dinners, and ocean views that make the question feel inevitable. The Amalfi Coast is the most cinematic proposal backdrop in Europe.',
    budgetKey: 'amalfi'
  },
  'Santorini': {
    country: 'Greece', bg: 'linear-gradient(160deg,#12101e,#1c1a2e)', photo: 'https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?w=900&q=80&fit=crop',
    sub: 'Caldera views at sunset, whitewashed terraces above the Aegean, and a clarity of light that photographers call unrivalled. The most photographed proposal destination in the world — and for good reason.',
    budgetKey: 'santorini'
  },
  'Bali': {
    country: 'Indonesia', bg: 'linear-gradient(160deg,#0e1a08,#162410)', photo: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=900&q=80&fit=crop',
    sub: `Hidden waterfalls, ancient rice terraces at sunrise, jungle-wrapped temples, and private villas with infinity pools above the valley. Bali is the world's best-value luxury proposal destination.`,
    budgetKey: 'bali'
  },
  'Tulum': {
    country: 'Mexico', bg: 'linear-gradient(160deg,#1a0e04,#241604)', photo: 'https://images.unsplash.com/photo-1682687220742-aba13b6e50ba?w=900&q=80&fit=crop',
    sub: `Cenotes glowing turquoise in underground light, jungle eco-lodges with open-air beds, and Caribbean water the colour of gemstones. Tulum has become the Americas' most sophisticated proposal market.`,
    budgetKey: 'tulum'
  },
  'Maldives': {
    country: 'Indian Ocean', bg: 'linear-gradient(160deg,#06101a,#0c1a2a)', photo: 'https://images.unsplash.com/photo-1514282401047-d79a71a590e8?w=900&q=80&fit=crop',
    sub: 'Private overwater villas, sandbanks that appear at low tide and disappear by afternoon, and a level of natural privacy that no other destination can match. The Maldives is the ultimate proposal destination.',
    budgetKey: 'maldives'
  },
  'Costa Rica': {
    country: 'Central America', bg: 'linear-gradient(160deg,#081408,#101e10)', photo: 'https://images.unsplash.com/photo-1544735716-392fe2489ffa?w=900&q=80&fit=crop',
    sub: 'Cloud forests suspended in mist, hanging bridges above the jungle canopy, hidden Pacific coves, and a biodiversity that makes every proposal feel like a David Attenborough scene.',
    budgetKey: 'costa-rica'
  },
  'Nicaragua': {
    country: 'Central America', bg: 'linear-gradient(160deg,#10180a,#182008)', photo: 'https://images.unsplash.com/photo-1605649487212-47bdab064df7?w=900&q=80&fit=crop',
    sub: 'Twin volcano island, black sand coves accessible only by boat, and a rawness that the rest of Central America has already lost. Nicaragua is where the most adventurous proposals happen.',
    budgetKey: 'nicaragua'
  },
  'Algarve': {
    country: 'Portugal', bg: 'linear-gradient(160deg,#0a1018,#141e2a)', photo: 'https://images.unsplash.com/photo-1555881400-74d7acaacd8b?w=900&q=80&fit=crop',
    sub: `Sea caves with natural skylights, sandstone sea arches glowing amber at sunset, and Atlantic cliffs that drop straight into impossibly clear water. Europe's best-value proposal coastline.`,
    budgetKey: 'algarve'
  },
  'South of France': {
    country: 'France', bg: 'linear-gradient(160deg,#1a1430,#241e40)', photo: 'https://images.unsplash.com/photo-1499856871958-5b9357976b82?w=900&q=80&fit=crop',
    sub: `Lavender fields in full summer bloom, Côte d'Azur clifftop villages, ancient hilltop towns, and the light of Provence that painters have been chasing for three centuries.`,
    budgetKey: 'france'
  },
  'Switzerland': {
    country: 'Alps', bg: 'linear-gradient(160deg,#0c1420,#101e2e)', photo: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=900&q=80&fit=crop',
    sub: 'Alpine valleys in silence, the Jungfrau at golden hour, private cable car access above the clouds, and a proposal setting that makes everything feel cinematic and permanent.',
    budgetKey: 'switzerland'
  }
};

const DEST_BUDGET_DATA = {
  'santorini': { range: '$800 – $8,000+', tagline: 'The most photographed proposal backdrop on earth. Premium views command premium prices — but there are ways to do it beautifully without the most expensive options.', rows: [['Proposal spot access','Free – $150','Included'],['Photographer (2–3 hrs)','$300 – $800','$300 – $800'],['Hotel (3 nights, cave suite)','—','$900 – $3,000'],['Private sunset dinner','$150 – $400','$200 – $500'],['Flowers & champagne setup','$80 – $200','Often included'],], total: ['$530 – $1,550','$1,400 – $4,300+'], tip: 'Avoid the Oia castle at sunset — it has thousands of tourists and zero privacy. Our vetted spots include private terraces with the same caldera views, for the same or less.', dest: 'Santorini' },
  'bali': { range: '$400 – $4,000+', tagline: 'The most value-for-money luxury proposal destination in the world. Private villa setups that would cost $5,000 in Europe can be arranged in Bali for under $1,000.', rows: [['Private access / guide','$30 – $100','Included'],['Photographer (2–3 hrs)','$150 – $450','$150 – $450'],['Hotel (3 nights, private villa)','—','$400 – $1,800'],['Private dinner setup','$80 – $200','$100 – $300'],['Flowers & décor','$30 – $120','Often included'],], total: ['$290 – $870','$650 – $2,550+'], tip: `Bali photographers are among the best in the world for proposal work and cost a fraction of European rates. Don't skip this. The rice terrace light at sunrise is unrepeatable.`, dest: 'Bali' },
  'maldives': { range: '$2,000 – $15,000+', tagline: 'The highest-cost destination on our list — and the one where every penny of it is visible. If your budget allows, this is the proposal that requires the least effort and delivers the most impact.', rows: [['Private beach / sandbank access','$200 – $600','Included'],['Photographer (2–3 hrs)','$400 – $900','$400 – $900'],['Hotel (3 nights, water villa)','—','$1,500 – $8,000'],['Champagne & setup','$150 – $400','Often included'],['Seaplane transfer','—','$400 – $800'],], total: ['$750 – $1,900','$2,300 – $9,700+'], tip: `The sandbank proposals are spectacular but time-sensitive — accessible only 2–3 hours per day. Book through a resort concierge briefed in advance. We've vetted the properties that handle this best.`, dest: 'Maldives' },
  'tulum': { range: '$500 – $5,000+', tagline: 'A destination that has transformed from a backpacker stop into one of the most sophisticated proposal markets in the Americas. Private cenote access and jungle eco-lodge proposals are its signature.', rows: [['Private cenote / guide','$60 – $200','Included'],['Photographer (2–3 hrs)','$200 – $600','$200 – $600'],['Hotel (3 nights, eco-lodge)','—','$600 – $2,400'],['Private dinner setup','$100 – $350','$150 – $400'],['Flowers & décor','$50 – $150','Often included'],], total: ['$410 – $1,300','$950 – $3,400+'], tip: 'Cenotes are magical but crowded by 9am. Private early-morning access (before 7am) costs a small premium and is entirely worth it. Several of our vetted spots include this as standard.', dest: 'Tulum' },
  'amalfi': { range: '$1,000 – $10,000+', tagline: 'The most cinematic coastline in Europe — with prices to match. But the secret is that the best proposal spots on the Amalfi Coast are private terraces that most visitors never find.', rows: [['Private terrace access','$100 – $300','Included'],['Photographer (2–3 hrs)','$300 – $800','$300 – $800'],['Hotel (3 nights, cliff villa)','—','$900 – $4,000'],['Private dinner','$200 – $600','$200 – $600'],['Flowers & champagne','$100 – $250','Often included'],], total: ['$700 – $1,950','$1,400 – $5,600+'], tip: 'The famous path from Positano to Praiano has dozens of hidden viewpoints. Arrive early to avoid tour groups. A local guide for €80 will show you spots no travel blog has ever mentioned.', dest: 'Amalfi Coast' },
  'algarve': { range: '$300 – $3,000+', tagline: `Europe's best-value luxury proposal destination. The Atlantic coastline rivals the Amalfi Coast — at roughly half the price.`, rows: [['Kayak / boat rental','$40 – $120','Included'],['Photographer (2–3 hrs)','$200 – $500','$200 – $500'],['Hotel (3 nights, clifftop)','—','$400 – $1,500'],['Private dinner','$80 – $250','$100 – $300'],['Flowers & champagne','$40 – $100','Often included'],], total: ['$360 – $970','$700 – $2,300+'], tip: 'The Benagil Cave at golden hour (after tour boats leave) costs almost nothing and looks extraordinary. Golden hour kayak access is the move.', dest: 'Algarve' },
  'france': { range: '$800 – $6,000+', tagline: `Lavender fields, the Côte d'Azur, hilltop villages, Provençal farmhouses. The South of France offers a level of romantic variety that no other European destination can match.`, rows: [['Private access / venue','$80 – $300','Included'],['Photographer (2–3 hrs)','$300 – $700','$300 – $700'],['Hotel (3 nights, mas/château)','—','$600 – $3,000'],['Private dinner','$150 – $500','$150 – $500'],['Flowers & setup','$80 – $200','Often included'],], total: ['$610 – $1,700','$1,150 – $4,200+'], tip: 'The lavender fields in Valensole peak in late June–July. Go early morning or late evening for golden light and no tour groups. Private farm access can usually be arranged through a local gîte.', dest: 'South of France' },
  'switzerland': { range: '$1,000 – $8,000+', tagline: 'The Alps provide the most dramatic natural proposal backdrops in Europe. Private cable car access and mountain restaurant reservations require advance planning — but deliver something unforgettable.', rows: [['Private cable car / guide','$100 – $400','Included'],['Photographer (2–3 hrs)','$400 – $900','$400 – $900'],['Hotel (3 nights, mountain lodge)','—','$700 – $3,000'],['Private mountain dinner','$200 – $600','$200 – $600'],['Setup & flowers','$100 – $250','Often included'],], total: ['$800 – $2,150','$1,400 – $4,500+'], tip: 'The best Swiss Alps spots are not in the guidebooks. The Bernese Oberland has dozens of accessible viewpoints that see almost no visitors. A local mountain guide is worth every franc.', dest: 'Switzerland' },
  'costa-rica': { range: '$400 – $4,000+', tagline: 'Costa Rica offers some of the most dramatic and private proposal settings in the Americas — cloud forests, Pacific cliffs, hidden beaches — at a fraction of the price of European equivalents.', rows: [['Private guide / access','$50 – $150','Included'],['Photographer (2–3 hrs)','$150 – $400','$150 – $400'],['Hotel (3 nights, eco-lodge)','—','$400 – $1,800'],['Private dinner','$80 – $250','$100 – $300'],['Setup & flowers','$40 – $120','Often included'],], total: ['$320 – $920','$690 – $2,500+'], tip: 'The Monteverde cloud forest hanging bridges are the most dramatic proposal setting in the country. Private early-access before 7am means no tour groups — just mist, jungle, and howler monkeys.', dest: 'Costa Rica' },
  'nicaragua': { range: '$200 – $2,000+', tagline: 'The last undiscovered destination on our list. Nicaragua offers extraordinary natural settings — twin volcanos, black sand beaches, colonial cities — at prices that make even budget-conscious proposals feel extraordinary.', rows: [['Private boat / guide','$40 – $150','Included'],['Photographer (2–3 hrs)','$100 – $300','$100 – $300'],['Hotel (3 nights, eco-lodge)','—','$200 – $800'],['Private dinner','$50 – $150','$80 – $200'],['Setup','$20 – $80','Often included'],], total: ['$210 – $680','$420 – $1,280+'], tip: 'Isla de Ometepe is accessible only by ferry and is one of the most beautiful and private proposal locations in the world. The island has almost no tourist infrastructure — which is entirely the point.', dest: 'Nicaragua' }
};

function renderDestBudget(key, destName) {
  const d = DEST_BUDGET_DATA[key];
  if (!d) return '';
  const rows = d.rows.map(r => `<div class="budget-row"><span>${r[0]}</span><span>${r[1]}</span><span>${r[2]}</span></div>`).join('');
  return `
    <div class="budget-dest-block" style="margin-bottom:0">
      <div class="budget-dest-header">
        <div>
          <h3 class="budget-dest-name" style="font-size:clamp(22px,3vw,30px)">${destName}</h3>
          <p class="budget-dest-tagline">${d.tagline}</p>
        </div>
        <div class="budget-dest-range-badge">${d.range}</div>
      </div>
      <div class="budget-table">
        <div class="budget-row budget-row-head"><span>Category</span><span>Just the Moment</span><span>Hotel &amp; Stay</span></div>
        ${rows}
        <div class="budget-row budget-row-total"><span>Estimated total</span><span>${d.total[0]}</span><span>${d.total[1]}</span></div>
      </div>
      <p class="budget-tip"><strong>Proposal Spots tip:</strong> ${d.tip}</p>
    </div>`;
}

let dlState = { vibe: new Set(), privacy: new Set(), budget: new Set(), dest: '' };

function toggleDLPanel(panelId, pillId) {
  // Only affect panels inside dest-landing page
  document.querySelectorAll('#page-dest-landing .results-inline-panel').forEach(p => {
    if (p.id !== panelId) p.classList.remove('open');
  });
  document.getElementById(panelId)?.classList.toggle('open');
}
function toggleDLTag(el, type, val) {
  el.classList.toggle('selected');
  if (dlState[type].has(val)) dlState[type].delete(val); else dlState[type].add(val);
  const countEl = document.getElementById(`dl${type}-count`);
  if (countEl) { countEl.textContent = dlState[type].size || ''; countEl.style.display = dlState[type].size ? 'inline' : 'none'; }
  // Update pill active state
  const pill = document.getElementById(`dlpill-${type}`);
  if (pill) pill.classList.toggle('active', dlState[type].size > 0);
  renderDLSpots();
}
function clearDLFilters() {
  dlState.vibe.clear(); dlState.privacy.clear(); dlState.budget.clear();
  document.querySelectorAll('#page-dest-landing .filter-tag').forEach(t => t.classList.remove('selected'));
  ['dlvibe-count','dlprivacy-count','dlbudget-count'].forEach(id => { const el = document.getElementById(id); if(el){el.textContent='';el.style.display='none';} });
  ['dlpill-vibe','dlpill-privacy','dlpill-budget'].forEach(id => { document.getElementById(id)?.classList.remove('active'); });
  renderDLSpots();
}
function renderDLSpots() {
  const grid = document.getElementById('dest-landing-grid');
  const empty = document.getElementById('dest-landing-empty');
  if (!grid) return;
  let spots = allSpots.filter(s => {
    const country = (s.Country||'').toLowerCase();
    const region  = (s.Region||'').toLowerCase();
    const dest    = dlState.dest.toLowerCase();
    const matchDest = country.includes(dest) || region.includes(dest) || dest.includes(country) || dest.includes(region);
    if (!matchDest) return false;
    if (dlState.vibe.size) {
      const vibeVal = (s.Vibe || s.vibe || '');
      const vibeMatch = [...dlState.vibe].some(v => vibeVal.includes(v));
      if (!vibeMatch) return false;
    }
    if (dlState.privacy.size) {
      const privVal = (s.Privacy || s.privacy || '');
      const privMatch = [...dlState.privacy].some(v => privVal.includes(v));
      if (!privMatch) return false;
    }
    if (dlState.budget.size) {
      const budVal = (s.Budget || s.budget || '');
      const budMatch = [...dlState.budget].some(v => budVal.includes(v));
      if (!budMatch) return false;
    }
    return true;
  });
  if (spots.length === 0) {
    grid.innerHTML = ''; grid.style.display = 'none'; empty.style.display = 'block'; return;
  }
  grid.style.display = ''; empty.style.display = 'none';
  grid.innerHTML = spots.map(s => {
    const img = s['Cover Photo'] ? `background-image:url('${s['Cover Photo']}')` : `background:${s.coverGradient||'var(--bg3)'}`;
    const saved = savedSpotIds.includes(s.id);
    return `<div class="spot-card" onclick="openSpotDrawer('${s.id}')" style="cursor:pointer">
      <div class="spot-card-img" style="${img};background-size:cover;background-position:center">
        <button class="spot-save ${saved?'saved':''}" data-spot-id="${s.id}" onclick="event.stopPropagation();toggleSaveSpot(event,'${s.id}')">♥</button>
      </div>
      <div class="spot-card-body">
        <div class="spot-card-meta">${s.Region||''} · ${s.Country||''}</div>
        <div class="spot-card-name">${s.Name}</div>
        <p class="spot-card-summary">${s['Line Summary']||''}</p>
      </div>
    </div>`;
  }).join('');
}

function goToDestination(name) {
  document.getElementById('nav-dest-dropdown')?.classList.remove('open');
  hideSearchDestDropdown();

  const d = DEST_DATA[name];
  if (!d) {
    // Fallback: results page
    const input = document.getElementById('search-main');
    if (input) input.value = name;
    resultState.country.clear();
    resultState.country.add(name);
    showPage('results');
    renderResultsPage();
    return;
  }

  // Set dest landing page
  dlState.dest = name;
  dlState.vibe.clear(); dlState.privacy.clear(); dlState.budget.clear();
  document.querySelectorAll('#page-dest-landing .inline-tag').forEach(t => t.classList.remove('selected'));
  ['dlvibe-count','dlprivacy-count','dlbudget-count'].forEach(id => { const el = document.getElementById(id); if(el){el.textContent='';el.style.display='none';} });

  // Hero
  const hero = document.getElementById('dest-landing-hero');
  if (hero) {
    if (d.photo) {
      hero.style.background = `linear-gradient(to bottom, rgba(15,15,15,0.35) 0%, rgba(15,15,15,0.6) 100%), url('${d.photo}') center/cover no-repeat`;
    } else {
      hero.style.background = d.bg;
    }
  }
  const elCountry = document.getElementById('dest-landing-country');
  const elTitle   = document.getElementById('dest-landing-title');
  const elSub     = document.getElementById('dest-landing-sub');
  if (elCountry) elCountry.textContent = d.country;
  if (elTitle)   elTitle.innerHTML = name;
  if (elSub)     elSub.textContent = d.sub;

  // Budget guide
  const budgetTitle = document.getElementById('dest-landing-budget-title');
  if (budgetTitle) budgetTitle.textContent = `What a Proposal in ${name} Actually Costs`;
  const budgetContent = document.getElementById('dest-landing-budget-content');
  if (budgetContent) budgetContent.innerHTML = renderDestBudget(d.budgetKey, name);

  showPage('dest-landing');
  renderDLSpots();
  window.scrollTo(0,0);
}



// ─── SEARCH DESTINATION DROPDOWN ───
function showSearchDestDropdown(val) {
  const dd = document.getElementById('search-dest-dropdown');
  if (!dd) return;
  if (!val || val.length === 0) {
    dd.classList.add('open');
  } else {
    dd.classList.remove('open');
  }
}
function hideSearchDestDropdown() {
  document.getElementById('search-dest-dropdown')?.classList.remove('open');
}
function pickSearchDest(name) {
  const input = document.getElementById('search-main');
  if (input) input.value = name;
  hideSearchDestDropdown();
  goToDestination(name);
}
// Hide search dropdown on outside click
document.addEventListener('click', (e) => {
  const bar = document.querySelector('.search-bar-wrap');
  if (bar && !bar.contains(e.target)) hideSearchDestDropdown();
});

// ─── STORY PAGE ───
const STORY_DATA = {
  'amalfi': {
    bg: 'linear-gradient(150deg,#1a1208,#2a1e10)',
    photo: 'https://images.unsplash.com/photo-1516483638261-f4dbaf036963?w=1200&q=80&fit=crop',
    eyebrow: 'Amalfi Coast, Italy · June 2024',
    title: 'He told her it was just lunch. She had no idea about the lemon grove.',
    meta: ['🪨 Cliff', '🔒 Private', '$$$$', 'Amalfi Coast'],
    dest: 'Amalfi Coast',
    body: `<p>James had been planning for four months. He had dismissed a dozen ideas — a boat trip, a rooftop restaurant, a beach at sunset — before a local hotel owner mentioned a private terrace carved into the cliffside above Positano. It was invisible from the path below. Most people walk past without ever knowing it exists.</p>
<p>He booked it in January for a June trip. He told no one except the hotel, the guitarist, and the photographer he had hired to be in position before they arrived.</p>
<div class="story-pull">"She thought the guitarist was playing for another table. She asked me if we should move so he had more room."</div>
<p>Sarah had been told they were going for a late lunch. When they arrived at the terrace and she saw the table set with wildflowers — which James had picked himself that morning, getting up at six to find them before she woke — she assumed it was the hotel's standard decoration. When the guitarist began playing her favourite song around the corner, she thought it was a coincidence.</p>
<p>James had timed everything to the minute. When she turned to ask why he'd gone so quiet, he was already on one knee.</p>
<p>She said yes before he finished the sentence. They stayed at the table for three hours. The guitarist played until the sun went down. James says the lemon grove smelled extraordinary. Sarah says she doesn't remember the lemon grove at all.</p>`
  },
  'bali-rice': {
    bg: 'linear-gradient(150deg,#0e1a08,#162410)',
    photo: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=1200&q=80&fit=crop',
    eyebrow: 'Tegallalang, Ubud, Bali · February 2024',
    title: 'He woke her at 4:30am. She was furious. Then she saw the rice terraces.',
    meta: ['🌿 Rice Terrace', '🔒 Private', '$$$', 'Bali'],
    dest: 'Bali',
    body: `<p>Emma's exact words at 4:30am were, by her own account, unprintable. Marcus had shaken her awake, told her they needed to leave immediately, and handed her clothes without explanation. She describes her mood as "not ideal."</p>
<p>What she didn't know was that Marcus had arranged private early-morning access to the Tegallalang rice terraces — the same terraces that draw hundreds of tourists by 8am, but at 5am belong entirely to the mist and the birds and whoever is there first.</p>
<div class="story-pull">"The terraces were completely still. The mist was rising from the valley. I forgot I was tired."</div>
<p>He had also coordinated a small breakfast — fruit, coffee in a flask, a blanket — which the guesthouse owner had arranged the night before while Emma slept. He had carried it in a bag she assumed was just his camera equipment.</p>
<p>The man they passed on the narrow path, who appeared to be photographing the sunrise, was in fact a photographer Marcus had hired. He had been in position for forty minutes, waiting in the dark.</p>
<p>Emma still maintains she did not fully forgive the 4:30am wakeup until approximately forty minutes after the proposal, when she saw the photographs. Marcus disagrees with this timeline. The photographer, who witnessed the whole thing, declines to comment.</p>`
  },
  'maldives': {
    bg: 'linear-gradient(150deg,#06101a,#0c1a2a)',
    photo: 'https://images.unsplash.com/photo-1514282401047-d79a71a590e8?w=1200&q=80&fit=crop',
    eyebrow: 'North Malé Atoll, Maldives · December 2023',
    title: 'The sandbank disappears at high tide. They had twenty minutes.',
    meta: ['🌊 Ocean', '🔒 Private', '$$$$', 'Maldives'],
    dest: 'Maldives',
    body: `<p>The sandbank appears for approximately three hours per day, depending on the tide. At its widest, it is perhaps sixty metres long and eight metres across — a strip of white sand in the middle of the Indian Ocean, surrounded by water in every direction. By afternoon, it is gone.</p>
<p>Daniel had been corresponding with the resort concierge for two weeks. He had the tide tables. He had the champagne requested, the rose petals arranged, the exact sunset time calculated to within a minute. The seaplane transfer had been booked as a "scenic excursion" so Camille would have no reason to suspect anything unusual.</p>
<div class="story-pull">"The pilot landed and I saw the setup from the window. I already knew before we got off the plane."</div>
<p>Camille, for the record, says she did not know until she stepped onto the sandbank. Daniel says the expression on her face as they descended from the aircraft suggests otherwise. They have agreed to disagree.</p>
<p>He dropped to one knee as the sun hit the horizon. The champagne was chilling in a bucket at the waterline. The water was already at their ankles when they finally broke the embrace.</p>
<p>They made it back to the seaplane with three minutes to spare before the tide returned. Camille says she would have stayed anyway. Daniel believes her.</p>`
  },
  'santorini': {
    bg: 'linear-gradient(150deg,#12101e,#1c1a2e)',
    photo: 'https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?w=1200&q=80&fit=crop',
    eyebrow: 'Oia, Santorini, Greece · August 2024',
    title: 'She bought the dress that morning. He had planned everything around a different one.',
    meta: ['🏛 Clifftop', '🔒 Private', '$$$$', 'Santorini'],
    dest: 'Santorini',
    body: `<p>The dress was black and gold, handmade on the island, spotted in a boutique in Oia on what Lexi thought was just a morning of wandering. She bought it on impulse. Her partner — who had arranged a private clifftop dinner for that evening, timed to the second of sunset, with a photographer in position below the terrace — had no idea she would walk in wearing it.</p>
<p>He had planned the proposal for a different dress entirely. The black and gold was, in his words, "an upgrade I didn't deserve credit for."</p>
<div class="story-pull">"She looked at me across the table and said she felt like she was in a film. I thought: that's the moment."</div>
<p>The photographer, who had been told to pose as a tourist and stay at least thirty metres away, later admitted he had moved closer than instructed because the light on the terrace was too good to waste.</p>
<p>He read her a letter. Eight minutes later, he got down on one knee. The Aegean turned pink behind them. She said yes before he finished the sentence, which he considers slightly unfair given the effort that had gone into the ending.</p>
<p>They are still together. The dress is framed.</p>`
  },
  'costa-rica': {
    bg: 'linear-gradient(150deg,#081408,#101e10)',
    photo: 'https://images.unsplash.com/photo-1544735716-392fe2489ffa?w=1200&q=80&fit=crop',
    eyebrow: 'Monteverde Cloud Forest, Costa Rica · March 2024',
    title: 'Suspended in the mist. 150 metres above the jungle. She said yes eleven times.',
    meta: ['🌿 Jungle', '🌉 Bridge', '$$', 'Costa Rica'],
    dest: 'Costa Rica',
    body: `<p>The private hanging bridge tour was booked as a "sunrise nature walk." Just the two of them and a local guide, starting before the cloud forest opened to regular visitors. Luca had briefed the guide three days earlier.</p>
<p>The guide's instructions were simple: get them to the third bridge by 6:15am, then quietly disappear. He did both things.</p>
<div class="story-pull">"You could hear howler monkeys somewhere below us. The entire world was underneath that bridge."</div>
<p>Standing on a suspension bridge in the mist, the jungle canopy spread out beneath them and the clouds moving through at eye level, Luca asked. Sofia laughed first. This is apparently a habit of hers in moments of high emotion.</p>
<p>Then she cried. Then she said yes.</p>
<p>According to Luca, she said it eleven times on the walk back down, each repetition slightly louder than the last. Sofia maintains the number was four and that Luca has embellished. The guide — who had not gone as far as instructed and was still within earshot for most of the walk — has confirmed eleven.</p>
<p>They visit Costa Rica every year. Sofia says it smells like the best moment of her life.</p>`
  },
  'tulum': {
    bg: 'linear-gradient(150deg,#1a0e04,#241604)',
    photo: 'https://images.unsplash.com/photo-1682687220742-aba13b6e50ba?w=1200&q=80&fit=crop',
    eyebrow: 'Cenote Dos Ojos, Tulum, Mexico · April 2024',
    title: 'The cenote was empty at sunrise. He had arranged that too.',
    meta: ['💧 Cenote', '🔒 Private', '$$$', 'Tulum'],
    dest: 'Tulum',
    body: `<p>Getting private access to a cenote near Tulum before the tourists arrive requires knowing the right person. Jake had been corresponding with a local guide for six weeks. He arrived in Tulum three days before his girlfriend, used the time to confirm the access, walk the route, and test exactly what the light looked like inside the cave at 6am.</p>
<p>The answer was: otherworldly. Shafts of light through the cave ceiling, turquoise water with no current, a silence that made conversation feel inappropriate.</p>
<div class="story-pull">"She opened the bag and went very still. Then she looked at me. Then back at the note. Then she started shaking."</div>
<p>He had wrapped the ring in a handwritten note and placed it inside a small woven bag from the local market — the kind she collected from every trip. He handed it to her as they stood at the edge of the water. She assumed it was a trinket from the market.</p>
<p>When she unfolded the note, her hands were shaking before she opened the box. He says she read the note three times before looking up. She doesn't remember reading it at all.</p>
<p>She says the cenote proposal was the most beautiful thing she has ever experienced. She means the proposal. He is fairly confident she also means the cenote.</p>`
  },
  'algarve': {
    bg: 'linear-gradient(150deg,#0a1018,#141e2a)',
    photo: 'https://images.unsplash.com/photo-1555881400-74d7acaacd8b?w=1200&q=80&fit=crop',
    eyebrow: 'Benagil Sea Cave, Algarve, Portugal · September 2024',
    title: 'He kayaked into a hidden sea cave with a ring in a dry bag and a plan that nearly got waterlogged.',
    meta: ['🌊 Sea Cave', '🔒 Private', '$$', 'Algarve'],
    dest: 'Algarve',
    body: `<p>The Benagil Cave in the Algarve is one of the most photographed places in Portugal. By midday it is crowded with tour boats and swimmers. At golden hour, after the last excursion has left, it is something else entirely.</p>
<p>Ben rented a double kayak at 5:30pm, when the tour operators were packing up. He had the ring in a waterproof dry bag strapped to the bow of the kayak — a fact that caused him moderate anxiety for the entire paddle out, given that the swell was picking up.</p>
<div class="story-pull">"The light through the ceiling of the cave was turning everything gold. I thought: if not now, when?"</div>
<p>They paddled through the narrow entrance and emerged inside the cave as the evening light poured through the natural skylight in the ceiling — a circular opening in the rock above the water, throwing a column of gold into the sea.</p>
<p>He stopped paddling. Reached for the dry bag. Opened it with hands that he insists were completely steady. She disputes this.</p>
<p>The acoustics inside the cave, she later noted, made the yes sound magnificent. He suggests she exaggerated. She maintains she did not — and that if anything, she held back.</p>
<p>They paddled back in the dark. He says it was the best paddle of his life. She says she barely remembers the paddle at all.</p>`
  },
  'provence': {
    bg: 'linear-gradient(150deg,#1a1430,#241e40)',
    photo: 'https://images.unsplash.com/photo-1499856871958-5b9357976b82?w=1200&q=80&fit=crop',
    eyebrow: 'Valensole, Provence, France · July 2024',
    title: 'He had been writing her letters for three years. She found out in a lavender field.',
    meta: ['🌾 Lavender Field', '🔒 Private', '$$$', 'South of France'],
    dest: 'South of France',
    body: `<p>Marc had been writing Isabelle letters since their second month together. Not sending them — just writing them, folding them, placing them in a small leather-bound book he kept in the bottom drawer of his desk. By July 2024, there were forty-one letters. She had no idea any of them existed.</p>
<p>He arranged a sunset access to a lavender farm near Valensole — private, end of day, when the tour groups were gone and the fields smelled strongest. He told Isabelle a photographer friend wanted to do a portrait session. She wore a white dress, which she insists was a coincidence and which everyone who knows her considers implausible.</p>
<div class="story-pull">"She read three letters in the field. She didn't finish the third. She just looked up."</div>
<p>When they reached the far edge of the field, Marc stopped walking and handed her the book. He told her what it was. She opened it.</p>
<p>She read the first letter standing up. She read the second sitting down in the lavender. She started the third, stopped partway through, and looked up at him. She didn't need to read the rest.</p>
<p>He proposed in the field as the sun went down over the hills. The photographer — who was a real friend, and had been briefed in advance — captured all of it from a distance, including the moment she sat down in the flowers and the moment she stood back up again.</p>
<p>Isabelle says she has now read all forty-one letters. She says the forty-first is her favourite. Marc won't say what it says. He says she can tell people if she wants to.</p>`
  },
  'switzerland': {
    bg: 'linear-gradient(150deg,#0c1420,#101e2e)',
    photo: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1200&q=80&fit=crop',
    eyebrow: 'Bernese Oberland, Switzerland · October 2024',
    title: 'A private cable car. Dusk. The Jungfrau. He had the date engraved inside the band.',
    meta: ['⛰ Alps', '🔒 Private', '$$$$', 'Switzerland'],
    dest: 'Switzerland',
    body: `<p>Oliver had researched the Bernese Oberland for four months before finding the spot: a cable car station above the valley that locals used but tourists almost never discovered, with an unobstructed view of the Jungfrau on one side and the Eiger on the other. No signage directing people to it. No entry in the guidebooks. The kind of place you find only by asking the right person.</p>
<p>He had arranged private access at dusk. He told Claire they were going for dinner in the village. She spent the cable car ride convinced something was wrong with him because he kept looking out the window and not speaking.</p>
<div class="story-pull">"There was no one else anywhere. The silence was the loudest thing I had ever experienced."</div>
<p>When they stepped out onto the platform and she saw the Jungfrau in the last light — snowfields turning amber, the valley below in shadow, everything perfectly still — she said nothing for almost a minute. Oliver says it was the most peaceful sixty seconds of his life.</p>
<p>Then he reached into his coat. She turned. He says she cried before he said a word. She says that's not possible and that he is misremembering the sequence of events. He says he has a very clear memory of this particular sequence of events.</p>
<p>She discovered the engraved date on the inside of the band the following morning. He says the engraver had it done in three days. The jeweller, he notes, called it one of the better requests he'd received that year.</p>`
  },
  'nicaragua': {
    bg: 'linear-gradient(150deg,#10180a,#182008)',
    photo: 'https://images.unsplash.com/photo-1605649487212-47bdab064df7?w=1200&q=80&fit=crop',
    eyebrow: 'Isla de Ometepe, Nicaragua · January 2024',
    title: 'No roads reach it. No tour boats stop there. She had absolutely no idea.',
    meta: ['🌋 Volcano', '🔒 Private', '$$', 'Nicaragua'],
    dest: 'Nicaragua',
    body: `<p>Ryan arrived on Ometepe three days before Natalie. He had one task: find the place. He rented a bicycle, explored the island's unpaved roads, and eventually asked a fisherman who took him by boat around the far side — where the two volcanos meet the lake and the jungle comes down to a black sand cove with no road access, no boat traffic, and no other tourists.</p>
<p>He spent the next three days establishing whether the boatman would be willing to take them there at sunset. The boatman said yes. Ryan booked it.</p>
<div class="story-pull">"When we came around the headland and she saw the cove for the first time — the two volcanos reflected in the water — she just said: oh."</div>
<p>Natalie arrived on a Wednesday. Ryan told her they were going exploring. He did not tell her they were going by boat. He did not tell her where. She later said she would have asked more questions if she had known Nicaragua had places like that.</p>
<p>When the wooden boat rounded the headland and the cove opened up — obsidian sand, a wall of jungle, the twin peaks of Concepción and Maderas reflected perfectly in the still water — Natalie said nothing. Just: oh.</p>
<p>He asked her to marry him as the sun went behind the western peak. She said yes before the light was gone. The boatman, who had quietly moved to the far end of the cove, gave them forty minutes before starting the engine. Ryan says forty minutes was not nearly enough. Natalie agrees.</p>`
  }
};

function openStoryPage(key) {
  const story = STORY_DATA[key];
  if (!story) return;
  const heroBg = document.getElementById('story-hero-bg');
  if (story.photo) {
    heroBg.style.background = `linear-gradient(rgba(0,0,0,0.3),rgba(0,0,0,0.55)), url('${story.photo}') center/cover`;
  } else {
    heroBg.style.background = story.bg;
  }
  document.getElementById('story-eyebrow').textContent = story.eyebrow;
  document.getElementById('story-title').textContent = story.title;
  document.getElementById('story-meta').innerHTML = story.meta.map(m => `<span>${m}</span>`).join('');
  document.getElementById('story-body').innerHTML = story.body;
  const exploreBtn = document.getElementById('story-explore-btn');
  if (exploreBtn) {
    exploreBtn.textContent = `Explore ${story.dest} spots →`;
    exploreBtn.onclick = () => goToDestination(story.dest);
  }
  showPage('story');
  window.scrollTo(0,0);
}

// ─── CHECKLIST DOWNLOAD ───
function handleChecklistDownload() {
  const email = localStorage.getItem('ps_email');
  if (email) {
    // User has account — confirm it was sent
    const btn = document.getElementById('checklist-download-btn');
    if (btn) {
      btn.textContent = '✓ Sent to your email';
      btn.style.background = '#6a8a5a';
      btn.style.color = '#f4f1eb';
    }
  } else {
    // Prompt to sign up
    pendingSaveId = null;
    window._checklistPending = true;
    openSaveModal();
  }
}

function openSignUpPrompt() {
  // Open save modal in sign-up mode (no pending spot)
  pendingSaveId = null;
  openSaveModal();
}

function openCollection() {
  renderCollection();
  showPage('collection');
}

function renderCollection() {
  const grid  = document.getElementById('collection-grid');
  const empty = document.getElementById('collection-empty');
  const sub   = document.getElementById('collection-sub');

  const spots = allSpots.filter(s => savedSpotIds.includes(s.id));

  if (spots.length === 0) {
    grid.style.display  = 'none';
    empty.style.display = 'block';
    return;
  }

  grid.style.display  = '';
  empty.style.display = 'none';
  sub.textContent = `${spots.length} spot${spots.length > 1 ? 's' : ''} saved to your collection.`;

  grid.innerHTML = spots.map(s => {
    const img = s['Cover Photo'] ? `background-image:url('${s['Cover Photo']}')` : `background:${s.coverGradient||'var(--bg3)'}`;
    return `<div class="spot-card" onclick="openSpotDrawer('${s.id}')" style="cursor:pointer">
      <div class="spot-card-img" style="${img};background-size:cover;background-position:center">
        <button class="spot-save saved" onclick="event.stopPropagation();removeSavedSpot('${s.id}')" title="Remove from collection">♥</button>
      </div>
      <div class="spot-card-body">
        <div class="spot-card-meta">${s.Region||''} · ${s.Country||''}</div>
        <div class="spot-card-name">${s.Name}</div>
        <p class="spot-card-summary">${s['Line Summary']||''}</p>
      </div>
    </div>`;
  }).join('');
}

function removeSavedSpot(id) {
  savedSpotIds = savedSpotIds.filter(x => x !== id);
  localStorage.setItem('ps_saved', JSON.stringify(savedSpotIds));
  renderCollection();
  const navLink = document.getElementById('nav-collection');
  if (navLink) navLink.classList.toggle('has-saves', savedSpotIds.length > 0);
}

// ─────────────────────────────────────────────────────────
//  FILTER SPOTS
// ─────────────────────────────────────────────────────────
function applySpotFilters() {
  renderSpots(getFilteredSpots());
}

// ─────────────────────────────────────────────────────────
//  INIT
// ─────────────────────────────────────────────────────────
async function init() {
  // Show loading state
  const grid = document.getElementById('spots-grid');
  if (grid) grid.innerHTML = '<div style="grid-column:1/-1;text-align:center;padding:48px 0;font-family:\'Jost\',sans-serif;font-size:12px;color:var(--muted);letter-spacing:0.1em;">Loading spots...</div>';

  allSpots = await fetchSpots();

  // Show data source banner in console AND as subtle indicator
  const source = AIRTABLE_LIVE ? 'Airtable' : 'Mock';
  console.log(`%c Proposal Spots — ${source} data — ${allSpots.length} spots loaded `, 'background:#1C1C1C;color:#F4F1EB;padding:4px 8px;border-radius:4px;font-family:monospace');

  renderSpots(allSpots);

  // Update nav collection link if user has saves
  const navLink = document.getElementById('nav-collection');
  if (navLink) navLink.classList.toggle('has-saves', savedSpotIds.length > 0);
}
init();

// ═══════════════════════════════════════════════════════════
//  UI STATE + FILTER LOGIC
// ═══════════════════════════════════════════════════════════

// ── Navbar scroll ──────────────────────────────
window.addEventListener('scroll', () => {
  document.getElementById('navbar').classList.toggle('scrolled', window.scrollY > 10);
});

// ── Autocomplete ───────────────────────────────
const suggestions = [
  { label:'Italy',           sub:'12 spots',   icon:'◦' },
  { label:'Greece',          sub:'8 spots',    icon:'◦' },
  { label:'Mexico',          sub:'9 spots',    icon:'◦' },
  { label:'Costa Rica',      sub:'6 spots',    icon:'◦' },
  { label:'Indonesia',       sub:'10 spots',   icon:'◦' },
  { label:'France',          sub:'11 spots',   icon:'◦' },
  { label:'Maldives',        sub:'7 spots',    icon:'◦' },
  { label:'Amalfi Coast',    sub:'Italy',      icon:'–' },
  { label:'Santorini',       sub:'Greece',     icon:'–' },
  { label:'Tulum',           sub:'Mexico',     icon:'–' },
  { label:'Bali',            sub:'Indonesia',  icon:'–' },
  { label:'South of France', sub:'France',     icon:'–' },
  { label:'Swiss Alps',      sub:'Switzerland',icon:'–' },
  { label:'Positano',        sub:'Amalfi Coast',icon:'·' },
  { label:'Oia',             sub:'Santorini',  icon:'·' },
  { label:'Nosara',          sub:'Costa Rica', icon:'·' },
  { label:'Ubud',            sub:'Bali',       icon:'·' },
];

function filterAC(val) {
  const ac = document.getElementById('ac-main');
  if (!val.trim()) { ac.style.display = 'none'; return; }
  const q = val.toLowerCase();
  const matches = suggestions.filter(s => s.label.toLowerCase().includes(q)).slice(0, 7);
  if (!matches.length) { ac.style.display = 'none'; return; }
  ac.style.display = 'block';
  ac.innerHTML = matches.map(s =>
    `<div class="autocomplete-item" onclick="pickAC('${s.label}')">
      <span class="ac-icon">${s.icon}</span>
      <span class="ac-label">${s.label}</span>
      <span class="ac-sub">${s.sub}</span>
    </div>`
  ).join('');
}

function pickAC(value) {
  document.getElementById('search-main').value = value;
  document.getElementById('ac-main').style.display = 'none';
  applySpotFilters();
}

document.addEventListener('click', e => {
  if (!e.target.closest('.search-bar-wrap'))
    document.getElementById('ac-main').style.display = 'none';
});

// ── Join the List Modal ─────────────────────────
function openJoinModal() {
  const overlay = document.getElementById('join-overlay');
  const modal   = document.getElementById('join-modal');
  overlay.style.display = 'block';
  modal.style.display   = 'block';
  document.body.style.overflow = 'hidden';
  requestAnimationFrame(() => {
    overlay.style.opacity = '1';
    modal.style.opacity   = '1';
    modal.style.transform = 'translate(-50%,-50%)';
  });
}
function closeJoinModal() {
  const overlay = document.getElementById('join-overlay');
  const modal   = document.getElementById('join-modal');
  overlay.style.opacity = '0';
  modal.style.opacity   = '0';
  modal.style.transform = 'translate(-50%,-48%)';
  setTimeout(() => {
    overlay.style.display = 'none';
    modal.style.display   = 'none';
    document.body.style.overflow = '';
    // Reset all fields
    document.getElementById('join-first').value = '';
    document.getElementById('join-last').value  = '';
    document.getElementById('join-email').value = '';
    document.getElementById('join-phone').value = '';
    document.getElementById('join-error').style.display = 'none';
    document.getElementById('join-form').style.display    = 'flex';
    document.getElementById('join-confirm').style.display = 'none';
    const btn = document.getElementById('join-btn');
    btn.textContent = 'Join the List';
    btn.disabled = false;
  }, 300);
}
function submitJoin() {
  const first = document.getElementById('join-first').value.trim();
  const last  = document.getElementById('join-last').value.trim();
  const email = document.getElementById('join-email').value.trim();
  const phone = document.getElementById('join-phone').value.trim();
  const errEl = document.getElementById('join-error');

  // Basic validation
  const emailOk = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
  if (!first || !last || !emailOk) {
    errEl.style.display = 'block';
    if (!emailOk) document.getElementById('join-email').style.borderColor = '#A55A4A';
    return;
  }
  errEl.style.display = 'none';

  // Disable button, show loading state
  const btn = document.getElementById('join-btn');
  btn.textContent = 'Saving…';
  btn.disabled = true;

  fetch('/api/join', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ first, last, email, phone })
  })
  .then(r => r.json())
  .then(() => {
    document.getElementById('join-form').style.display = 'none';
    document.getElementById('join-confirm').style.display = 'block';
    setTimeout(() => closeJoinModal(), 3500);
  })
  .catch(() => {
    // Still show success to user — don't penalise them for network issues
    document.getElementById('join-form').style.display = 'none';
    document.getElementById('join-confirm').style.display = 'block';
    setTimeout(() => closeJoinModal(), 3500);
  });
}


document.addEventListener('keydown', e => {
  if (e.key === 'Escape') closeJoinModal();
});


// 'moment' = all spots, 'stay' = only spots with Linked Hotel / Venue
let currentIntent = 'moment';

function setIntent(intent) {
  currentIntent = intent;
  document.getElementById('intent-moment').classList.toggle('active', intent === 'moment');
  document.getElementById('intent-stay').classList.toggle('active', intent === 'stay');

  // Update search label to match intent
  const label = document.querySelector('#search-main')?.previousElementSibling;
  const labelEl = document.querySelector('.search-input-inner label');
  if (labelEl) {
    labelEl.textContent = intent === 'stay'
      ? 'Where do you want to stay & propose?'
      : 'Where do you want to propose?';
  }

  applySpotFilters();
}


function doSearch() {
  if (!allSpots.length) {
    console.warn('Spots not loaded yet — retrying in 1s');
    setTimeout(doSearch, 1000);
    return;
  }
  showPage('results');
  syncResultsPills();
  renderResultsPage();
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
document.getElementById('search-main').addEventListener('keydown', e => {
  if (e.key === 'Enter') doSearch();
});

// ── Results page render ─────────────────────────
function renderResultsPage() {
  // Get current filtered spots
  let filtered = getFilteredSpots();

  const grid    = document.getElementById('results-grid');
  const empty   = document.getElementById('results-empty');
  const title   = document.getElementById('results-count-title');
  const tagsEl  = document.getElementById('results-active-tags');

  // Count title
  if (title) {
    if (filtered.length === 0) {
      title.innerHTML = `No spots found`;
    } else {
      title.innerHTML = `<strong>${filtered.length}</strong> spot${filtered.length !== 1 ? 's' : ''} found`;
    }
  }

  // Active filter tags
  if (tagsEl) {
    const tags = [];
    state.vibe.forEach(v    => tags.push({ label: `🌿 ${v}`,     rm: () => { state.vibe.delete(v);    syncResultsPills(); renderResultsPage(); }}));
    state.privacy.forEach(v => tags.push({ label: `🔒 ${v}`,     rm: () => { state.privacy.delete(v); syncResultsPills(); renderResultsPage(); }}));
    state.country.forEach(v => tags.push({ label: `📍 ${v}`,     rm: () => { state.country.delete(v); syncResultsPills(); renderResultsPage(); }}));
    state.budget.forEach(v  => tags.push({ label: `💰 ${v}`,     rm: () => { state.budget.delete(v);  syncResultsPills(); renderResultsPage(); }}));
    const q = (document.getElementById('search-main')?.value || '').trim();
    if (q) tags.push({ label: `🔍 "${q}"`, rm: () => { document.getElementById('search-main').value = ''; renderResultsPage(); }});

    tagsEl.innerHTML = tags.length
      ? `<div style="display:flex;align-items:center;gap:8px;flex-wrap:wrap;margin-bottom:12px;">
           <span style="font-family:'Jost',sans-serif;font-size:9px;letter-spacing:0.2em;text-transform:uppercase;color:var(--muted);">Active filters</span>
           ${tags.map((t, i) => `<span class="results-tag" onclick="removedResultTag(${i})">${t.label} <span class="results-tag-x">×</span></span>`).join('')}
           <span class="results-tag" style="border-color:var(--muted);color:var(--muted);" onclick="clearAllFilters();renderResultsPage()">Clear all ×</span>
         </div>`
      : '';
    // Show/hide count label based on whether filters are active
    const countLabel = document.getElementById('results-count-label');
    if (countLabel) countLabel.style.display = tags.length ? 'none' : '';
    // Store for click handler
    window._resultTags = tags;
  }

  // Render cards into results grid
  if (!filtered.length) {
    if (grid)  grid.innerHTML = '';
    if (empty) empty.style.display = 'block';
    return;
  }
  if (empty) empty.style.display = 'none';

  const privacyEmoji = { 'Private':'🔒','Light Crowd':'👥','Moderate Crowd':'👥👥','Everyone Will See':'👥👥👥' };

  if (grid) {
    grid.innerHTML = filtered.map(s => {
      const imgStyle = s['Cover Photo']
        ? `background-image:url('${s['Cover Photo']}');background-size:cover;background-position:center;`
        : `background:${s.coverGradient || 'var(--bg3)'};`;
      const badge     = s.badge ? `<span class="spot-card-badge">${s.badge}</span>` : '';
      const vibes     = [s.Vibe, s['Vibe Secondary']].filter(Boolean);
      const vibeTags  = vibes.map(v => `<span class="spot-card-tag">${v}</span>`).join('');
      const privacy   = s.Privacy || '';
      const privLabel = `${privacyEmoji[privacy] || ''} ${privacy}`.trim();
      return `
        <div class="spot-card" onclick="openSpotDrawer('${s.id}')" style="cursor:pointer">
          <div class="spot-card-img">
            <div class="img-bg" style="${imgStyle}"></div>
            ${badge}
            <div class="spot-save" data-spot-id="${s.id}" onclick="toggleSaveSpot(event,'${s.id}')">♡</div>
          </div>
          <div class="spot-card-body">
            <span class="spot-card-market">${s.Region} · ${s.Country}</span>
            <div class="spot-card-name">${s.Name}</div>
            <p class="spot-card-summary">${s['Line Summary'] || ''}</p>
            <div class="spot-card-tags">${vibeTags}</div>
            <div class="spot-card-footer">
              <span class="spot-card-budget">${s.Budget || ''}</span>
              <span class="spot-card-privacy">${privLabel}</span>
            </div>
          </div>
        </div>`;
    }).join('');
  }
}

function removedResultTag(i) {
  if (window._resultTags?.[i]) {
    window._resultTags[i].rm();
  }
}

// ── Get filtered spots (shared logic) ──────────
function getFilteredSpots() {
  let filtered = [...allSpots];
  console.log(`getFilteredSpots: ${allSpots.length} total, vibe filter:`, [...state.vibe]);

  // Intent filter — 'stay' shows only spots with a linked hotel
  if (currentIntent === 'stay') {
    filtered = filtered.filter(s => s['Linked Hotel / Venue'] && s['Linked Hotel / Venue'].trim() !== '');
  }


  if (state.vibe.size > 0) {
    filtered = filtered.filter(s => {
      const allVibes = [
        s.Vibe,
        ...(Array.isArray(s['Vibe Secondary All']) ? s['Vibe Secondary All'] : [s['Vibe Secondary']]),
        ...(Array.isArray(s['Other Vibe']) ? s['Other Vibe'] : (s['Other Vibe'] ? [s['Other Vibe']] : []))
      ].filter(Boolean);
      return allVibes.some(v => state.vibe.has(v));
    });
  }
  if (state.privacy.size > 0) {
    filtered = filtered.filter(s => state.privacy.has(s.Privacy));
  }
  if (state.budget.size > 0) {
    const bmap = { 'Free':'Free','Moderate':'$$','Expensive':'$$$','Luxury':'$$$$' };
    filtered = filtered.filter(s => [...state.budget].some(b => s.Budget === (bmap[b] || b)));
  }
  if (state.food.size > 0) {
    filtered = filtered.filter(s => state.food.has(s['Food & Drinks']));
  }
  if (state.time.size > 0) {
    filtered = filtered.filter(s =>
      Array.isArray(s['Best Time']) ? s['Best Time'].some(t => state.time.has(t)) : state.time.has(s['Best Time'])
    );
  }
  if (state.effort.size > 0) {
    filtered = filtered.filter(s => state.effort.has(s['Access & Effort']));
  }
  if (state.toggles.heels) {
    filtered = filtered.filter(s => s['Heal / Dress Friendly'] === true);
  }
  // Country filter
  if (state.country && state.country.size > 0) {
    filtered = filtered.filter(s => state.country.has(s.Country));
  }
  const q = (document.getElementById('search-main')?.value || '').toLowerCase().trim();
  if (q) {
    filtered = filtered.filter(s =>
      s.Name.toLowerCase().includes(q) ||
      (s.Region || '').toLowerCase().includes(q) ||
      (s.Country || '').toLowerCase().includes(q)
    );
  }
  return filtered;
}

// ── Country filter ──────────────────────────────
function toggleCountryFilter(el, val) {
  el.classList.toggle('selected');
  if (!state.country) state.country = new Set();
  state.country.has(val) ? state.country.delete(val) : state.country.add(val);
  syncResultsPills();
  renderResultsPage();
}

// ── Results page dedicated filter toggle ────────
// Used by Vibe + Privacy pills ON the results page
// Always re-renders results, never touches homepage grid
function toggleResultsFilter(el, cat, val) {
  el.classList.toggle('selected');
  state[cat].has(val) ? state[cat].delete(val) : state[cat].add(val);
  syncResultsPills();
  renderResultsPage();
}

// ── Sync pill active states on results page ─────
function syncResultsPills() {
  const vEl = document.getElementById('rpill-vibe');
  const pEl = document.getElementById('rpill-privacy');
  const cEl = document.getElementById('rpill-country');
  const fEl = document.getElementById('rpill-all');
  const vcEl = document.getElementById('rvibe-count');
  const pcEl = document.getElementById('rprivacy-count');
  const ccEl = document.getElementById('rcountry-count');
  const fcEl = document.getElementById('rfilter-count');

  if (vEl)  vEl.classList.toggle('active', state.vibe.size > 0);
  if (vcEl) { vcEl.style.display = state.vibe.size > 0 ? '' : 'none'; vcEl.textContent = state.vibe.size; }
  if (pEl)  pEl.classList.toggle('active', state.privacy.size > 0);
  if (pcEl) { pcEl.style.display = state.privacy.size > 0 ? '' : 'none'; pcEl.textContent = state.privacy.size; }
  const cs = state.country?.size || 0;
  if (cEl)  cEl.classList.toggle('active', cs > 0);
  if (ccEl) { ccEl.style.display = cs > 0 ? '' : 'none'; ccEl.textContent = cs; }
  const total = state.budget.size + state.food.size + state.time.size + state.effort.size + (state.toggles.heels ? 1 : 0);
  if (fEl)  fEl.classList.toggle('active', total > 0);
  if (fcEl) { fcEl.style.display = total > 0 ? '' : 'none'; fcEl.textContent = total; }
  syncResultsTagSelectedStates();
}

// ── Results page inline panel toggles ──────────
function toggleResultsPanel(panelId, pillId) {
  document.querySelectorAll('.results-inline-panel').forEach(p => {
    if (p.id !== panelId) p.classList.remove('open');
  });
  document.getElementById(panelId)?.classList.toggle('open');
  syncResultsTagSelectedStates();
}

function syncResultsTagSelectedStates() {
  // Vibe tags — match by onclick attribute value
  document.querySelectorAll('#rvibe-panel .filter-tag').forEach(el => {
    const match = el.getAttribute('onclick').match(/"vibe","([^"]+)"/);
    if (match) el.classList.toggle('selected', state.vibe.has(match[1]));
  });
  // Privacy tags
  document.querySelectorAll('#rprivacy-panel .filter-tag').forEach(el => {
    const match = el.getAttribute('onclick').match(/"privacy","([^"]+)"/);
    if (match) el.classList.toggle('selected', state.privacy.has(match[1]));
  });
  // Country tags
  document.querySelectorAll('#rcountry-panel .filter-tag').forEach(el => {
    el.classList.toggle('selected', state.country?.has(el.textContent.trim()));
  });
}
document.addEventListener('click', e => {
  // Results page panels
  if (document.getElementById('page-results')?.classList.contains('active')) {
    if (!e.target.closest('#page-results .results-panel-wrap') && !e.target.closest('#rpill-all')) {
      document.querySelectorAll('#page-results .results-inline-panel').forEach(p => p.classList.remove('open'));
    }
  }
  // Dest landing panels
  if (document.getElementById('page-dest-landing')?.classList.contains('active')) {
    if (!e.target.closest('#page-dest-landing .results-panel-wrap')) {
      document.querySelectorAll('#page-dest-landing .results-inline-panel').forEach(p => p.classList.remove('open'));
    }
  }
});

// ── Inline panels (Vibe / Privacy) ────────────
let openPanel_inline = null;

function toggleInlinePanel(panelId, pillId) {
  const panel = document.getElementById(panelId);
  const pill  = document.getElementById(pillId);
  const stats = document.getElementById('hero-stats');
  const isOpen = panel.classList.contains('open');

  // Close any other open inline panel
  document.querySelectorAll('.inline-panel').forEach(p => p.classList.remove('open'));
  document.querySelectorAll('.pill-btn').forEach(p => p.classList.remove('open'));

  if (!isOpen) {
    panel.classList.add('open');
    pill.classList.add('open');
    openPanel_inline = panelId;
    if (stats) stats.style.visibility = 'hidden';
  } else {
    openPanel_inline = null;
    if (stats) stats.style.visibility = '';
  }
}

function toggleInlineTag(el, cat, val) {
  el.classList.toggle('selected');
  state[cat].has(val) ? state[cat].delete(val) : state[cat].add(val);

  // Update homepage pill count badges
  const countEl = document.getElementById(cat + '-count');
  const pillEl  = document.getElementById('pill-' + cat);
  if (countEl && pillEl) {
    const size = state[cat].size;
    pillEl.classList.toggle('active', size > 0);
    countEl.style.display = size > 0 ? '' : 'none';
    if (size > 0) countEl.textContent = size;
  }

  // Sync results page pills and re-render if on results page
  syncResultsPills();
  if (document.getElementById('page-results')?.classList.contains('active')) {
    renderResultsPage();
  } else {
    renderActiveTags();
    applySpotFilters();
  }
}

// Close inline panels on outside click
document.addEventListener('click', e => {
  if (!e.target.closest('.inline-panel') && !e.target.closest('#pill-vibe') && !e.target.closest('#pill-privacy')) {
    document.querySelectorAll('.inline-panel').forEach(p => p.classList.remove('open'));
    document.querySelectorAll('.pill-btn').forEach(p => {
      if (p.id !== 'pill-filters') p.classList.remove('open');
    });
    openPanel_inline = null;
    const stats = document.getElementById('hero-stats');
    // Only show stats if no inline panel open
    if (stats) stats.style.visibility = '';
  }
});

// ── Filter panel ───────────────────────────────
function openPanel() {
  document.getElementById('filter-panel').classList.add('open');
  document.getElementById('filter-overlay').classList.add('open');
  document.body.style.overflow = 'hidden';
}
function closePanel() {
  document.getElementById('filter-panel').classList.remove('open');
  document.getElementById('filter-overlay').classList.remove('open');
  document.body.style.overflow = '';
}
function togglePanelTag(el, cat, val) {
  el.classList.toggle('selected');
  state[cat].has(val) ? state[cat].delete(val) : state[cat].add(val);
  updateFilterCount();
}
function togglePanelRadio(el, cat, val) {
  el.parentElement.querySelectorAll('.filter-radio').forEach(s => s.classList.remove('selected'));
  state[cat] = state[cat] === val ? null : val;
  if (state[cat]) el.classList.add('selected');
  updateFilterCount();
}
function toggleSwitch(key) {
  state.toggles[key] = !state.toggles[key];
  document.getElementById('toggle-' + key).classList.toggle('on', state.toggles[key]);
  updateFilterCount();
}
function updateFilterCount() {
  const n = state.food.size + state.time.size + state.effort.size
          + state.budget.size
          + Object.values(state.toggles).filter(Boolean).length;
  const pill = document.getElementById('pill-filters');
  const cnt  = document.getElementById('filter-count');
  pill.classList.toggle('active', n > 0);
  cnt.style.display = n > 0 ? '' : 'none';
  if (n > 0) cnt.textContent = n;
}
function applyFilters() {
  closePanel();
  syncResultsPills();
  showPage('results');
  renderResultsPage();
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// ── Active tags ────────────────────────────────
function renderActiveTags() {
  const container = document.getElementById('active-tags');
  const tags = [];

  state.vibe.forEach(v => tags.push({ label: v, rm: () => {
    state.vibe.delete(v);
    document.querySelectorAll('#vibe-panel .filter-tag').forEach(e => {
      if (e.textContent.trim().replace(/^.\s/,'') === v || e.textContent.includes(v)) e.classList.remove('selected');
    });
    const cnt = document.getElementById('vibe-count');
    document.getElementById('pill-vibe').classList.toggle('active', state.vibe.size > 0);
    cnt.style.display = state.vibe.size > 0 ? '' : 'none';
    if (state.vibe.size > 0) cnt.textContent = state.vibe.size;
    renderActiveTags(); applySpotFilters();
  }}));

  state.privacy.forEach(v => tags.push({ label: v, rm: () => {
    state.privacy.delete(v);
    document.querySelectorAll('#privacy-panel .filter-tag').forEach(e => {
      if (e.textContent.includes(v)) e.classList.remove('selected');
    });
    const cnt = document.getElementById('privacy-count');
    document.getElementById('pill-privacy').classList.toggle('active', state.privacy.size > 0);
    cnt.style.display = state.privacy.size > 0 ? '' : 'none';
    if (state.privacy.size > 0) cnt.textContent = state.privacy.size;
    renderActiveTags(); applySpotFilters();
  }}));

  state.food.forEach(v => tags.push({ label: v, rm: () => {
    state.food.delete(v); updateFilterCount(); renderActiveTags(); applySpotFilters();
  }}));

  state.time.forEach(v => tags.push({ label: v, rm: () => {
    state.time.delete(v); updateFilterCount();
    document.querySelectorAll('#fg-time .filter-tag').forEach(e => { if(e.textContent.trim()===v) e.classList.remove('selected'); });
    renderActiveTags(); applySpotFilters();
  }}));

  state.effort.forEach(v => tags.push({ label: v, rm: () => {
    state.effort.delete(v); updateFilterCount();
    document.querySelectorAll('#fg-effort .filter-tag').forEach(e => { if(e.textContent.trim()===v) e.classList.remove('selected'); });
    renderActiveTags(); applySpotFilters();
  }}));

  state.budget.forEach(v => tags.push({ label: v, rm: () => {
    state.budget.delete(v); updateFilterCount();
    document.querySelectorAll('#fg-budget .filter-tag').forEach(e => { if(e.textContent.trim()===v) e.classList.remove('selected'); });
    renderActiveTags(); applySpotFilters();
  }}));

  container.innerHTML = '';
  if (!tags.length) return;

  tags.forEach(t => {
    const el = document.createElement('div');
    el.className = 'active-tag';
    el.innerHTML = `${t.label}<span class="tag-remove">✕</span>`;
    el.querySelector('.tag-remove').addEventListener('click', t.rm);
    container.appendChild(el);
  });

  const clr = document.createElement('button');
  clr.className = 'clear-all-btn';
  clr.textContent = 'Clear all';
  clr.onclick = clearAllFilters;
  container.appendChild(clr);
}

function clearAllFilters() {
  state.vibe.clear(); state.privacy.clear(); state.food.clear();
  state.time.clear(); state.effort.clear(); state.budget.clear();
  state.country.clear();
  Object.keys(state.toggles).forEach(k => {
    state.toggles[k] = false;
    document.getElementById('toggle-' + k)?.classList.remove('on');
  });
  document.querySelectorAll('.filter-tag, .filter-radio').forEach(e => e.classList.remove('selected'));
  document.getElementById('active-tags').innerHTML = '';
  document.getElementById('pill-vibe').classList.remove('active');
  document.getElementById('pill-privacy').classList.remove('active');
  document.getElementById('vibe-count').style.display = 'none';
  document.getElementById('privacy-count').style.display = 'none';
  document.getElementById('search-main').value = '';
  updateFilterCount();
  syncResultsPills();
  // Reset intent toggle
  currentIntent = 'moment';
  document.getElementById('intent-moment')?.classList.add('active');
  document.getElementById('intent-stay')?.classList.remove('active');
  const labelEl = document.querySelector('.search-input-inner label');
  if (labelEl) labelEl.textContent = 'Where do you want to propose?';
  renderSpots(allSpots);
  // If on results page, re-render it too
  if (document.getElementById('page-results')?.classList.contains('active')) {
    renderResultsPage();
  }
}

function goMarket(slug) {
  const slugMap = {
    'amalfi-coast':   'Amalfi Coast',
    'santorini':      'Santorini',
    'bali':           'Bali',
    'tulum':          'Tulum',
    'maldives':       'Maldives',
    'costa-rica':     'Costa Rica',
    'south-of-france':'South of France',
    'nicaragua':      'Nicaragua',
    'algarve':        'Algarve',
    'switzerland':    'Switzerland',
  };
  const name = slugMap[slug];
  if (name) goToDestination(name);
}

// ─────────────────────────────────────────────────────────
//  PAGE ROUTING
// ─────────────────────────────────────────────────────────
function showPage(pageId) {
  // Hide all pages
  document.querySelectorAll('.page').forEach(p => {
    p.classList.remove('active');
    p.style.display = 'none';
  });

  // Show target page
  const pg = document.getElementById('page-' + pageId);
  if (pg) {
    pg.classList.add('active');
    pg.style.display = 'block';
  }

  // Scroll to top instantly
  window.scrollTo(0, 0);

  // Update active nav states
  document.querySelectorAll('.nav-links a').forEach(a => a.classList.remove('nav-active'));
  const activeLink = document.getElementById('nav-' + pageId);
  if (activeLink) activeLink.classList.add('nav-active');

  // Proposal Map CTA colour
  const mapCta = document.getElementById('nav-map');
  if (mapCta) {
    mapCta.style.background = pageId === 'map' ? 'var(--accent)' : '';
  }
}

// ─────────────────────────────────────────────────────────
//  FAQ ACCORDION
// ─────────────────────────────────────────────────────────
function toggleFaq(btn) {
  const item = btn.closest('.faq-item');
  const isOpen = item.classList.contains('open');
  // Close all
  document.querySelectorAll('.faq-item.open').forEach(i => i.classList.remove('open'));
  // Open clicked (unless it was already open)
  if (!isOpen) item.classList.add('open');
}

// ─────────────────────────────────────────────────────────
//  MAP PIN PREVIEW
// ─────────────────────────────────────────────────────────
function openMapSpot(region, country, name, tags, gradient) {
  document.getElementById('msp-bg').style.background = gradient;
  document.getElementById('msp-loc').textContent = region + ' · ' + country;
  document.getElementById('msp-region').textContent = country.toUpperCase();
  document.getElementById('msp-name').textContent = name;
  document.getElementById('msp-tags').innerHTML = tags.split(' · ')
    .map(t => `<span>${t}</span>`).join('');
  document.getElementById('map-preview').style.display = 'block';
}

// ─────────────────────────────────────────────────────────
//  HOTEL FORM SUBMISSION
// ─────────────────────────────────────────────────────────
function submitHotelForm(e) {
  e.preventDefault();
  document.getElementById('hf-form').style.display = 'none';
  document.getElementById('hf-confirm').style.display = 'block';
}
</script>
<!-- JOIN THE LIST MODAL -->
<div id="join-overlay" style="display:none; position:fixed; inset:0; background:rgba(28,28,28,0.5); z-index:20000; opacity:0; transition:opacity 0.3s ease;" onclick="closeJoinModal()"></div>
<div id="join-modal" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-48%); z-index:20001; background:var(--white); border-radius:16px; padding:52px 48px; max-width:460px; width:calc(100% - 48px); box-shadow:0 24px 80px rgba(28,28,28,0.18); transition:transform 0.3s ease, opacity 0.3s ease; opacity:0;">
  <button onclick="closeJoinModal()" style="position:absolute; top:20px; right:20px; background:none; border:none; cursor:pointer; color:var(--muted); font-size:18px; line-height:1;">✕</button>
  <span style="font-family:'Jost',sans-serif; font-size:9px; font-weight:400; letter-spacing:0.28em; text-transform:uppercase; color:#A55A4A; display:block; margin-bottom:14px;">Early Access</span>
  <h2 style="font-family:'Cormorant',serif; font-size:32px; font-weight:300; color:var(--ink); line-height:1.15; margin-bottom:12px;">Be first to discover<br>new <em>proposal spots.</em></h2>
  <p style="font-family:'Jost',sans-serif; font-size:13px; font-weight:300; color:var(--mid); line-height:1.8; letter-spacing:0.02em; margin-bottom:32px;">New locations, curated collections, and planning guides — delivered quietly. No noise.</p>
  <div id="join-form" style="display:flex; flex-direction:column; gap:12px;">
    <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
      <input id="join-first" type="text" placeholder="First name" style="font-family:'Jost',sans-serif; font-size:13px; font-weight:300; color:var(--ink); background:var(--bg); border:1px solid var(--hairline); border-radius:8px; padding:15px 18px; outline:none; letter-spacing:0.02em; transition:border-color 0.2s; width:100%; box-sizing:border-box;" onfocus="this.style.borderColor='var(--ink)'" onblur="this.style.borderColor='var(--hairline)'">
      <input id="join-last" type="text" placeholder="Last name" style="font-family:'Jost',sans-serif; font-size:13px; font-weight:300; color:var(--ink); background:var(--bg); border:1px solid var(--hairline); border-radius:8px; padding:15px 18px; outline:none; letter-spacing:0.02em; transition:border-color 0.2s; width:100%; box-sizing:border-box;" onfocus="this.style.borderColor='var(--ink)'" onblur="this.style.borderColor='var(--hairline)'">
    </div>
    <input id="join-email" type="email" placeholder="Email address" style="font-family:'Jost',sans-serif; font-size:13px; font-weight:300; color:var(--ink); background:var(--bg); border:1px solid var(--hairline); border-radius:8px; padding:15px 18px; outline:none; letter-spacing:0.02em; transition:border-color 0.2s;" onfocus="this.style.borderColor='var(--ink)'" onblur="this.style.borderColor='var(--hairline)'">
    <input id="join-phone" type="tel" placeholder="Phone number (optional)" style="font-family:'Jost',sans-serif; font-size:13px; font-weight:300; color:var(--ink); background:var(--bg); border:1px solid var(--hairline); border-radius:8px; padding:15px 18px; outline:none; letter-spacing:0.02em; transition:border-color 0.2s;" onfocus="this.style.borderColor='var(--ink)'" onblur="this.style.borderColor='var(--hairline)'">
    <div id="join-error" style="display:none; font-family:'Jost',sans-serif; font-size:11px; color:#A55A4A; letter-spacing:0.04em; padding: 0 2px;">Please fill in your name and a valid email address.</div>
    <button onclick="submitJoin()" id="join-btn" style="font-family:'Jost',sans-serif; font-size:10px; font-weight:500; letter-spacing:0.2em; text-transform:uppercase; background:var(--ink); color:var(--bg); border:none; border-radius:8px; padding:16px; cursor:pointer; transition:background 0.2s;" onmouseover="this.style.background='#A55A4A'" onmouseout="this.style.background='var(--ink)'">Join the List</button>
  </div>
  <div id="join-confirm" style="display:none; text-align:center; padding:20px 0 0;">
    <div style="font-size:22px; margin-bottom:12px;">✦</div>
    <p style="font-family:'Cormorant',serif; font-size:20px; font-weight:300; color:var(--ink);">You're on the list.</p>
    <p style="font-family:'Jost',sans-serif; font-size:12px; font-weight:300; color:var(--mid); margin-top:8px; letter-spacing:0.04em;">We'll be in touch when something worth knowing arrives.</p>
  </div>
</div>

<!-- ═══ SPOT DETAIL PAGE ═══ -->
<div id="page-spot" class="page" style="display:none">
  <div class="sdp-wrap">

    <!-- Hero -->
    <div class="sdp-hero">
      <div class="sdp-hero-bg" id="sdp-hero-bg"></div>
      <div class="sdp-hero-overlay"></div>
      <button class="sdp-back" id="sdp-back-btn" onclick="goBackFromSpot()">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M9 2L4 7l5 5"/></svg>
        Back
      </button>
      <div class="sdp-hero-badge" id="sdp-badge" style="display:none"></div>
      <button class="sdp-heart-btn" id="sdp-heart-btn" onclick="toggleSaveSpot(event)">♡</button>
      <div class="sdp-hero-bottom">
        <span class="sdp-hero-loc" id="sdp-loc"></span>
        <h1 class="sdp-hero-name" id="sdp-name"></h1>
        <p class="sdp-line-summary" id="sdp-line-summary"></p>
      </div>
    </div>

    <!-- Body -->
    <div class="sdp-body">
      <div class="sdp-cols">

        <!-- Main column -->
        <div class="sdp-main">

          <!-- Stats bar -->
          <div class="sdp-stats">
            <div class="sdp-stat">
              <span class="sdp-stat-lbl">Budget</span>
              <span class="sdp-stat-val" id="sdp-budget">—</span>
            </div>
            <div class="sdp-stat">
              <span class="sdp-stat-lbl">Privacy</span>
              <span class="sdp-stat-val" id="sdp-privacy">—</span>
            </div>
            <div class="sdp-stat">
              <span class="sdp-stat-lbl">Best Time</span>
              <span class="sdp-stat-val" id="sdp-time">—</span>
            </div>
            <div class="sdp-stat">
              <span class="sdp-stat-lbl">Access</span>
              <span class="sdp-stat-val" id="sdp-effort">—</span>
            </div>
          </div>

          <!-- Gallery -->
          <div class="sdp-gallery" id="sdp-gallery-section" style="display:none">
            <span class="sdp-lbl">The experience</span>
            <div class="sdp-gallery-viewer" id="sdp-gallery-viewer" onclick="galleryNext()">
              <img class="sdp-gallery-main-img" id="sdp-gallery-main" src="" alt="Proposal experience">
              <div class="sdp-gallery-arrow prev" onclick="event.stopPropagation(); galleryPrev()">&#8249;</div>
              <div class="sdp-gallery-arrow next" onclick="event.stopPropagation(); galleryNext()">&#8250;</div>
              <div class="sdp-gallery-dots" id="sdp-gallery-dots"></div>
              <div class="sdp-gallery-count" id="sdp-gallery-count"></div>
            </div>
          </div>

          <!-- About -->
          <div class="sdp-about">
            <span class="sdp-lbl">About this spot</span>
            <p class="sdp-about-text" id="sdp-full-summary"></p>
          </div>

          <!-- Proposal Plan -->
          <div class="sdp-plan" id="sdp-plan-section">
            <span class="sdp-lbl">Your proposal plan</span>
            <div id="sdp-steps"></div>
          </div>

          <!-- Vibes -->
          <div class="sdp-vibes" id="sdp-vibes"></div>

        </div>

        <!-- Sidebar -->
        <div class="sdp-sidebar">
          <div class="sdp-sidebar-card">

            <!-- Hotel confirmed on booking — hidden until deposit paid -->
            <div id="sdp-hotel-block" style="display:none">
              <span class="sdp-hotel-lbl">Curated Hotel & Venue</span>
              <div class="sdp-hotel-name" id="sdp-hotel-name" style="display:none"></div>
              <div style="font-family:'Jost',sans-serif;font-size:11px;font-weight:300;color:var(--muted);letter-spacing:0.04em;font-style:italic">
                Revealed after booking confirmation
              </div>
            </div>

            <!-- Season badge — shown always -->
            <div class="sdp-season-badge" id="sdp-season-badge" style="display:none">
              <span class="sdp-season-dot" id="sdp-season-dot"></span>
              <span class="sdp-season-label" id="sdp-season-label"></span>
              <span class="sdp-season-hint" id="sdp-season-hint"></span>
            </div>

            <!-- Package tiers — always visible -->
            <div class="sdp-packages" id="sdp-packages" style="display:none">
              <span class="sdp-lbl" style="margin-bottom:12px">Choose your package</span>

              <div class="sdp-package" id="pkg-moment" onclick="selectPackage('moment')">
                <div class="sdp-pkg-header">
                  <div>
                    <span class="sdp-pkg-name">The Moment</span>
                    <span class="sdp-pkg-desc">Spot access · coordination · planning doc</span>
                  </div>
                  <span class="sdp-pkg-price" id="pkg-moment-price">—</span>
                </div>
              </div>

              <div class="sdp-package selected" id="pkg-hotel" onclick="selectPackage('hotel')">
                <div class="sdp-pkg-header">
                  <div>
                    <span class="sdp-pkg-name">Hotel & Moment</span>
                    <span class="sdp-pkg-desc">Hotel nights · proposal setup · all coordination</span>
                  </div>
                  <span class="sdp-pkg-price" id="pkg-hotel-price">—</span>
                </div>
                <div class="sdp-pkg-nights" id="pkg-hotel-nights" style="font-family:'Jost',sans-serif;font-size:10px;font-weight:300;color:var(--muted);margin-top:4px;letter-spacing:0.02em"></div>
                <span class="sdp-pkg-popular">Most popular</span>
              </div>

              <!-- Photographer add-on -->
              <div class="sdp-addon" id="sdp-addon-photo" style="display:none">
                <label class="sdp-addon-row" onclick="togglePhotographerAddon()">
                  <div class="sdp-addon-check" id="sdp-addon-check"></div>
                  <div class="sdp-addon-text">
                    <span class="sdp-addon-name">📷 Add a photographer</span>
                    <span class="sdp-addon-desc" id="sdp-addon-desc">2hr coverage · 60 edited photos</span>
                  </div>
                  <span class="sdp-addon-price" id="sdp-addon-price">+ —</span>
                </label>
              </div>

              <p class="sdp-pkg-note">Estimates based on <span id="sdp-season-inline">standard</span> season rates. Exact pricing confirmed within 24hrs.</p>
            </div>

            <!-- STEP 1: Hotel Dates -->
            <div class="sdp-booking-step" id="sdp-step-1">
              <div class="sdp-step-header">
                <span class="sdp-step-num">01</span>
                <div>
                  <span class="sdp-step-title">Select your stay</span>
                  <span class="sdp-step-sub">Pick your check-in & check-out</span>
                </div>
              </div>
              <div class="sdp-date-row">
                <div class="sdp-date-field">
                  <label class="sdp-date-lbl">Check in</label>
                  <input type="date" id="sdp-checkin" class="sdp-date-input" onchange="onCheckinChange()" min="">
                </div>
                <div class="sdp-date-field">
                  <label class="sdp-date-lbl">Check out</label>
                  <input type="date" id="sdp-checkout" class="sdp-date-input" onchange="onHotelDatesChange()" min="">
                </div>
              </div>
              <div class="sdp-nights-display" id="sdp-nights-display" style="display:none"></div>
            </div>

            <!-- STEP 2: Proposal Night (unlocks after hotel dates) -->
            <div class="sdp-booking-step sdp-step-locked" id="sdp-step-2">
              <div class="sdp-step-header">
                <span class="sdp-step-num">02</span>
                <div>
                  <span class="sdp-step-title">Plan your moment</span>
                  <span class="sdp-step-sub">Which night(s) would you like to propose?</span>
                </div>
              </div>
              <div class="sdp-proposal-dates" id="sdp-proposal-dates">
                <p class="sdp-step-hint">Select your stay above to see available nights</p>
              </div>
            </div>

            <!-- Live price summary (shows after night selected) -->
            <div class="sdp-pricing-block" id="sdp-pricing-block" style="display:none">
              <hr class="sdp-sidebar-divider" style="margin:0 0 16px">
              <div class="sdp-price-row">
                <span class="sdp-price-label">Package</span>
                <span class="sdp-price-val" id="sdp-selected-pkg-name" style="font-size:12px">Hotel & Moment</span>
              </div>
              <div class="sdp-price-row" id="sdp-photo-price-row" style="display:none">
                <span class="sdp-price-label">Photographer</span>
                <span class="sdp-price-val" id="sdp-photo-price-line" style="font-size:12px">—</span>
              </div>
              <div class="sdp-price-row" style="padding-top:10px;border-top:1px solid var(--divider);margin-top:6px">
                <span class="sdp-price-label" style="font-weight:500;color:var(--ink)">Estimated total</span>
                <span class="sdp-price-val sdp-price-total-val" id="sdp-live-total">—</span>
              </div>
              <div class="sdp-price-row">
                <span class="sdp-price-label" style="font-size:10px;color:var(--muted)">Hold deposit today</span>
                <span class="sdp-price-val" style="font-size:13px;color:#A55A4A;font-weight:500">$300</span>
              </div>
            </div>

            <button class="sdp-btn-primary" id="sdp-book-btn" onclick="openEnquiryModal()">Request This Proposal →</button>
            <button class="sdp-btn-secondary" id="sdp-save-btn" onclick="toggleSaveSpot(event)" style="margin-bottom:8px">
              <span id="sdp-save-icon">♡</span> Save this Spot
            </button>
            <button class="sdp-btn-secondary" id="sdp-maps-btn">
              View on Google Maps
            </button>

            <p class="sdp-trust-note">
              ✦ $300 hold deposit · balance on confirmation<br>
              ✦ Full refund if we can't confirm availability
            </p>

            <!-- Access details -->
            <div id="sdp-access-block" style="display:none">
              <hr class="sdp-sidebar-divider">
              <span class="sdp-lbl">Getting there</span>
              <p class="sdp-access-txt" id="sdp-access"></p>
            </div>

            <!-- Photographer -->
            <div id="sdp-photo-block" style="display:none">
              <hr class="sdp-sidebar-divider">
              <div class="sdp-photo-row">
                <span class="sdp-photo-icon">📷</span>
                <div>
                  <span class="sdp-photo-lbl">Recommended Photographer</span>
                  <span class="sdp-photo-name" id="sdp-photographer"></span>
                </div>
              </div>
            </div>

          </div>
        </div>

      </div>
    </div>
  </div>
</div>

<!-- ═══ SPOT DETAIL DRAWER ═══ -->
<div class="spot-drawer-overlay" id="spot-overlay" onclick="closeSpotDrawer()"></div>
<div class="spot-drawer" id="spot-drawer">
  <div class="sd-hero" id="sd-hero">
    <div class="sd-hero-bg" id="sd-hero-bg"></div>
    <div class="sd-hero-overlay"></div>
    <button class="sd-hero-close" onclick="closeSpotDrawer()">✕</button>
    <div class="sd-hero-badge" id="sd-badge"></div>
    <div class="sd-hero-location" id="sd-location"></div>
  </div>
  <div class="sd-body">
    <span class="sd-region" id="sd-region"></span>
    <h2 class="sd-name" id="sd-name"></h2>
    <p class="sd-summary" id="sd-summary"></p>

    <!-- Quick stats -->
    <div class="sd-stats">
      <div class="sd-stat">
        <span class="sd-stat-label">Budget</span>
        <span class="sd-stat-val" id="sd-budget"></span>
      </div>
      <div class="sd-stat">
        <span class="sd-stat-label">Privacy</span>
        <span class="sd-stat-val" id="sd-privacy"></span>
      </div>
      <div class="sd-stat">
        <span class="sd-stat-label">Access</span>
        <span class="sd-stat-val" id="sd-effort"></span>
      </div>
      <div class="sd-stat">
        <span class="sd-stat-label">Best Time</span>
        <span class="sd-stat-val" id="sd-time"></span>
      </div>
    </div>

    <!-- About -->
    <div class="sd-section">
      <span class="sd-section-title">About this spot</span>
      <p id="sd-full-summary"></p>
    </div>

    <!-- Proposal plan -->
    <div class="sd-section" id="sd-plan-section">
      <span class="sd-section-title">Proposal Plan</span>
      <div class="sd-steps" id="sd-steps"></div>
    </div>

    <!-- Access details -->
    <div class="sd-section" id="sd-access-section">
      <span class="sd-section-title">Getting There</span>
      <p id="sd-access"></p>
    </div>

    <!-- Vibes -->
    <div class="sd-section">
      <span class="sd-section-title">Vibe</span>
      <div class="sd-tags" id="sd-tags"></div>
    </div>

    <!-- Photographer -->
    <div class="sd-section" id="sd-photo-section">
      <span class="sd-section-title">Recommended Photographer</span>
      <div class="sd-photographer">
        <div class="sd-photographer-icon">📸</div>
        <div class="sd-photographer-info">
          <span class="sd-photographer-label">Our pick for this location</span>
          <span class="sd-photographer-name" id="sd-photographer"></span>
        </div>
      </div>
    </div>

    <!-- CTAs -->
    <div class="sd-cta-row">
      <button class="sd-cta-primary" id="sd-book-btn">View Hotel & Book →</button>
      <button class="sd-cta-secondary" id="sd-map-btn" onclick="closeSpotDrawer()">View on Map</button>
    </div>
  </div>
</div>


<!-- ═══ MY COLLECTION PAGE ═══ -->
<div id="page-collection" class="page" style="display:none">
  <div class="pg-collection">
    <div class="collection-header">
      <span class="pg-eyebrow" style="text-align:center;display:block;margin-bottom:16px">Your saved spots</span>
      <h1 class="collection-title">My <em>Collection</em></h1>
      <p class="collection-sub" id="collection-sub">The proposal spots you've saved, all in one place.</p>
    </div>
    <div class="collection-body">
      <div class="spots-grid" id="collection-grid"></div>
      <div class="collection-empty" id="collection-empty" style="display:none">
        <div class="collection-empty-icon">♡</div>
        <p class="collection-empty-title">No saved spots yet.</p>
        <p class="collection-empty-sub">Save spots from across our destinations and find them here, anytime.</p>
        <div class="collection-signup-cta">
          <div class="collection-signup-inner">
            <p class="collection-signup-eyebrow">Create your free collection</p>
            <h3 class="collection-signup-heading">Start your<br><em>collection.</em></h3>
            <p class="collection-signup-body">Create your free collection in seconds. Save spots, plan your proposal, and access everything from any device. No passwords. No friction.</p>
            <button class="collection-signup-btn" onclick="openSignUpPrompt()">Sign Up to Save Spots →</button>
          </div>
        </div>
        <button class="pg-cta-btn" style="margin-top:20px;background:none;color:var(--mid);border:1px solid var(--hairline);font-size:9px;" onclick="showPage('home')">Or explore spots first →</button>
      </div>
    </div>
  </div>
</div>

<!-- ═══ SAVE SPOT MODAL ═══ -->
<div id="save-overlay" style="display:none; position:fixed; inset:0; background:rgba(28,28,28,0.5); z-index:20000; opacity:0; transition:opacity 0.3s;" onclick="closeSaveModal()"></div>
<div id="save-modal" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-48%); z-index:20001; background:var(--white); border-radius:16px; padding:52px 48px; max-width:460px; width:calc(100% - 48px); box-shadow:0 24px 80px rgba(28,28,28,0.18); transition:transform 0.3s ease, opacity 0.3s ease; opacity:0;">
  <button onclick="closeSaveModal()" style="position:absolute; top:20px; right:20px; background:none; border:none; cursor:pointer; color:var(--muted); font-size:18px; line-height:1;">✕</button>
  <div style="font-size:28px; margin-bottom:16px; text-align:center;">♡</div>
  <span style="font-family:'Jost',sans-serif; font-size:9px; font-weight:400; letter-spacing:0.28em; text-transform:uppercase; color:#A55A4A; display:block; margin-bottom:14px; text-align:center;">Save this spot</span>
  <h2 style="font-family:'Cormorant',serif; font-size:28px; font-weight:300; color:var(--ink); line-height:1.2; margin-bottom:10px; text-align:center;">Add to your <em>Collection.</em></h2>
  <p style="font-family:'Jost',sans-serif; font-size:13px; font-weight:300; color:var(--mid); line-height:1.8; letter-spacing:0.02em; margin-bottom:28px; text-align:center;">Save this spot and access your collection anytime.</p>
  <div id="save-form" style="display:flex; flex-direction:column; gap:12px;">
    <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
      <input id="save-first" type="text" placeholder="First name" style="font-family:'Jost',sans-serif; font-size:13px; font-weight:300; color:var(--ink); background:var(--bg); border:1px solid var(--hairline); border-radius:8px; padding:15px 18px; outline:none; letter-spacing:0.02em; transition:border-color 0.2s; width:100%; box-sizing:border-box;" onfocus="this.style.borderColor='var(--ink)'" onblur="this.style.borderColor='var(--hairline)'">
      <input id="save-last" type="text" placeholder="Last name" style="font-family:'Jost',sans-serif; font-size:13px; font-weight:300; color:var(--ink); background:var(--bg); border:1px solid var(--hairline); border-radius:8px; padding:15px 18px; outline:none; letter-spacing:0.02em; transition:border-color 0.2s; width:100%; box-sizing:border-box;" onfocus="this.style.borderColor='var(--ink)'" onblur="this.style.borderColor='var(--hairline)'">
    </div>
    <input id="save-phone" type="tel" placeholder="Phone number" style="font-family:'Jost',sans-serif; font-size:13px; font-weight:300; color:var(--ink); background:var(--bg); border:1px solid var(--hairline); border-radius:8px; padding:15px 18px; outline:none; letter-spacing:0.02em; transition:border-color 0.2s;" onfocus="this.style.borderColor='var(--ink)'" onblur="this.style.borderColor='var(--hairline)'">
    <input id="save-email" type="email" placeholder="Email address" style="font-family:'Jost',sans-serif; font-size:13px; font-weight:300; color:var(--ink); background:var(--bg); border:1px solid var(--hairline); border-radius:8px; padding:15px 18px; outline:none; letter-spacing:0.02em; transition:border-color 0.2s;" onfocus="this.style.borderColor='var(--ink)'" onblur="this.style.borderColor='var(--hairline)'">
    <div id="save-error" style="display:none; font-family:'Jost',sans-serif; font-size:11px; color:#A55A4A; letter-spacing:0.04em; padding:0 2px;">Please fill in all required fields.</div>
    <button onclick="confirmSaveSpot()" id="save-btn" style="font-family:'Jost',sans-serif; font-size:10px; font-weight:500; letter-spacing:0.2em; text-transform:uppercase; background:var(--ink); color:var(--bg); border:none; border-radius:8px; padding:16px; cursor:pointer; transition:background 0.2s;" onmouseover="this.style.background='#A55A4A'" onmouseout="this.style.background='var(--ink)'">Save Spot</button>
  </div>
  <div id="save-confirm" style="display:none; text-align:center; padding:20px 0 0;">
    <div style="font-size:22px; margin-bottom:12px;">♥</div>
    <p style="font-family:'Cormorant',serif; font-size:20px; font-weight:300; color:var(--ink);">Spot saved.</p>
    <p style="font-family:'Jost',sans-serif; font-size:12px; font-weight:300; color:var(--mid); margin-top:8px; letter-spacing:0.04em;">Find it anytime in My Collection.</p>
  </div>
</div>

<script>

</script>
<!-- LIGHTBOX -->
<div class="sdp-lightbox" id="sdp-lightbox" onclick="closeLightbox()">
  <button class="sdp-lightbox-close" onclick="closeLightbox()">✕</button>
  <img id="sdp-lightbox-img" src="" alt="" onclick="event.stopPropagation()">
</div>


<!-- ═══ ENQUIRY MODAL ═══ -->
<div class="enq-overlay" id="enq-overlay" onclick="closeEnquiryModal()"></div>
<div class="enq-modal" id="enq-modal">
  <button class="enq-close" onclick="closeEnquiryModal()">✕</button>
  <div class="enq-header">
    <span class="enq-eyebrow">Request this Proposal</span>
    <h2 class="enq-title" id="enq-spot-name">Request your proposal</h2>
    <p class="enq-sub">We'll confirm availability within 24 hours and send a full quote. No payment until you approve everything.</p>
  </div>

  <!-- Summary of selection -->
  <div class="enq-summary" id="enq-summary" style="display:none">
    <div class="enq-summary-row" id="enq-sum-hotel" style="display:none">
      <span class="enq-sum-lbl">Hotel</span>
      <span class="enq-sum-val" id="enq-sum-hotel-name"></span>
    </div>
    <div class="enq-summary-row" id="enq-sum-dates" style="display:none">
      <span class="enq-sum-lbl">Stay</span>
      <span class="enq-sum-val" id="enq-sum-dates-val"></span>
    </div>
    <div class="enq-summary-row" id="enq-sum-nights" style="display:none">
      <span class="enq-sum-lbl">Proposal night</span>
      <span class="enq-sum-val" id="enq-sum-nights-val"></span>
    </div>
    <div class="enq-summary-row" id="enq-sum-package" style="display:none">
      <span class="enq-sum-lbl">Package</span>
      <span class="enq-sum-val" id="enq-sum-package-val"></span>
    </div>
    <div class="enq-summary-row" id="enq-sum-total" style="display:none">
      <span class="enq-sum-lbl" style="font-weight:500;color:var(--ink)">Estimated total</span>
      <span class="enq-sum-val" id="enq-sum-total-val" style="color:#A55A4A;font-weight:500"></span>
    </div>
  </div>

  <!-- Form -->
  <div class="enq-form">
    <div class="enq-form-row">
      <div class="enq-form-field">
        <label class="enq-label">First name *</label>
        <input type="text" id="enq-first" class="enq-input" placeholder="James">
      </div>
      <div class="enq-form-field">
        <label class="enq-label">Last name *</label>
        <input type="text" id="enq-last" class="enq-input" placeholder="Chen">
      </div>
    </div>
    <div class="enq-form-field">
      <label class="enq-label">Email *</label>
      <input type="email" id="enq-email" class="enq-input" placeholder="james@example.com">
    </div>
    <div class="enq-form-field">
      <label class="enq-label">Phone / WhatsApp *</label>
      <input type="tel" id="enq-phone" class="enq-input" placeholder="+1 555 000 0000">
    </div>
    <div class="enq-form-field">
      <label class="enq-label">Partner's first name</label>
      <input type="text" id="enq-partner" class="enq-input" placeholder="Sofia">
    </div>
    <div class="enq-form-field">
      <label class="enq-label">Anything we should know?</label>
      <textarea id="enq-notes" class="enq-textarea" rows="3" placeholder="Special requests, dietary needs, how you met, anything that makes this moment more personal..."></textarea>
    </div>

    <!-- Add-ons -->
    <div class="enq-addons">
      <span class="enq-addons-label">Anything else to add?</span>
      <label class="enq-addon-check">
        <input type="checkbox" id="enq-flowers">
        <span>🌹 Flowers & décor setup</span>
      </label>
      <label class="enq-addon-check">
        <input type="checkbox" id="enq-dinner">
        <span>🍽 Private dinner reservation</span>
      </label>
      <label class="enq-addon-check">
        <input type="checkbox" id="enq-champagne">
        <span>🥂 Champagne on arrival</span>
      </label>
    </div>

    <button class="enq-submit-btn" id="enq-submit" onclick="submitEnquiry()">
      Send Enquiry →
    </button>
    <p class="enq-legal">By submitting you agree to be contacted by Proposal Spots regarding your enquiry. We do not share your details.</p>
  </div>

  <!-- Success state -->
  <div class="enq-success" id="enq-success" style="display:none">
    <div class="enq-success-icon">✦</div>
    <h3 class="enq-success-title">Enquiry received</h3>
    <p class="enq-success-msg">We'll review your request and get back to you within 24 hours with availability and a full itemised quote. Check your email — ours comes from <strong>hello@proposalspots.com</strong>.</p>
    <button class="enq-submit-btn" onclick="closeEnquiryModal()" style="margin-top:24px">Close</button>
  </div>
</div>

</body>
</html>